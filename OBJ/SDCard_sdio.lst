ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"SDCard_sdio.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "HW/SDCard/SDCard_sdio.c"
  18              		.section	.text.CmdResp1Error,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	CmdResp1Error:
  25              	.LFB55:
   1:HW/SDCard/SDCard_sdio.c **** /**
   2:HW/SDCard/SDCard_sdio.c ****   ******************************************************************************
   3:HW/SDCard/SDCard_sdio.c ****   * @file    stm32_eval_sdio_sd.c
   4:HW/SDCard/SDCard_sdio.c ****   * @author  MCD Application Team
   5:HW/SDCard/SDCard_sdio.c ****   * @version V4.5.0
   6:HW/SDCard/SDCard_sdio.c ****   * @date    07-March-2011
   7:HW/SDCard/SDCard_sdio.c ****   * @brief   This file provides a set of functions needed to manage the SDIO SD 
   8:HW/SDCard/SDCard_sdio.c ****   *          Card memory mounted on STM32xx-EVAL board (refer to stm32_eval.h
   9:HW/SDCard/SDCard_sdio.c ****   *          to know about the boards supporting this memory). 
  10:HW/SDCard/SDCard_sdio.c ****   *          
  11:HW/SDCard/SDCard_sdio.c ****   *            
  12:HW/SDCard/SDCard_sdio.c ****   *  @verbatim
  13:HW/SDCard/SDCard_sdio.c ****   *
  14:HW/SDCard/SDCard_sdio.c ****   *          ===================================================================
  15:HW/SDCard/SDCard_sdio.c ****   *                                   How to use this driver
  16:HW/SDCard/SDCard_sdio.c ****   *          ===================================================================
  17:HW/SDCard/SDCard_sdio.c ****   *          It implements a high level communication layer for read and write 
  18:HW/SDCard/SDCard_sdio.c ****   *          from/to this memory. The needed STM32 hardware resources (SDIO and 
  19:HW/SDCard/SDCard_sdio.c ****   *          GPIO) are defined in stm32xx_eval.h file, and the initialization is 
  20:HW/SDCard/SDCard_sdio.c ****   *          performed in SD_LowLevel_Init() function declared in stm32xx_eval.c 
  21:HW/SDCard/SDCard_sdio.c ****   *          file.
  22:HW/SDCard/SDCard_sdio.c ****   *          You can easily tailor this driver to any other development board, 
  23:HW/SDCard/SDCard_sdio.c ****   *          by just adapting the defines for hardware resources and 
  24:HW/SDCard/SDCard_sdio.c ****   *          SD_LowLevel_Init() function.
  25:HW/SDCard/SDCard_sdio.c ****   *            
  26:HW/SDCard/SDCard_sdio.c ****   *          A - SD Card Initialization and configuration
  27:HW/SDCard/SDCard_sdio.c ****   *          ============================================    
  28:HW/SDCard/SDCard_sdio.c ****   *            - To initialize the SD Card, use the SD_Init() function.  It 
  29:HW/SDCard/SDCard_sdio.c ****   *              Initializes the SD Card and put it into StandBy State (Ready 
  30:HW/SDCard/SDCard_sdio.c ****   *              for data transfer). This function provide the following operations:
  31:HW/SDCard/SDCard_sdio.c ****   *           
  32:HW/SDCard/SDCard_sdio.c ****   *              1 - Apply the SD Card initialization process at 400KHz and check
  33:HW/SDCard/SDCard_sdio.c ****   *                  the SD Card type (Standard Capacity or High Capacity). You 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 2


  34:HW/SDCard/SDCard_sdio.c ****   *                  can change or adapt this frequency by adjusting the 
  35:HW/SDCard/SDCard_sdio.c ****   *                  "SDIO_INIT_CLK_DIV" define inside the stm32xx_eval.h file. 
  36:HW/SDCard/SDCard_sdio.c ****   *                  The SD Card frequency (SDIO_CK) is computed as follows:
  37:HW/SDCard/SDCard_sdio.c ****   *                    
  38:HW/SDCard/SDCard_sdio.c ****   *                     +---------------------------------------------+    
  39:HW/SDCard/SDCard_sdio.c ****   *                     | SDIO_CK = SDIOCLK / (SDIO_INIT_CLK_DIV + 2) |
  40:HW/SDCard/SDCard_sdio.c ****   *                     +---------------------------------------------+  
  41:HW/SDCard/SDCard_sdio.c ****   *                          
  42:HW/SDCard/SDCard_sdio.c ****   *                  In initialization mode and according to the SD Card standard, 
  43:HW/SDCard/SDCard_sdio.c ****   *                  make sure that the SDIO_CK frequency don't exceed 400KHz.        
  44:HW/SDCard/SDCard_sdio.c ****   *         
  45:HW/SDCard/SDCard_sdio.c ****   *              2 - Get the SD CID and CSD data. All these information are
  46:HW/SDCard/SDCard_sdio.c ****   *                  managed by the SDCardInfo structure. This structure provide
  47:HW/SDCard/SDCard_sdio.c ****   *                  also ready computed SD Card capacity and Block size.   
  48:HW/SDCard/SDCard_sdio.c ****   *
  49:HW/SDCard/SDCard_sdio.c ****   *              3 - Configure the SD Card Data transfer frequency. By Default,
  50:HW/SDCard/SDCard_sdio.c ****   *                  the card transfer frequency is set to 24MHz. You can change
  51:HW/SDCard/SDCard_sdio.c ****   *                  or adapt this frequency by adjusting the "SDIO_TRANSFER_CLK_DIV" 
  52:HW/SDCard/SDCard_sdio.c ****   *                  define inside the stm32xx_eval.h file.
  53:HW/SDCard/SDCard_sdio.c ****   *                  The SD Card frequency (SDIO_CK) is computed as follows:
  54:HW/SDCard/SDCard_sdio.c ****   *                    
  55:HW/SDCard/SDCard_sdio.c ****   *                     +---------------------------------------------+    
  56:HW/SDCard/SDCard_sdio.c ****   *                     | SDIO_CK = SDIOCLK / (SDIO_INIT_CLK_DIV + 2) |
  57:HW/SDCard/SDCard_sdio.c ****   *                     +---------------------------------------------+     
  58:HW/SDCard/SDCard_sdio.c ****   *                                    
  59:HW/SDCard/SDCard_sdio.c ****   *                  In transfer mode and according to the SD Card standard, 
  60:HW/SDCard/SDCard_sdio.c ****   *                  make sure that the SDIO_CK frequency don't exceed 25MHz
  61:HW/SDCard/SDCard_sdio.c ****   *                  and 50MHz in High-speed mode switch.
  62:HW/SDCard/SDCard_sdio.c ****   *                  To be able to use a frequency higher than 24MHz, you should
  63:HW/SDCard/SDCard_sdio.c ****   *                  use the SDIO peripheral in bypass mode. Refer to the 
  64:HW/SDCard/SDCard_sdio.c ****   *                  corresponding reference manual for more details.
  65:HW/SDCard/SDCard_sdio.c ****   *                    
  66:HW/SDCard/SDCard_sdio.c ****   *              4 -  Select the corresponding SD Card according to the address
  67:HW/SDCard/SDCard_sdio.c ****   *                   read with the step 2.
  68:HW/SDCard/SDCard_sdio.c ****   *                                   
  69:HW/SDCard/SDCard_sdio.c ****   *              5 -  Configure the SD Card in wide bus mode: 4-bits data.                
  70:HW/SDCard/SDCard_sdio.c ****   *
  71:HW/SDCard/SDCard_sdio.c ****   *          B - SD Card Read operation
  72:HW/SDCard/SDCard_sdio.c ****   *          ========================== 
  73:HW/SDCard/SDCard_sdio.c ****   *           - You can read SD card by using two function: SD_ReadBlock() and
  74:HW/SDCard/SDCard_sdio.c ****   *             SD_ReadMultiBlocks() functions. These functions support only
  75:HW/SDCard/SDCard_sdio.c ****   *             512-byte block length.
  76:HW/SDCard/SDCard_sdio.c ****   *           - The SD_ReadBlock() function read only one block (512-byte). This
  77:HW/SDCard/SDCard_sdio.c ****   *             function can transfer the data using DMA controller or using 
  78:HW/SDCard/SDCard_sdio.c ****   *             polling mode. To select between DMA or polling mode refer to 
  79:HW/SDCard/SDCard_sdio.c ****   *             "SD_DMA_MODE" or "SD_POLLING_MODE" inside the stm32_eval_sdio_sd.h
  80:HW/SDCard/SDCard_sdio.c ****   *             file and uncomment the corresponding line. By default the SD DMA
  81:HW/SDCard/SDCard_sdio.c ****   *             mode is selected          
  82:HW/SDCard/SDCard_sdio.c ****   *           - The SD_ReadMultiBlocks() function read only mutli blocks (multiple 
  83:HW/SDCard/SDCard_sdio.c ****   *             of 512-byte). 
  84:HW/SDCard/SDCard_sdio.c ****   *           - Any read operation should be followed by two functions to check
  85:HW/SDCard/SDCard_sdio.c ****   *             if the DMA Controller and SD Card status.
  86:HW/SDCard/SDCard_sdio.c ****   *              - SD_ReadWaitOperation(): this function insure that the DMA
  87:HW/SDCard/SDCard_sdio.c ****   *                controller has finished all data transfer.
  88:HW/SDCard/SDCard_sdio.c ****   *              - SD_GetStatus(): to check that the SD Card has finished the 
  89:HW/SDCard/SDCard_sdio.c ****   *                data transfer and it is ready for data.
  90:HW/SDCard/SDCard_sdio.c ****   *                  
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 3


  91:HW/SDCard/SDCard_sdio.c ****   *           - The DMA transfer is finished by the SDIO Data End interrupt. User
  92:HW/SDCard/SDCard_sdio.c ****   *             has to call the SD_ProcessIRQ() function inside the SDIO_IRQHandler().
  93:HW/SDCard/SDCard_sdio.c ****   *             Don't forget to enable the SDIO_IRQn interrupt using the NVIC controller.      
  94:HW/SDCard/SDCard_sdio.c ****   *                
  95:HW/SDCard/SDCard_sdio.c ****   *          C - SD Card Write operation
  96:HW/SDCard/SDCard_sdio.c ****   *          =========================== 
  97:HW/SDCard/SDCard_sdio.c ****   *           - You can write SD card by using two function: SD_WriteBlock() and
  98:HW/SDCard/SDCard_sdio.c ****   *             SD_WriteMultiBlocks() functions. These functions support only
  99:HW/SDCard/SDCard_sdio.c ****   *             512-byte block length.   
 100:HW/SDCard/SDCard_sdio.c ****   *           - The SD_WriteBlock() function write only one block (512-byte). This
 101:HW/SDCard/SDCard_sdio.c ****   *             function can transfer the data using DMA controller or using 
 102:HW/SDCard/SDCard_sdio.c ****   *             polling mode. To select between DMA or polling mode refer to 
 103:HW/SDCard/SDCard_sdio.c ****   *             "SD_DMA_MODE" or "SD_POLLING_MODE" inside the stm32_eval_sdio_sd.h
 104:HW/SDCard/SDCard_sdio.c ****   *             file and uncomment the corresponding line. By default the SD DMA
 105:HW/SDCard/SDCard_sdio.c ****   *             mode is selected          
 106:HW/SDCard/SDCard_sdio.c ****   *           - The SD_WriteMultiBlocks() function write only mutli blocks (multiple 
 107:HW/SDCard/SDCard_sdio.c ****   *             of 512-byte). 
 108:HW/SDCard/SDCard_sdio.c ****   *           - Any write operation should be followed by two functions to check
 109:HW/SDCard/SDCard_sdio.c ****   *             if the DMA Controller and SD Card status.
 110:HW/SDCard/SDCard_sdio.c ****   *              - SD_ReadWaitOperation(): this function insure that the DMA
 111:HW/SDCard/SDCard_sdio.c ****   *                controller has finished all data transfer.
 112:HW/SDCard/SDCard_sdio.c ****   *              - SD_GetStatus(): to check that the SD Card has finished the 
 113:HW/SDCard/SDCard_sdio.c ****   *                data transfer and it is ready for data.         
 114:HW/SDCard/SDCard_sdio.c ****   *                
 115:HW/SDCard/SDCard_sdio.c ****   *           - The DMA transfer is finished by the SDIO Data End interrupt. User
 116:HW/SDCard/SDCard_sdio.c ****   *             has to call the SD_ProcessIRQ() function inside the SDIO_IRQHandler().
 117:HW/SDCard/SDCard_sdio.c ****   *             Don't forget to enable the SDIO_IRQn interrupt using the NVIC controller.      
 118:HW/SDCard/SDCard_sdio.c ****                
 119:HW/SDCard/SDCard_sdio.c ****   *             
 120:HW/SDCard/SDCard_sdio.c ****   *          D - SD card status
 121:HW/SDCard/SDCard_sdio.c ****   *          ================== 
 122:HW/SDCard/SDCard_sdio.c ****   *           - At any time, you can check the SD Card status and get the SD card
 123:HW/SDCard/SDCard_sdio.c ****   *             state by using the SD_GetStatus() function. This function checks
 124:HW/SDCard/SDCard_sdio.c ****   *             first if the SD card is still connected and then get the internal
 125:HW/SDCard/SDCard_sdio.c ****   *             SD Card transfer state.     
 126:HW/SDCard/SDCard_sdio.c ****   *           - You can also get the SD card SD Status register by using the 
 127:HW/SDCard/SDCard_sdio.c ****   *             SD_SendSDStatus() function.       
 128:HW/SDCard/SDCard_sdio.c ****   *               
 129:HW/SDCard/SDCard_sdio.c ****   *          E - Programming Model
 130:HW/SDCard/SDCard_sdio.c ****   *          ===================== 
 131:HW/SDCard/SDCard_sdio.c ****   *             Status = SD_Init(); // Initialization Step as described in section A
 132:HW/SDCard/SDCard_sdio.c ****   *               
 133:HW/SDCard/SDCard_sdio.c ****   *             // SDIO Interrupt ENABLE
 134:HW/SDCard/SDCard_sdio.c ****   *             NVIC_InitStructure.NVIC_IRQChannel = SDIO_IRQn;
 135:HW/SDCard/SDCard_sdio.c ****   *             NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
 136:HW/SDCard/SDCard_sdio.c ****   *             NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;
 137:HW/SDCard/SDCard_sdio.c ****   *             NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 138:HW/SDCard/SDCard_sdio.c ****   *             NVIC_Init(&NVIC_InitStructure);
 139:HW/SDCard/SDCard_sdio.c ****   *             
 140:HW/SDCard/SDCard_sdio.c ****   *             // Write operation as described in Section C
 141:HW/SDCard/SDCard_sdio.c ****   *             Status = SD_WriteBlock(buffer, address, 512);
 142:HW/SDCard/SDCard_sdio.c ****   *             Status = SD_WaitWriteOperation();
 143:HW/SDCard/SDCard_sdio.c ****   *             while(SD_GetStatus() != SD_TRANSFER_OK); 
 144:HW/SDCard/SDCard_sdio.c ****   *             
 145:HW/SDCard/SDCard_sdio.c ****   *             Status = SD_WriteMultiBlocks(buffer, address, 512, NUMBEROFBLOCKS);
 146:HW/SDCard/SDCard_sdio.c ****   *             Status = SD_WaitWriteOperation();
 147:HW/SDCard/SDCard_sdio.c ****   *             while(SD_GetStatus() != SD_TRANSFER_OK);     
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 4


 148:HW/SDCard/SDCard_sdio.c ****   *             
 149:HW/SDCard/SDCard_sdio.c ****   *             // Read operation as described in Section B
 150:HW/SDCard/SDCard_sdio.c ****   *             Status = SD_ReadBlock(buffer, address, 512);
 151:HW/SDCard/SDCard_sdio.c ****   *             Status = SD_WaitReadOperation();
 152:HW/SDCard/SDCard_sdio.c ****   *             while(SD_GetStatus() != SD_TRANSFER_OK);
 153:HW/SDCard/SDCard_sdio.c ****   *             
 154:HW/SDCard/SDCard_sdio.c ****   *             Status = SD_ReadMultiBlocks(buffer, address, 512, NUMBEROFBLOCKS);
 155:HW/SDCard/SDCard_sdio.c ****   *             Status = SD_WaitReadOperation();
 156:HW/SDCard/SDCard_sdio.c ****   *             while(SD_GetStatus() != SD_TRANSFER_OK);            
 157:HW/SDCard/SDCard_sdio.c ****   *               
 158:HW/SDCard/SDCard_sdio.c ****   *                                     
 159:HW/SDCard/SDCard_sdio.c ****   *          STM32 SDIO Pin assignment
 160:HW/SDCard/SDCard_sdio.c ****   *          =========================    
 161:HW/SDCard/SDCard_sdio.c ****   *          +-----------------------------------------------------------+
 162:HW/SDCard/SDCard_sdio.c ****   *          |                     Pin assignment                        |
 163:HW/SDCard/SDCard_sdio.c ****   *          +-----------------------------+---------------+-------------+
 164:HW/SDCard/SDCard_sdio.c ****   *          |  STM32 SDIO Pins            |     SD        |    Pin      |
 165:HW/SDCard/SDCard_sdio.c ****   *          +-----------------------------+---------------+-------------+
 166:HW/SDCard/SDCard_sdio.c ****   *          |      SDIO D2                |   D2          |    1        |
 167:HW/SDCard/SDCard_sdio.c ****   *          |      SDIO D3                |   D3          |    2        |
 168:HW/SDCard/SDCard_sdio.c ****   *          |      SDIO CMD               |   CMD         |    3        |
 169:HW/SDCard/SDCard_sdio.c ****   *          |                             |   VCC         |    4 (3.3 V)|
 170:HW/SDCard/SDCard_sdio.c ****   *          |      SDIO CLK               |   CLK         |    5        |
 171:HW/SDCard/SDCard_sdio.c ****   *          |                             |   GND         |    6 (0 V)  |
 172:HW/SDCard/SDCard_sdio.c ****   *          |      SDIO D0                |   D0          |    7        |
 173:HW/SDCard/SDCard_sdio.c ****   *          |      SDIO D1                |   D1          |    8        |  
 174:HW/SDCard/SDCard_sdio.c ****   *          +-----------------------------+---------------+-------------+  
 175:HW/SDCard/SDCard_sdio.c ****   *              
 176:HW/SDCard/SDCard_sdio.c ****   *  @endverbatim                
 177:HW/SDCard/SDCard_sdio.c ****   *             
 178:HW/SDCard/SDCard_sdio.c ****   ******************************************************************************
 179:HW/SDCard/SDCard_sdio.c ****   * @attention
 180:HW/SDCard/SDCard_sdio.c ****   *
 181:HW/SDCard/SDCard_sdio.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
 182:HW/SDCard/SDCard_sdio.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
 183:HW/SDCard/SDCard_sdio.c ****   * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
 184:HW/SDCard/SDCard_sdio.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
 185:HW/SDCard/SDCard_sdio.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
 186:HW/SDCard/SDCard_sdio.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
 187:HW/SDCard/SDCard_sdio.c ****   *
 188:HW/SDCard/SDCard_sdio.c ****   * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
 189:HW/SDCard/SDCard_sdio.c ****   ******************************************************************************  
 190:HW/SDCard/SDCard_sdio.c ****   */ 
 191:HW/SDCard/SDCard_sdio.c **** 
 192:HW/SDCard/SDCard_sdio.c **** /* Includes ------------------------------------------------------------------*/
 193:HW/SDCard/SDCard_sdio.c **** #include "SDCard_sdio.h"
 194:HW/SDCard/SDCard_sdio.c **** 
 195:HW/SDCard/SDCard_sdio.c **** void SD_NVIC_Configuration(void);
 196:HW/SDCard/SDCard_sdio.c **** void SD_RxDMA_Configuration(uint32_t* dst, uint32_t size);
 197:HW/SDCard/SDCard_sdio.c **** void SD_TxDMA_Configuration(uint32_t* src, uint32_t size);
 198:HW/SDCard/SDCard_sdio.c **** 
 199:HW/SDCard/SDCard_sdio.c **** /** @addtogroup Utilities
 200:HW/SDCard/SDCard_sdio.c ****   * @{
 201:HW/SDCard/SDCard_sdio.c ****   */
 202:HW/SDCard/SDCard_sdio.c ****   
 203:HW/SDCard/SDCard_sdio.c **** /** @addtogroup STM32_EVAL
 204:HW/SDCard/SDCard_sdio.c ****   * @{
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 5


 205:HW/SDCard/SDCard_sdio.c ****   */ 
 206:HW/SDCard/SDCard_sdio.c **** 
 207:HW/SDCard/SDCard_sdio.c **** /** @addtogroup Common
 208:HW/SDCard/SDCard_sdio.c ****   * @{
 209:HW/SDCard/SDCard_sdio.c ****   */
 210:HW/SDCard/SDCard_sdio.c ****   
 211:HW/SDCard/SDCard_sdio.c **** /** @addtogroup STM32_EVAL_SDIO_SD
 212:HW/SDCard/SDCard_sdio.c ****   * @brief      This file provides all the SD Card driver firmware functions.
 213:HW/SDCard/SDCard_sdio.c ****   * @{
 214:HW/SDCard/SDCard_sdio.c ****   */ 
 215:HW/SDCard/SDCard_sdio.c **** 
 216:HW/SDCard/SDCard_sdio.c **** /** @defgroup STM32_EVAL_SDIO_SD_Private_Types
 217:HW/SDCard/SDCard_sdio.c ****   * @{
 218:HW/SDCard/SDCard_sdio.c ****   */ 
 219:HW/SDCard/SDCard_sdio.c **** /**
 220:HW/SDCard/SDCard_sdio.c ****   * @}
 221:HW/SDCard/SDCard_sdio.c ****   */ 
 222:HW/SDCard/SDCard_sdio.c **** 
 223:HW/SDCard/SDCard_sdio.c **** 
 224:HW/SDCard/SDCard_sdio.c **** /** @defgroup STM32_EVAL_SDIO_SD_Private_Defines
 225:HW/SDCard/SDCard_sdio.c ****   * @{
 226:HW/SDCard/SDCard_sdio.c ****   */ 
 227:HW/SDCard/SDCard_sdio.c **** /** 
 228:HW/SDCard/SDCard_sdio.c ****   * @brief  SDIO Static flags, TimeOut, FIFO Address  
 229:HW/SDCard/SDCard_sdio.c ****   */
 230:HW/SDCard/SDCard_sdio.c **** #define NULL 0
 231:HW/SDCard/SDCard_sdio.c **** #define SDIO_STATIC_FLAGS               ((uint32_t)0x000005FF)
 232:HW/SDCard/SDCard_sdio.c **** #define SDIO_CMD0TIMEOUT                ((uint32_t)0x00010000)
 233:HW/SDCard/SDCard_sdio.c **** 
 234:HW/SDCard/SDCard_sdio.c **** /** 
 235:HW/SDCard/SDCard_sdio.c ****   * @brief  Mask for errors Card Status R1 (OCR Register) 
 236:HW/SDCard/SDCard_sdio.c ****   */
 237:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_ADDR_OUT_OF_RANGE        ((uint32_t)0x80000000)
 238:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_ADDR_MISALIGNED          ((uint32_t)0x40000000)
 239:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_BLOCK_LEN_ERR            ((uint32_t)0x20000000)
 240:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_ERASE_SEQ_ERR            ((uint32_t)0x10000000)
 241:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_BAD_ERASE_PARAM          ((uint32_t)0x08000000)
 242:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_WRITE_PROT_VIOLATION     ((uint32_t)0x04000000)
 243:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_LOCK_UNLOCK_FAILED       ((uint32_t)0x01000000)
 244:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_COM_CRC_FAILED           ((uint32_t)0x00800000)
 245:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_ILLEGAL_CMD              ((uint32_t)0x00400000)
 246:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_CARD_ECC_FAILED          ((uint32_t)0x00200000)
 247:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_CC_ERROR                 ((uint32_t)0x00100000)
 248:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_GENERAL_UNKNOWN_ERROR    ((uint32_t)0x00080000)
 249:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_STREAM_READ_UNDERRUN     ((uint32_t)0x00040000)
 250:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_STREAM_WRITE_OVERRUN     ((uint32_t)0x00020000)
 251:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_CID_CSD_OVERWRIETE       ((uint32_t)0x00010000)
 252:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_WP_ERASE_SKIP            ((uint32_t)0x00008000)
 253:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_CARD_ECC_DISABLED        ((uint32_t)0x00004000)
 254:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_ERASE_RESET              ((uint32_t)0x00002000)
 255:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_AKE_SEQ_ERROR            ((uint32_t)0x00000008)
 256:HW/SDCard/SDCard_sdio.c **** #define SD_OCR_ERRORBITS                ((uint32_t)0xFDFFE008)
 257:HW/SDCard/SDCard_sdio.c **** 
 258:HW/SDCard/SDCard_sdio.c **** /** 
 259:HW/SDCard/SDCard_sdio.c ****   * @brief  Masks for R6 Response 
 260:HW/SDCard/SDCard_sdio.c ****   */
 261:HW/SDCard/SDCard_sdio.c **** #define SD_R6_GENERAL_UNKNOWN_ERROR     ((uint32_t)0x00002000)
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 6


 262:HW/SDCard/SDCard_sdio.c **** #define SD_R6_ILLEGAL_CMD               ((uint32_t)0x00004000)
 263:HW/SDCard/SDCard_sdio.c **** #define SD_R6_COM_CRC_FAILED            ((uint32_t)0x00008000)
 264:HW/SDCard/SDCard_sdio.c **** 
 265:HW/SDCard/SDCard_sdio.c **** #define SD_VOLTAGE_WINDOW_SD            ((uint32_t)0x80100000)
 266:HW/SDCard/SDCard_sdio.c **** #define SD_HIGH_CAPACITY                ((uint32_t)0x40000000)
 267:HW/SDCard/SDCard_sdio.c **** #define SD_STD_CAPACITY                 ((uint32_t)0x00000000)
 268:HW/SDCard/SDCard_sdio.c **** #define SD_CHECK_PATTERN                ((uint32_t)0x000001AA)
 269:HW/SDCard/SDCard_sdio.c **** 
 270:HW/SDCard/SDCard_sdio.c **** #define SD_MAX_VOLT_TRIAL               ((uint32_t)0x0000FFFF)
 271:HW/SDCard/SDCard_sdio.c **** #define SD_ALLZERO                      ((uint32_t)0x00000000)
 272:HW/SDCard/SDCard_sdio.c **** 
 273:HW/SDCard/SDCard_sdio.c **** #define SD_WIDE_BUS_SUPPORT             ((uint32_t)0x00040000)
 274:HW/SDCard/SDCard_sdio.c **** #define SD_SINGLE_BUS_SUPPORT           ((uint32_t)0x00010000)
 275:HW/SDCard/SDCard_sdio.c **** #define SD_CARD_LOCKED                  ((uint32_t)0x02000000)
 276:HW/SDCard/SDCard_sdio.c **** 
 277:HW/SDCard/SDCard_sdio.c **** #define SD_DATATIMEOUT                  ((uint32_t)0xFFFFFFFF)
 278:HW/SDCard/SDCard_sdio.c **** #define SD_0TO7BITS                     ((uint32_t)0x000000FF)
 279:HW/SDCard/SDCard_sdio.c **** #define SD_8TO15BITS                    ((uint32_t)0x0000FF00)
 280:HW/SDCard/SDCard_sdio.c **** #define SD_16TO23BITS                   ((uint32_t)0x00FF0000)
 281:HW/SDCard/SDCard_sdio.c **** #define SD_24TO31BITS                   ((uint32_t)0xFF000000)
 282:HW/SDCard/SDCard_sdio.c **** #define SD_MAX_DATA_LENGTH              ((uint32_t)0x01FFFFFF)
 283:HW/SDCard/SDCard_sdio.c **** 
 284:HW/SDCard/SDCard_sdio.c **** #define SD_HALFFIFO                     ((uint32_t)0x00000008)
 285:HW/SDCard/SDCard_sdio.c **** #define SD_HALFFIFOBYTES                ((uint32_t)0x00000020)
 286:HW/SDCard/SDCard_sdio.c **** 
 287:HW/SDCard/SDCard_sdio.c **** /** 
 288:HW/SDCard/SDCard_sdio.c ****   * @brief  Command Class Supported 
 289:HW/SDCard/SDCard_sdio.c ****   */
 290:HW/SDCard/SDCard_sdio.c **** #define SD_CCCC_LOCK_UNLOCK             ((uint32_t)0x00000080)
 291:HW/SDCard/SDCard_sdio.c **** #define SD_CCCC_WRITE_PROT              ((uint32_t)0x00000040)
 292:HW/SDCard/SDCard_sdio.c **** #define SD_CCCC_ERASE                   ((uint32_t)0x00000020)
 293:HW/SDCard/SDCard_sdio.c **** 
 294:HW/SDCard/SDCard_sdio.c **** /** 
 295:HW/SDCard/SDCard_sdio.c ****   * @brief  Following commands are SD Card Specific commands.
 296:HW/SDCard/SDCard_sdio.c ****   *         SDIO_APP_CMD should be sent before sending these commands. 
 297:HW/SDCard/SDCard_sdio.c ****   */
 298:HW/SDCard/SDCard_sdio.c **** #define SDIO_SEND_IF_COND               ((uint32_t)0x00000008)
 299:HW/SDCard/SDCard_sdio.c **** 
 300:HW/SDCard/SDCard_sdio.c **** /**
 301:HW/SDCard/SDCard_sdio.c ****   * @}
 302:HW/SDCard/SDCard_sdio.c ****   */ 
 303:HW/SDCard/SDCard_sdio.c **** 
 304:HW/SDCard/SDCard_sdio.c **** 
 305:HW/SDCard/SDCard_sdio.c **** /** @defgroup STM32_EVAL_SDIO_SD_Private_Macros
 306:HW/SDCard/SDCard_sdio.c ****   * @{
 307:HW/SDCard/SDCard_sdio.c ****   */
 308:HW/SDCard/SDCard_sdio.c **** /**
 309:HW/SDCard/SDCard_sdio.c ****   * @}
 310:HW/SDCard/SDCard_sdio.c ****   */ 
 311:HW/SDCard/SDCard_sdio.c ****   
 312:HW/SDCard/SDCard_sdio.c **** 
 313:HW/SDCard/SDCard_sdio.c **** /** @defgroup STM32_EVAL_SDIO_SD_Private_Variables
 314:HW/SDCard/SDCard_sdio.c ****   * @{
 315:HW/SDCard/SDCard_sdio.c ****   */
 316:HW/SDCard/SDCard_sdio.c **** static uint32_t CardType =  SDIO_STD_CAPACITY_SD_CARD_V1_1;
 317:HW/SDCard/SDCard_sdio.c **** static uint32_t CSD_Tab[4], CID_Tab[4], RCA = 0;
 318:HW/SDCard/SDCard_sdio.c **** static uint8_t SDSTATUS_Tab[16];
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 7


 319:HW/SDCard/SDCard_sdio.c **** __IO uint32_t StopCondition = 0;
 320:HW/SDCard/SDCard_sdio.c **** __IO SD_Error TransferError = SD_OK;
 321:HW/SDCard/SDCard_sdio.c **** __IO uint32_t TransferEnd = 0;
 322:HW/SDCard/SDCard_sdio.c **** SD_CardInfo SDCardInfo;
 323:HW/SDCard/SDCard_sdio.c **** 
 324:HW/SDCard/SDCard_sdio.c **** SDIO_InitTypeDef SDIO_InitStructure;
 325:HW/SDCard/SDCard_sdio.c **** SDIO_CmdInitTypeDef SDIO_CmdInitStructure;
 326:HW/SDCard/SDCard_sdio.c **** SDIO_DataInitTypeDef SDIO_DataInitStructure;   
 327:HW/SDCard/SDCard_sdio.c **** /**
 328:HW/SDCard/SDCard_sdio.c ****   * @}			     
 329:HW/SDCard/SDCard_sdio.c ****   */ 
 330:HW/SDCard/SDCard_sdio.c **** 
 331:HW/SDCard/SDCard_sdio.c **** 
 332:HW/SDCard/SDCard_sdio.c **** /** @defgroup STM32_EVAL_SDIO_SD_Private_Function_Prototypes
 333:HW/SDCard/SDCard_sdio.c ****   * @{
 334:HW/SDCard/SDCard_sdio.c ****   */
 335:HW/SDCard/SDCard_sdio.c **** static SD_Error CmdError(void);
 336:HW/SDCard/SDCard_sdio.c **** static SD_Error CmdResp1Error(uint8_t cmd);
 337:HW/SDCard/SDCard_sdio.c **** static SD_Error CmdResp7Error(void);
 338:HW/SDCard/SDCard_sdio.c **** static SD_Error CmdResp3Error(void);
 339:HW/SDCard/SDCard_sdio.c **** static SD_Error CmdResp2Error(void);
 340:HW/SDCard/SDCard_sdio.c **** static SD_Error CmdResp6Error(uint8_t cmd, uint16_t *prca);
 341:HW/SDCard/SDCard_sdio.c **** static SD_Error SDEnWideBus(FunctionalState NewState);
 342:HW/SDCard/SDCard_sdio.c **** static SD_Error IsCardProgramming(uint8_t *pstatus);
 343:HW/SDCard/SDCard_sdio.c **** static SD_Error FindSCR(uint16_t rca, uint32_t *pscr);
 344:HW/SDCard/SDCard_sdio.c **** uint8_t convert_from_bytes_to_power_of_two(uint16_t NumberOfBytes);
 345:HW/SDCard/SDCard_sdio.c ****   
 346:HW/SDCard/SDCard_sdio.c **** /**
 347:HW/SDCard/SDCard_sdio.c ****   * @}
 348:HW/SDCard/SDCard_sdio.c ****   */ 
 349:HW/SDCard/SDCard_sdio.c **** 
 350:HW/SDCard/SDCard_sdio.c **** 
 351:HW/SDCard/SDCard_sdio.c **** /** @defgroup STM32_EVAL_SDIO_SD_Private_Functions
 352:HW/SDCard/SDCard_sdio.c ****   * @{
 353:HW/SDCard/SDCard_sdio.c ****   */  
 354:HW/SDCard/SDCard_sdio.c **** 
 355:HW/SDCard/SDCard_sdio.c **** /**
 356:HW/SDCard/SDCard_sdio.c ****   * @brief  DeInitializes the SDIO interface.
 357:HW/SDCard/SDCard_sdio.c ****   * @param  None
 358:HW/SDCard/SDCard_sdio.c ****   * @retval None
 359:HW/SDCard/SDCard_sdio.c ****   */
 360:HW/SDCard/SDCard_sdio.c **** void SD_DeInit(void)
 361:HW/SDCard/SDCard_sdio.c **** { 
 362:HW/SDCard/SDCard_sdio.c ****   SD_LowLevel_DeInit();
 363:HW/SDCard/SDCard_sdio.c **** }
 364:HW/SDCard/SDCard_sdio.c **** 
 365:HW/SDCard/SDCard_sdio.c **** /**
 366:HW/SDCard/SDCard_sdio.c ****   * @brief  Initializes the SD Card and put it into StandBy State (Ready for data 
 367:HW/SDCard/SDCard_sdio.c ****   *         transfer).
 368:HW/SDCard/SDCard_sdio.c ****   * @param  None
 369:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
 370:HW/SDCard/SDCard_sdio.c ****   */
 371:HW/SDCard/SDCard_sdio.c **** SD_Error SD_Init(void)
 372:HW/SDCard/SDCard_sdio.c **** {
 373:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 374:HW/SDCard/SDCard_sdio.c **** 
 375:HW/SDCard/SDCard_sdio.c ****   /* ÈÖçÁΩÆSDÂç°‰∏≠Êñ≠ */
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 8


 376:HW/SDCard/SDCard_sdio.c ****   SD_NVIC_Configuration();
 377:HW/SDCard/SDCard_sdio.c **** 
 378:HW/SDCard/SDCard_sdio.c ****   /* ÈÖçÁΩÆSDIOÁöÑGPIOÂºïËÑö */
 379:HW/SDCard/SDCard_sdio.c ****   SD_GPIO_Configuration();
 380:HW/SDCard/SDCard_sdio.c **** 
 381:HW/SDCard/SDCard_sdio.c ****   /* SDIO Peripheral Low Level Init */
 382:HW/SDCard/SDCard_sdio.c ****   SD_LowLevel_Init();
 383:HW/SDCard/SDCard_sdio.c **** 
 384:HW/SDCard/SDCard_sdio.c ****   /* Â§ç‰ΩçSDIOÊâÄÊúâÂØÑÂ≠òÂô® */
 385:HW/SDCard/SDCard_sdio.c ****   SDIO_DeInit();
 386:HW/SDCard/SDCard_sdio.c **** 
 387:HW/SDCard/SDCard_sdio.c ****   /* ‰∏äÁîµËØÜÂà´Èò∂ÊÆµÔºåËØÜÂà´ÂÆπÈáèÂûãÂè∑„ÄÅÊ£ÄÊü•ÁîµÂéãÊîØÊåÅ */
 388:HW/SDCard/SDCard_sdio.c ****   errorstatus = SD_PowerON();
 389:HW/SDCard/SDCard_sdio.c **** 
 390:HW/SDCard/SDCard_sdio.c ****   if (errorstatus != SD_OK)
 391:HW/SDCard/SDCard_sdio.c ****   {
 392:HW/SDCard/SDCard_sdio.c ****     /*!< CMD Response TimeOut (wait for CMDSENT flag) */
 393:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 394:HW/SDCard/SDCard_sdio.c ****   }
 395:HW/SDCard/SDCard_sdio.c **** 
 396:HW/SDCard/SDCard_sdio.c ****   /* ÂàùÂßãÂåñÈò∂ÊÆµÔºåËØªSDÂç°ÁöÑCID„ÄÅRCA„ÄÅCSD‰ø°ÊÅØ */
 397:HW/SDCard/SDCard_sdio.c ****   errorstatus = SD_InitializeCards();
 398:HW/SDCard/SDCard_sdio.c **** 
 399:HW/SDCard/SDCard_sdio.c ****   if (errorstatus != SD_OK)
 400:HW/SDCard/SDCard_sdio.c ****   {
 401:HW/SDCard/SDCard_sdio.c ****     /*!< CMD Response TimeOut (wait for CMDSENT flag) */
 402:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 403:HW/SDCard/SDCard_sdio.c ****   }
 404:HW/SDCard/SDCard_sdio.c **** 
 405:HW/SDCard/SDCard_sdio.c ****   /* Êï∞ÊçÆ‰º†ËæìÈò∂ÊÆµ */
 406:HW/SDCard/SDCard_sdio.c ****   /*!< Configure the SDIO peripheral */
 407:HW/SDCard/SDCard_sdio.c ****   /*!< SDIOCLK = HCLK, SDIO_CK = HCLK/(2 + SDIO_TRANSFER_CLK_DIV) */
 408:HW/SDCard/SDCard_sdio.c ****   /*!< on STM32F2xx devices, SDIOCLK is fixed to 48MHz */  
 409:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockDiv = SDIO_TRANSFER_CLK_DIV; 
 410:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 411:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
 412:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
 413:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_1b;
 414:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
 415:HW/SDCard/SDCard_sdio.c ****   SDIO_Init(&SDIO_InitStructure);
 416:HW/SDCard/SDCard_sdio.c ****   
 417:HW/SDCard/SDCard_sdio.c ****   /* Êñ∞Èò∂ÊÆµSDIOÈáçÊñ∞ÂàùÂßãÂåñ‰πãÂêéÔºåÈáçÊñ∞ËØªÂèñSDÂç°‰ø°ÊÅØ */
 418:HW/SDCard/SDCard_sdio.c ****   if (errorstatus == SD_OK)
 419:HW/SDCard/SDCard_sdio.c ****   {
 420:HW/SDCard/SDCard_sdio.c ****     /*----------------- Read CSD/CID MSD registers ------------------*/
 421:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_GetCardInfo(&SDCardInfo);
 422:HW/SDCard/SDCard_sdio.c ****   }
 423:HW/SDCard/SDCard_sdio.c **** 
 424:HW/SDCard/SDCard_sdio.c ****   /* CMD7: ÈÄâ‰∏≠SDÂç° */
 425:HW/SDCard/SDCard_sdio.c ****   if (errorstatus == SD_OK)
 426:HW/SDCard/SDCard_sdio.c ****   {
 427:HW/SDCard/SDCard_sdio.c ****     /*----------------- Select Card --------------------------------*/
 428:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_SelectDeselect((uint32_t) (SDCardInfo.RCA << 16));
 429:HW/SDCard/SDCard_sdio.c ****   }
 430:HW/SDCard/SDCard_sdio.c **** 
 431:HW/SDCard/SDCard_sdio.c ****   /* ÈáçÊñ∞ÂàùÂßãÂåñSDIOÁöÑÊï∞ÊçÆÁ∫ø‰∏∫4Ê†π */
 432:HW/SDCard/SDCard_sdio.c ****   if (errorstatus == SD_OK)
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 9


 433:HW/SDCard/SDCard_sdio.c ****   {
 434:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_EnableWideBusOperation(SDIO_BusWide_4b);
 435:HW/SDCard/SDCard_sdio.c ****   }  
 436:HW/SDCard/SDCard_sdio.c **** 
 437:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
 438:HW/SDCard/SDCard_sdio.c **** }
 439:HW/SDCard/SDCard_sdio.c **** 
 440:HW/SDCard/SDCard_sdio.c **** /**
 441:HW/SDCard/SDCard_sdio.c ****   * @brief  Gets the cuurent sd card data transfer status.
 442:HW/SDCard/SDCard_sdio.c ****   * @param  None
 443:HW/SDCard/SDCard_sdio.c ****   * @retval SDTransferState: Data Transfer state.
 444:HW/SDCard/SDCard_sdio.c ****   *   This value can be: 
 445:HW/SDCard/SDCard_sdio.c ****   *        - SD_TRANSFER_OK: No data transfer is acting
 446:HW/SDCard/SDCard_sdio.c ****   *        - SD_TRANSFER_BUSY: Data transfer is acting
 447:HW/SDCard/SDCard_sdio.c ****   */
 448:HW/SDCard/SDCard_sdio.c **** SDTransferState SD_GetStatus(void)
 449:HW/SDCard/SDCard_sdio.c **** {
 450:HW/SDCard/SDCard_sdio.c ****   SDCardState cardstate =  SD_CARD_TRANSFER;
 451:HW/SDCard/SDCard_sdio.c **** 
 452:HW/SDCard/SDCard_sdio.c ****   cardstate = SD_GetState();
 453:HW/SDCard/SDCard_sdio.c ****   
 454:HW/SDCard/SDCard_sdio.c ****   if (cardstate == SD_CARD_TRANSFER)
 455:HW/SDCard/SDCard_sdio.c ****   {
 456:HW/SDCard/SDCard_sdio.c ****     return(SD_TRANSFER_OK);
 457:HW/SDCard/SDCard_sdio.c ****   }
 458:HW/SDCard/SDCard_sdio.c ****   else if(cardstate == SD_CARD_ERROR)
 459:HW/SDCard/SDCard_sdio.c ****   {
 460:HW/SDCard/SDCard_sdio.c ****     return (SD_TRANSFER_ERROR);
 461:HW/SDCard/SDCard_sdio.c ****   }
 462:HW/SDCard/SDCard_sdio.c ****   else
 463:HW/SDCard/SDCard_sdio.c ****   {
 464:HW/SDCard/SDCard_sdio.c ****     return(SD_TRANSFER_BUSY);
 465:HW/SDCard/SDCard_sdio.c ****   }
 466:HW/SDCard/SDCard_sdio.c **** }
 467:HW/SDCard/SDCard_sdio.c **** 
 468:HW/SDCard/SDCard_sdio.c **** /**
 469:HW/SDCard/SDCard_sdio.c ****   * @brief  Returns the current card's state.
 470:HW/SDCard/SDCard_sdio.c ****   * @param  None
 471:HW/SDCard/SDCard_sdio.c ****   * @retval SDCardState: SD Card Error or SD Card Current State.
 472:HW/SDCard/SDCard_sdio.c ****   */
 473:HW/SDCard/SDCard_sdio.c **** SDCardState SD_GetState(void)
 474:HW/SDCard/SDCard_sdio.c **** {
 475:HW/SDCard/SDCard_sdio.c ****   uint32_t resp1 = 0;
 476:HW/SDCard/SDCard_sdio.c ****   
 477:HW/SDCard/SDCard_sdio.c ****   if(SD_Detect()== SD_PRESENT)
 478:HW/SDCard/SDCard_sdio.c ****   {
 479:HW/SDCard/SDCard_sdio.c ****     if (SD_SendStatus(&resp1) != SD_OK)
 480:HW/SDCard/SDCard_sdio.c ****     {
 481:HW/SDCard/SDCard_sdio.c ****       return SD_CARD_ERROR;
 482:HW/SDCard/SDCard_sdio.c ****     }
 483:HW/SDCard/SDCard_sdio.c ****     else
 484:HW/SDCard/SDCard_sdio.c ****     {
 485:HW/SDCard/SDCard_sdio.c ****       return (SDCardState)((resp1 >> 9) & 0x0F);
 486:HW/SDCard/SDCard_sdio.c ****     }
 487:HW/SDCard/SDCard_sdio.c ****   }
 488:HW/SDCard/SDCard_sdio.c ****   else
 489:HW/SDCard/SDCard_sdio.c ****   {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 10


 490:HW/SDCard/SDCard_sdio.c ****     return SD_CARD_ERROR;
 491:HW/SDCard/SDCard_sdio.c ****   }
 492:HW/SDCard/SDCard_sdio.c **** }
 493:HW/SDCard/SDCard_sdio.c **** 
 494:HW/SDCard/SDCard_sdio.c **** /**
 495:HW/SDCard/SDCard_sdio.c ****  * @brief  Detect if SD card is correctly plugged in the memory slot.
 496:HW/SDCard/SDCard_sdio.c ****  * @param  None
 497:HW/SDCard/SDCard_sdio.c ****  * @retval Return if SD is detected or not
 498:HW/SDCard/SDCard_sdio.c ****  */
 499:HW/SDCard/SDCard_sdio.c **** uint8_t SD_Detect(void)
 500:HW/SDCard/SDCard_sdio.c **** {
 501:HW/SDCard/SDCard_sdio.c ****   __IO uint8_t status = SD_PRESENT;
 502:HW/SDCard/SDCard_sdio.c **** 
 503:HW/SDCard/SDCard_sdio.c ****   /* Ê≤°ÊúâÊé•SD_DETECTÁ∫øÔºåÁõ¥Êé•ËøîÂõû */
 504:HW/SDCard/SDCard_sdio.c ****   /*!< Check GPIO to detect SD */
 505:HW/SDCard/SDCard_sdio.c ****   // if (GPIO_ReadInputDataBit(SD_DETECT_GPIO_PORT, SD_DETECT_PIN) != Bit_RESET)
 506:HW/SDCard/SDCard_sdio.c ****   // {
 507:HW/SDCard/SDCard_sdio.c ****   //   status = SD_NOT_PRESENT;
 508:HW/SDCard/SDCard_sdio.c ****   // }
 509:HW/SDCard/SDCard_sdio.c ****   return status;
 510:HW/SDCard/SDCard_sdio.c **** }
 511:HW/SDCard/SDCard_sdio.c **** 
 512:HW/SDCard/SDCard_sdio.c **** /**
 513:HW/SDCard/SDCard_sdio.c ****   * @brief  Enquires cards about their operating voltage and configures 
 514:HW/SDCard/SDCard_sdio.c ****   *   clock controls.
 515:HW/SDCard/SDCard_sdio.c ****   * @param  None
 516:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
 517:HW/SDCard/SDCard_sdio.c ****   */
 518:HW/SDCard/SDCard_sdio.c **** SD_Error SD_PowerON(void)
 519:HW/SDCard/SDCard_sdio.c **** {
 520:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 521:HW/SDCard/SDCard_sdio.c ****   uint32_t response = 0, count = 0, validvoltage = 0;
 522:HW/SDCard/SDCard_sdio.c ****   uint32_t SDType = SD_STD_CAPACITY;
 523:HW/SDCard/SDCard_sdio.c **** 
 524:HW/SDCard/SDCard_sdio.c ****   /*!< Power ON Sequence -----------------------------------------------------*/
 525:HW/SDCard/SDCard_sdio.c ****   /*!< Configure the SDIO peripheral */
 526:HW/SDCard/SDCard_sdio.c ****   /*!< SDIOCLK = HCLK, SDIO_CK = HCLK/(2 + SDIO_INIT_CLK_DIV) */
 527:HW/SDCard/SDCard_sdio.c ****   /*!< on STM32F2xx devices, SDIOCLK is fixed to 48MHz */
 528:HW/SDCard/SDCard_sdio.c ****   /*!< SDIO_CK for initialization should not exceed 400 KHz */  
 529:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockDiv            = SDIO_INIT_CLK_DIV;                // SDIOÂàÜÈ¢ëÁ≥ªÊ
 530:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockEdge           = SDIO_ClockEdge_Rising;            // ‰∏äÂçáÊ≤øÊúâÊï
 531:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockBypass         = SDIO_ClockBypass_Disable;         // ÊòØÂê¶‰ΩøÁî®By
 532:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockPowerSave      = SDIO_ClockPowerSave_Disable;      // ÁúÅÁîµÊ®°ÂºèÔº
 533:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_BusWide             = SDIO_BusWide_1b;                  // Êï∞ÊçÆÁ∫øÊï∞Èá
 534:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable; // ÂÖ≥Èó≠Á°¨‰ª∂Êµ
 535:HW/SDCard/SDCard_sdio.c ****   SDIO_Init(&SDIO_InitStructure);
 536:HW/SDCard/SDCard_sdio.c **** 
 537:HW/SDCard/SDCard_sdio.c ****   /*!< ÂºÄÂêØSDIOÁöÑÁîµÊ∫ê */
 538:HW/SDCard/SDCard_sdio.c ****   SDIO_SetPowerState(SDIO_PowerState_ON);
 539:HW/SDCard/SDCard_sdio.c **** 
 540:HW/SDCard/SDCard_sdio.c ****   /*!< Enable SDIO Clock */
 541:HW/SDCard/SDCard_sdio.c ****   SDIO_ClockCmd(ENABLE);
 542:HW/SDCard/SDCard_sdio.c **** 
 543:HW/SDCard/SDCard_sdio.c ****   /* ÂèëÈÄÅCmd0ÂëΩ‰ª§ÔºöÂ§ç‰ΩçÊâÄÊúâSDÂç°ÔºåÊâÄÊúâSDÂç°ËøõÂÖ•Á©∫Èó≤Áä∂ÊÄÅ */
 544:HW/SDCard/SDCard_sdio.c ****   /*!< CMD0: GO_IDLE_STATE ---------------------------------------------------*/
 545:HW/SDCard/SDCard_sdio.c ****   /*!< No CMD response required */
 546:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = 0x0;                    // ÂëΩ‰ª§ÂèÇÊï∞
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 11


 547:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_GO_IDLE_STATE;   // ÂëΩ‰ª§Âè∑
 548:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_No;       // ÂìçÂ∫îÁ±ªÂûã
 549:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait     = SDIO_Wait_No;           // ËÆæÁΩÆÁ≠âÂæÖÊ®°ÂºèÔºåÂç≥ SDIO_CM
 550:HW/SDCard/SDCard_sdio.c ****                                                                 // ‰πà‰∫ã‰ª∂Ôºà‰∏ÄÂÖ±‰∏âÁßç‰∫ã‰ª∂Ôº
 551:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM     = SDIO_CPSM_Enable;       // CPSMÂú®ÂèëÈÄÅÂëΩ‰ª§ÂâçÁ≠âÂæÖ‰∏ä‰
 552:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 553:HW/SDCard/SDCard_sdio.c **** 
 554:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdError();
 555:HW/SDCard/SDCard_sdio.c **** 
 556:HW/SDCard/SDCard_sdio.c ****   if (errorstatus != SD_OK)
 557:HW/SDCard/SDCard_sdio.c ****   {
 558:HW/SDCard/SDCard_sdio.c ****     /*!< CMD Response TimeOut (wait for CMDSENT flag) */
 559:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 560:HW/SDCard/SDCard_sdio.c ****   }
 561:HW/SDCard/SDCard_sdio.c **** 
 562:HW/SDCard/SDCard_sdio.c ****   /* ÂèëÈÄÅCmd8ÂëΩ‰ª§ÔºöËØ¢ÈóÆÁîµÊ∫êÁîµÂéãÊîØÊåÅËåÉÂõ¥ */
 563:HW/SDCard/SDCard_sdio.c ****   /*!< CMD8: SEND_IF_COND ----------------------------------------------------*/
 564:HW/SDCard/SDCard_sdio.c ****   /*!< Send CMD8 to verify SD card interface operating condition */
 565:HW/SDCard/SDCard_sdio.c ****   /*!< Argument: - [31:12]: Reserved (shall be set to '0')
 566:HW/SDCard/SDCard_sdio.c ****                - [11:8]: Supply Voltage (VHS) 0x1 (Range: 2.7-3.6 V)
 567:HW/SDCard/SDCard_sdio.c ****                - [7:0]: Check Pattern (recommended 0xAA) */
 568:HW/SDCard/SDCard_sdio.c ****   /*!< CMD Response: R7 */
 569:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = SD_CHECK_PATTERN;
 570:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SDIO_SEND_IF_COND;
 571:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 572:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 573:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 574:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 575:HW/SDCard/SDCard_sdio.c **** 
 576:HW/SDCard/SDCard_sdio.c ****   /* Âà§Êñ≠R7ÂìçÂ∫î */
 577:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp7Error();
 578:HW/SDCard/SDCard_sdio.c **** 
 579:HW/SDCard/SDCard_sdio.c ****   if (errorstatus == SD_OK) // Â¶ÇÊûúÊé•Êî∂Âà∞‰∫ÜÂìçÂ∫îÂàô‰∏ÄÂàáOK
 580:HW/SDCard/SDCard_sdio.c ****   {
 581:HW/SDCard/SDCard_sdio.c ****     CardType = SDIO_STD_CAPACITY_SD_CARD_V2_0; /*!< SD Card 2.0 */
 582:HW/SDCard/SDCard_sdio.c ****     SDType = SD_HIGH_CAPACITY;
 583:HW/SDCard/SDCard_sdio.c ****   }
 584:HW/SDCard/SDCard_sdio.c ****   else                      // Â¶ÇÊûúÊ≤°Êé•Êî∂Âà∞ÂìçÂ∫îÔºåÂàôË°®Á§∫SDÂç°Èùû2.0ÊàñmmcÂç°ÔºåÊàñËÄÖÁîµ
 585:HW/SDCard/SDCard_sdio.c ****   {
 586:HW/SDCard/SDCard_sdio.c ****     /*!< CMD55 */
 587:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Argument = 0x00;
 588:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 589:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 590:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 591:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 592:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 593:HW/SDCard/SDCard_sdio.c ****     errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
 594:HW/SDCard/SDCard_sdio.c ****   }
 595:HW/SDCard/SDCard_sdio.c **** 
 596:HW/SDCard/SDCard_sdio.c ****   /* ÂèëÈÄÅCmd55ÂëΩ‰ª§ÔºöACMDÂâçÁºÄ */
 597:HW/SDCard/SDCard_sdio.c ****   /*!< CMD55 */
 598:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = 0x00;
 599:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 600:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 601:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 602:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 603:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 12


 604:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
 605:HW/SDCard/SDCard_sdio.c **** 
 606:HW/SDCard/SDCard_sdio.c ****   /*!< If errorstatus is Command TimeOut, it is a MMC card */
 607:HW/SDCard/SDCard_sdio.c ****   /*!< If errorstatus is SD_OK it is a SD card: SD card 2.0 (voltage range mismatch)
 608:HW/SDCard/SDCard_sdio.c ****      or SD card 1.x */
 609:HW/SDCard/SDCard_sdio.c ****   if (errorstatus == SD_OK)
 610:HW/SDCard/SDCard_sdio.c ****   {
 611:HW/SDCard/SDCard_sdio.c ****     /* ÂèçÂ§çÂèëÈÄÅACMD41ÂëΩ‰ª§ÔºåÁõ¥Âà∞ËØªÂá∫validvoltageÊàñËÄÖË∂ÖËøáÊ¨°Êï∞‰∏äÈôê */
 612:HW/SDCard/SDCard_sdio.c ****     /*!< SD CARD */
 613:HW/SDCard/SDCard_sdio.c ****     /*!< Send ACMD41 SD_APP_OP_COND with Argument 0x80100000 */
 614:HW/SDCard/SDCard_sdio.c ****     while ((!validvoltage) && (count < SD_MAX_VOLT_TRIAL))
 615:HW/SDCard/SDCard_sdio.c ****     {
 616:HW/SDCard/SDCard_sdio.c **** 
 617:HW/SDCard/SDCard_sdio.c ****       /*!< SEND CMD55 APP_CMD with RCA as 0 */
 618:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Argument = 0x00;
 619:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 620:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 621:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 622:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 623:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 624:HW/SDCard/SDCard_sdio.c **** 
 625:HW/SDCard/SDCard_sdio.c ****       errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
 626:HW/SDCard/SDCard_sdio.c **** 
 627:HW/SDCard/SDCard_sdio.c ****       if (errorstatus != SD_OK)
 628:HW/SDCard/SDCard_sdio.c ****       {
 629:HW/SDCard/SDCard_sdio.c ****         return(errorstatus);
 630:HW/SDCard/SDCard_sdio.c ****       }
 631:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Argument = SD_VOLTAGE_WINDOW_SD | SDType;
 632:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_OP_COND;
 633:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 634:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 635:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 636:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 637:HW/SDCard/SDCard_sdio.c **** 
 638:HW/SDCard/SDCard_sdio.c ****       errorstatus = CmdResp3Error();
 639:HW/SDCard/SDCard_sdio.c ****       if (errorstatus != SD_OK)
 640:HW/SDCard/SDCard_sdio.c ****       {
 641:HW/SDCard/SDCard_sdio.c ****         return(errorstatus);
 642:HW/SDCard/SDCard_sdio.c ****       }
 643:HW/SDCard/SDCard_sdio.c **** 
 644:HW/SDCard/SDCard_sdio.c ****       /* R3ÂìçÂ∫îÔºåÂìçÂ∫î‰∏≠ÂåÖÂê´SDÂç°ÁöÑOCRÂØÑÂ≠òÂô®ÂÄºÔºàOCRÂåÖÂê´ÁîµÂéãËåÉÂõ¥„ÄÅSDÂç°ÂÆπÈáèÂûã
 645:HW/SDCard/SDCard_sdio.c ****       response = SDIO_GetResponse(SDIO_RESP1);
 646:HW/SDCard/SDCard_sdio.c ****       validvoltage = (((response >> 31) == 1) ? 1 : 0);
 647:HW/SDCard/SDCard_sdio.c ****       count++;
 648:HW/SDCard/SDCard_sdio.c ****     }
 649:HW/SDCard/SDCard_sdio.c ****     /* Ê£ÄÊü•ACMD41ÂëΩ‰ª§ÊòØÂê¶ÂßãÁªàÊó†ÂìçÂ∫î */
 650:HW/SDCard/SDCard_sdio.c ****     if (count >= SD_MAX_VOLT_TRIAL)
 651:HW/SDCard/SDCard_sdio.c ****     {
 652:HW/SDCard/SDCard_sdio.c ****       errorstatus = SD_INVALID_VOLTRANGE;
 653:HW/SDCard/SDCard_sdio.c ****       return(errorstatus);
 654:HW/SDCard/SDCard_sdio.c ****     }
 655:HW/SDCard/SDCard_sdio.c **** 
 656:HW/SDCard/SDCard_sdio.c ****     /* Âà§Êñ≠SDÂç°ÂÆπÈáèÂûãÂè∑ */
 657:HW/SDCard/SDCard_sdio.c ****     if (response &= SD_HIGH_CAPACITY)
 658:HW/SDCard/SDCard_sdio.c ****     {
 659:HW/SDCard/SDCard_sdio.c ****       CardType = SDIO_HIGH_CAPACITY_SD_CARD;
 660:HW/SDCard/SDCard_sdio.c ****     }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 13


 661:HW/SDCard/SDCard_sdio.c **** 
 662:HW/SDCard/SDCard_sdio.c ****   }/*!< else MMC Card */
 663:HW/SDCard/SDCard_sdio.c **** 
 664:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
 665:HW/SDCard/SDCard_sdio.c **** }
 666:HW/SDCard/SDCard_sdio.c **** 
 667:HW/SDCard/SDCard_sdio.c **** /**
 668:HW/SDCard/SDCard_sdio.c ****   * @brief  Turns the SDIO output signals off.
 669:HW/SDCard/SDCard_sdio.c ****   * @param  None
 670:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
 671:HW/SDCard/SDCard_sdio.c ****   */
 672:HW/SDCard/SDCard_sdio.c **** SD_Error SD_PowerOFF(void)
 673:HW/SDCard/SDCard_sdio.c **** {
 674:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 675:HW/SDCard/SDCard_sdio.c **** 
 676:HW/SDCard/SDCard_sdio.c ****   /*!< Set Power State to OFF */
 677:HW/SDCard/SDCard_sdio.c ****   SDIO_SetPowerState(SDIO_PowerState_OFF);
 678:HW/SDCard/SDCard_sdio.c **** 
 679:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
 680:HW/SDCard/SDCard_sdio.c **** }
 681:HW/SDCard/SDCard_sdio.c **** 
 682:HW/SDCard/SDCard_sdio.c **** /**
 683:HW/SDCard/SDCard_sdio.c ****   * @brief  Intialises all cards or single card as the case may be Card(s) come 
 684:HW/SDCard/SDCard_sdio.c ****   *         into standby state.
 685:HW/SDCard/SDCard_sdio.c ****   * @param  None
 686:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
 687:HW/SDCard/SDCard_sdio.c ****   */
 688:HW/SDCard/SDCard_sdio.c **** SD_Error SD_InitializeCards(void)
 689:HW/SDCard/SDCard_sdio.c **** {
 690:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 691:HW/SDCard/SDCard_sdio.c ****   uint16_t rca = 0x01;
 692:HW/SDCard/SDCard_sdio.c **** 
 693:HW/SDCard/SDCard_sdio.c ****   if (SDIO_GetPowerState() == SDIO_PowerState_OFF)
 694:HW/SDCard/SDCard_sdio.c ****   {
 695:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_REQUEST_NOT_APPLICABLE;
 696:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 697:HW/SDCard/SDCard_sdio.c ****   }
 698:HW/SDCard/SDCard_sdio.c **** 
 699:HW/SDCard/SDCard_sdio.c ****   if (SDIO_SECURE_DIGITAL_IO_CARD != CardType)
 700:HW/SDCard/SDCard_sdio.c ****   {
 701:HW/SDCard/SDCard_sdio.c ****     /* ËØªÂèñSDÂç°ÁöÑCID */
 702:HW/SDCard/SDCard_sdio.c ****     /*!< Send CMD2 ALL_SEND_CID */
 703:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Argument = 0x0;
 704:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_ALL_SEND_CID;
 705:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Long;
 706:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 707:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 708:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 709:HW/SDCard/SDCard_sdio.c **** 
 710:HW/SDCard/SDCard_sdio.c ****     errorstatus = CmdResp2Error();
 711:HW/SDCard/SDCard_sdio.c **** 
 712:HW/SDCard/SDCard_sdio.c ****     if (SD_OK != errorstatus)
 713:HW/SDCard/SDCard_sdio.c ****     {
 714:HW/SDCard/SDCard_sdio.c ****       return(errorstatus);
 715:HW/SDCard/SDCard_sdio.c ****     }
 716:HW/SDCard/SDCard_sdio.c **** 
 717:HW/SDCard/SDCard_sdio.c ****     CID_Tab[0] = SDIO_GetResponse(SDIO_RESP1);
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 14


 718:HW/SDCard/SDCard_sdio.c ****     CID_Tab[1] = SDIO_GetResponse(SDIO_RESP2);
 719:HW/SDCard/SDCard_sdio.c ****     CID_Tab[2] = SDIO_GetResponse(SDIO_RESP3);
 720:HW/SDCard/SDCard_sdio.c ****     CID_Tab[3] = SDIO_GetResponse(SDIO_RESP4);
 721:HW/SDCard/SDCard_sdio.c ****   }
 722:HW/SDCard/SDCard_sdio.c ****   if ((SDIO_STD_CAPACITY_SD_CARD_V1_1 == CardType) ||  (SDIO_STD_CAPACITY_SD_CARD_V2_0 == CardType)
 723:HW/SDCard/SDCard_sdio.c ****       ||  (SDIO_HIGH_CAPACITY_SD_CARD == CardType))
 724:HW/SDCard/SDCard_sdio.c ****   {
 725:HW/SDCard/SDCard_sdio.c ****     /* ËØªÂèñSDÂç°ÁöÑRCAÁõ∏ÂØπÂú∞ÂùÄ */
 726:HW/SDCard/SDCard_sdio.c ****     /*!< Send CMD3 SET_REL_ADDR with argument 0 */
 727:HW/SDCard/SDCard_sdio.c ****     /*!< SD Card publishes its RCA. */
 728:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Argument = 0x00;
 729:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_REL_ADDR;
 730:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 731:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 732:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 733:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 734:HW/SDCard/SDCard_sdio.c **** 
 735:HW/SDCard/SDCard_sdio.c ****     errorstatus = CmdResp6Error(SD_CMD_SET_REL_ADDR, &rca);
 736:HW/SDCard/SDCard_sdio.c **** 
 737:HW/SDCard/SDCard_sdio.c ****     if (SD_OK != errorstatus)
 738:HW/SDCard/SDCard_sdio.c ****     {
 739:HW/SDCard/SDCard_sdio.c ****       return(errorstatus);
 740:HW/SDCard/SDCard_sdio.c ****     }
 741:HW/SDCard/SDCard_sdio.c ****   }
 742:HW/SDCard/SDCard_sdio.c **** 
 743:HW/SDCard/SDCard_sdio.c ****   if (SDIO_SECURE_DIGITAL_IO_CARD != CardType)
 744:HW/SDCard/SDCard_sdio.c ****   {
 745:HW/SDCard/SDCard_sdio.c ****     RCA = rca;
 746:HW/SDCard/SDCard_sdio.c ****     /* ËØªÂèñSDÂç°ÁöÑCSDÂØÑÂ≠òÂô®ÔºàCSD‰∏≠‰øùÂ≠òÁùÄSDÂç°ÁöÑÁ°¨‰ª∂‰ø°ÊÅØÔºâ */
 747:HW/SDCard/SDCard_sdio.c ****     /*!< Send CMD9 SEND_CSD with argument as card's RCA */
 748:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Argument = (uint32_t)(rca << 16);
 749:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SEND_CSD;
 750:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Long;
 751:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 752:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 753:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 754:HW/SDCard/SDCard_sdio.c **** 
 755:HW/SDCard/SDCard_sdio.c ****     errorstatus = CmdResp2Error();
 756:HW/SDCard/SDCard_sdio.c **** 
 757:HW/SDCard/SDCard_sdio.c ****     if (SD_OK != errorstatus)
 758:HW/SDCard/SDCard_sdio.c ****     {
 759:HW/SDCard/SDCard_sdio.c ****       return(errorstatus);
 760:HW/SDCard/SDCard_sdio.c ****     }
 761:HW/SDCard/SDCard_sdio.c **** 
 762:HW/SDCard/SDCard_sdio.c ****     CSD_Tab[0] = SDIO_GetResponse(SDIO_RESP1);
 763:HW/SDCard/SDCard_sdio.c ****     CSD_Tab[1] = SDIO_GetResponse(SDIO_RESP2);
 764:HW/SDCard/SDCard_sdio.c ****     CSD_Tab[2] = SDIO_GetResponse(SDIO_RESP3);
 765:HW/SDCard/SDCard_sdio.c ****     CSD_Tab[3] = SDIO_GetResponse(SDIO_RESP4);
 766:HW/SDCard/SDCard_sdio.c ****   }
 767:HW/SDCard/SDCard_sdio.c **** 
 768:HW/SDCard/SDCard_sdio.c ****   errorstatus = SD_OK; /*!< All cards get intialized */
 769:HW/SDCard/SDCard_sdio.c **** 
 770:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
 771:HW/SDCard/SDCard_sdio.c **** }
 772:HW/SDCard/SDCard_sdio.c **** 
 773:HW/SDCard/SDCard_sdio.c **** /**
 774:HW/SDCard/SDCard_sdio.c ****   * @brief  Returns information about specific card.
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 15


 775:HW/SDCard/SDCard_sdio.c ****   * @param  cardinfo: pointer to a SD_CardInfo structure that contains all SD card 
 776:HW/SDCard/SDCard_sdio.c ****   *         information.
 777:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
 778:HW/SDCard/SDCard_sdio.c ****   */
 779:HW/SDCard/SDCard_sdio.c **** SD_Error SD_GetCardInfo(SD_CardInfo *cardinfo)
 780:HW/SDCard/SDCard_sdio.c **** {
 781:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 782:HW/SDCard/SDCard_sdio.c ****   uint8_t tmp = 0;
 783:HW/SDCard/SDCard_sdio.c **** 
 784:HW/SDCard/SDCard_sdio.c ****   cardinfo->CardType = (uint8_t)CardType;
 785:HW/SDCard/SDCard_sdio.c ****   cardinfo->RCA = (uint16_t)RCA;
 786:HW/SDCard/SDCard_sdio.c **** 
 787:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 0 */
 788:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CSD_Tab[0] & 0xFF000000) >> 24);
 789:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.CSDStruct = (tmp & 0xC0) >> 6;
 790:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.SysSpecVersion = (tmp & 0x3C) >> 2;
 791:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.Reserved1 = tmp & 0x03;
 792:HW/SDCard/SDCard_sdio.c **** 
 793:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 1 */
 794:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CSD_Tab[0] & 0x00FF0000) >> 16);
 795:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.TAAC = tmp;
 796:HW/SDCard/SDCard_sdio.c **** 
 797:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 2 */
 798:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CSD_Tab[0] & 0x0000FF00) >> 8);
 799:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.NSAC = tmp;
 800:HW/SDCard/SDCard_sdio.c **** 
 801:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 3 */
 802:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)(CSD_Tab[0] & 0x000000FF);
 803:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.MaxBusClkFrec = tmp;
 804:HW/SDCard/SDCard_sdio.c **** 
 805:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 4 */
 806:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CSD_Tab[1] & 0xFF000000) >> 24);
 807:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.CardComdClasses = tmp << 4;
 808:HW/SDCard/SDCard_sdio.c **** 
 809:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 5 */
 810:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CSD_Tab[1] & 0x00FF0000) >> 16);
 811:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.CardComdClasses |= (tmp & 0xF0) >> 4;
 812:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.RdBlockLen = tmp & 0x0F;
 813:HW/SDCard/SDCard_sdio.c **** 
 814:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 6 */
 815:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CSD_Tab[1] & 0x0000FF00) >> 8);
 816:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.PartBlockRead = (tmp & 0x80) >> 7;
 817:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WrBlockMisalign = (tmp & 0x40) >> 6;
 818:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.RdBlockMisalign = (tmp & 0x20) >> 5;
 819:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.DSRImpl = (tmp & 0x10) >> 4;
 820:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.Reserved2 = 0; /*!< Reserved */
 821:HW/SDCard/SDCard_sdio.c **** 
 822:HW/SDCard/SDCard_sdio.c ****   if ((CardType == SDIO_STD_CAPACITY_SD_CARD_V1_1) || (CardType == SDIO_STD_CAPACITY_SD_CARD_V2_0))
 823:HW/SDCard/SDCard_sdio.c ****   {
 824:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.DeviceSize = (tmp & 0x03) << 10;
 825:HW/SDCard/SDCard_sdio.c **** 
 826:HW/SDCard/SDCard_sdio.c ****     /*!< Byte 7 */
 827:HW/SDCard/SDCard_sdio.c ****     tmp = (uint8_t)(CSD_Tab[1] & 0x000000FF);
 828:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.DeviceSize |= (tmp) << 2;
 829:HW/SDCard/SDCard_sdio.c **** 
 830:HW/SDCard/SDCard_sdio.c ****     /*!< Byte 8 */
 831:HW/SDCard/SDCard_sdio.c ****     tmp = (uint8_t)((CSD_Tab[2] & 0xFF000000) >> 24);
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 16


 832:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.DeviceSize |= (tmp & 0xC0) >> 6;
 833:HW/SDCard/SDCard_sdio.c **** 
 834:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.MaxRdCurrentVDDMin = (tmp & 0x38) >> 3;
 835:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.MaxRdCurrentVDDMax = (tmp & 0x07);
 836:HW/SDCard/SDCard_sdio.c **** 
 837:HW/SDCard/SDCard_sdio.c ****     /*!< Byte 9 */
 838:HW/SDCard/SDCard_sdio.c ****     tmp = (uint8_t)((CSD_Tab[2] & 0x00FF0000) >> 16);
 839:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.MaxWrCurrentVDDMin = (tmp & 0xE0) >> 5;
 840:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.MaxWrCurrentVDDMax = (tmp & 0x1C) >> 2;
 841:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.DeviceSizeMul = (tmp & 0x03) << 1;
 842:HW/SDCard/SDCard_sdio.c ****     /*!< Byte 10 */
 843:HW/SDCard/SDCard_sdio.c ****     tmp = (uint8_t)((CSD_Tab[2] & 0x0000FF00) >> 8);
 844:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.DeviceSizeMul |= (tmp & 0x80) >> 7;
 845:HW/SDCard/SDCard_sdio.c ****     
 846:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardCapacity = (cardinfo->SD_csd.DeviceSize + 1) ;
 847:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardCapacity *= (1 << (cardinfo->SD_csd.DeviceSizeMul + 2));
 848:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardBlockSize = 1 << (cardinfo->SD_csd.RdBlockLen);
 849:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardCapacity *= cardinfo->CardBlockSize;
 850:HW/SDCard/SDCard_sdio.c ****   }
 851:HW/SDCard/SDCard_sdio.c ****   else if (CardType == SDIO_HIGH_CAPACITY_SD_CARD)
 852:HW/SDCard/SDCard_sdio.c ****   {
 853:HW/SDCard/SDCard_sdio.c ****     /*!< Byte 7 */
 854:HW/SDCard/SDCard_sdio.c ****     tmp = (uint8_t)(CSD_Tab[1] & 0x000000FF);
 855:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.DeviceSize = (tmp & 0x3F) << 16;
 856:HW/SDCard/SDCard_sdio.c **** 
 857:HW/SDCard/SDCard_sdio.c ****     /*!< Byte 8 */
 858:HW/SDCard/SDCard_sdio.c ****     tmp = (uint8_t)((CSD_Tab[2] & 0xFF000000) >> 24);
 859:HW/SDCard/SDCard_sdio.c **** 
 860:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.DeviceSize |= (tmp << 8);
 861:HW/SDCard/SDCard_sdio.c **** 
 862:HW/SDCard/SDCard_sdio.c ****     /*!< Byte 9 */
 863:HW/SDCard/SDCard_sdio.c ****     tmp = (uint8_t)((CSD_Tab[2] & 0x00FF0000) >> 16);
 864:HW/SDCard/SDCard_sdio.c **** 
 865:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.DeviceSize |= (tmp);
 866:HW/SDCard/SDCard_sdio.c **** 
 867:HW/SDCard/SDCard_sdio.c ****     /*!< Byte 10 */
 868:HW/SDCard/SDCard_sdio.c ****     tmp = (uint8_t)((CSD_Tab[2] & 0x0000FF00) >> 8);
 869:HW/SDCard/SDCard_sdio.c ****     
 870:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardCapacity = (cardinfo->SD_csd.DeviceSize + 1) * 512 * 1024;
 871:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardBlockSize = 512;    
 872:HW/SDCard/SDCard_sdio.c ****   }
 873:HW/SDCard/SDCard_sdio.c **** 
 874:HW/SDCard/SDCard_sdio.c **** 
 875:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.EraseGrSize = (tmp & 0x40) >> 6;
 876:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.EraseGrMul = (tmp & 0x3F) << 1;
 877:HW/SDCard/SDCard_sdio.c **** 
 878:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 11 */
 879:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)(CSD_Tab[2] & 0x000000FF);
 880:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.EraseGrMul |= (tmp & 0x80) >> 7;
 881:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WrProtectGrSize = (tmp & 0x7F);
 882:HW/SDCard/SDCard_sdio.c **** 
 883:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 12 */
 884:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CSD_Tab[3] & 0xFF000000) >> 24);
 885:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WrProtectGrEnable = (tmp & 0x80) >> 7;
 886:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.ManDeflECC = (tmp & 0x60) >> 5;
 887:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WrSpeedFact = (tmp & 0x1C) >> 2;
 888:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.MaxWrBlockLen = (tmp & 0x03) << 2;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 17


 889:HW/SDCard/SDCard_sdio.c **** 
 890:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 13 */
 891:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CSD_Tab[3] & 0x00FF0000) >> 16);
 892:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.MaxWrBlockLen |= (tmp & 0xC0) >> 6;
 893:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20) >> 5;
 894:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.Reserved3 = 0;
 895:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.ContentProtectAppli = (tmp & 0x01);
 896:HW/SDCard/SDCard_sdio.c **** 
 897:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 14 */
 898:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CSD_Tab[3] & 0x0000FF00) >> 8);
 899:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.FileFormatGrouop = (tmp & 0x80) >> 7;
 900:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.CopyFlag = (tmp & 0x40) >> 6;
 901:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.PermWrProtect = (tmp & 0x20) >> 5;
 902:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.TempWrProtect = (tmp & 0x10) >> 4;
 903:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.FileFormat = (tmp & 0x0C) >> 2;
 904:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.ECC = (tmp & 0x03);
 905:HW/SDCard/SDCard_sdio.c **** 
 906:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 15 */
 907:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)(CSD_Tab[3] & 0x000000FF);
 908:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.CSD_CRC = (tmp & 0xFE) >> 1;
 909:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.Reserved4 = 1;
 910:HW/SDCard/SDCard_sdio.c **** 
 911:HW/SDCard/SDCard_sdio.c **** 
 912:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 0 */
 913:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CID_Tab[0] & 0xFF000000) >> 24);
 914:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ManufacturerID = tmp;
 915:HW/SDCard/SDCard_sdio.c **** 
 916:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 1 */
 917:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CID_Tab[0] & 0x00FF0000) >> 16);
 918:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.OEM_AppliID = tmp << 8;
 919:HW/SDCard/SDCard_sdio.c **** 
 920:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 2 */
 921:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CID_Tab[0] & 0x000000FF00) >> 8);
 922:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.OEM_AppliID |= tmp;
 923:HW/SDCard/SDCard_sdio.c **** 
 924:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 3 */
 925:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)(CID_Tab[0] & 0x000000FF);
 926:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdName1 = tmp << 24;
 927:HW/SDCard/SDCard_sdio.c **** 
 928:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 4 */
 929:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CID_Tab[1] & 0xFF000000) >> 24);
 930:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdName1 |= tmp << 16;
 931:HW/SDCard/SDCard_sdio.c **** 
 932:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 5 */
 933:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CID_Tab[1] & 0x00FF0000) >> 16);
 934:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdName1 |= tmp << 8;
 935:HW/SDCard/SDCard_sdio.c **** 
 936:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 6 */
 937:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CID_Tab[1] & 0x0000FF00) >> 8);
 938:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdName1 |= tmp;
 939:HW/SDCard/SDCard_sdio.c **** 
 940:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 7 */
 941:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)(CID_Tab[1] & 0x000000FF);
 942:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdName2 = tmp;
 943:HW/SDCard/SDCard_sdio.c **** 
 944:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 8 */
 945:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CID_Tab[2] & 0xFF000000) >> 24);
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 18


 946:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdRev = tmp;
 947:HW/SDCard/SDCard_sdio.c **** 
 948:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 9 */
 949:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CID_Tab[2] & 0x00FF0000) >> 16);
 950:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdSN = tmp << 24;
 951:HW/SDCard/SDCard_sdio.c **** 
 952:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 10 */
 953:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CID_Tab[2] & 0x0000FF00) >> 8);
 954:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdSN |= tmp << 16;
 955:HW/SDCard/SDCard_sdio.c **** 
 956:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 11 */
 957:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)(CID_Tab[2] & 0x000000FF);
 958:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdSN |= tmp << 8;
 959:HW/SDCard/SDCard_sdio.c **** 
 960:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 12 */
 961:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CID_Tab[3] & 0xFF000000) >> 24);
 962:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdSN |= tmp;
 963:HW/SDCard/SDCard_sdio.c **** 
 964:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 13 */
 965:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CID_Tab[3] & 0x00FF0000) >> 16);
 966:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.Reserved1 |= (tmp & 0xF0) >> 4;
 967:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ManufactDate = (tmp & 0x0F) << 8;
 968:HW/SDCard/SDCard_sdio.c **** 
 969:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 14 */
 970:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((CID_Tab[3] & 0x0000FF00) >> 8);
 971:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ManufactDate |= tmp;
 972:HW/SDCard/SDCard_sdio.c **** 
 973:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 15 */
 974:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)(CID_Tab[3] & 0x000000FF);
 975:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.CID_CRC = (tmp & 0xFE) >> 1;
 976:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.Reserved2 = 1;
 977:HW/SDCard/SDCard_sdio.c ****   
 978:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
 979:HW/SDCard/SDCard_sdio.c **** }
 980:HW/SDCard/SDCard_sdio.c **** 
 981:HW/SDCard/SDCard_sdio.c **** /**
 982:HW/SDCard/SDCard_sdio.c ****   * @brief  Enables wide bus opeartion for the requeseted card if supported by 
 983:HW/SDCard/SDCard_sdio.c ****   *         card.
 984:HW/SDCard/SDCard_sdio.c ****   * @param  WideMode: Specifies the SD card wide bus mode. 
 985:HW/SDCard/SDCard_sdio.c ****   *   This parameter can be one of the following values:
 986:HW/SDCard/SDCard_sdio.c ****   *     @arg SDIO_BusWide_8b: 8-bit data transfer (Only for MMC)
 987:HW/SDCard/SDCard_sdio.c ****   *     @arg SDIO_BusWide_4b: 4-bit data transfer
 988:HW/SDCard/SDCard_sdio.c ****   *     @arg SDIO_BusWide_1b: 1-bit data transfer
 989:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
 990:HW/SDCard/SDCard_sdio.c ****   */
 991:HW/SDCard/SDCard_sdio.c **** SD_Error SD_GetCardStatus(SD_CardStatus *cardstatus)
 992:HW/SDCard/SDCard_sdio.c **** {
 993:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 994:HW/SDCard/SDCard_sdio.c ****   uint8_t tmp = 0;
 995:HW/SDCard/SDCard_sdio.c **** 
 996:HW/SDCard/SDCard_sdio.c ****   errorstatus = SD_SendSDStatus((uint32_t *)SDSTATUS_Tab);
 997:HW/SDCard/SDCard_sdio.c **** 
 998:HW/SDCard/SDCard_sdio.c ****   if (errorstatus  != SD_OK)
 999:HW/SDCard/SDCard_sdio.c ****   {
1000:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1001:HW/SDCard/SDCard_sdio.c ****   }
1002:HW/SDCard/SDCard_sdio.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 19


1003:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 0 */
1004:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((SDSTATUS_Tab[0] & 0xC0) >> 6);
1005:HW/SDCard/SDCard_sdio.c ****   cardstatus->DAT_BUS_WIDTH = tmp;
1006:HW/SDCard/SDCard_sdio.c **** 
1007:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 0 */
1008:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((SDSTATUS_Tab[0] & 0x20) >> 5);
1009:HW/SDCard/SDCard_sdio.c ****   cardstatus->SECURED_MODE = tmp;
1010:HW/SDCard/SDCard_sdio.c **** 
1011:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 2 */
1012:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((SDSTATUS_Tab[2] & 0xFF));
1013:HW/SDCard/SDCard_sdio.c ****   cardstatus->SD_CARD_TYPE = tmp << 8;
1014:HW/SDCard/SDCard_sdio.c **** 
1015:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 3 */
1016:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((SDSTATUS_Tab[3] & 0xFF));
1017:HW/SDCard/SDCard_sdio.c ****   cardstatus->SD_CARD_TYPE |= tmp;
1018:HW/SDCard/SDCard_sdio.c **** 
1019:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 4 */
1020:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)(SDSTATUS_Tab[4] & 0xFF);
1021:HW/SDCard/SDCard_sdio.c ****   cardstatus->SIZE_OF_PROTECTED_AREA = tmp << 24;
1022:HW/SDCard/SDCard_sdio.c **** 
1023:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 5 */
1024:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)(SDSTATUS_Tab[5] & 0xFF);
1025:HW/SDCard/SDCard_sdio.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp << 16;
1026:HW/SDCard/SDCard_sdio.c **** 
1027:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 6 */
1028:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)(SDSTATUS_Tab[6] & 0xFF);
1029:HW/SDCard/SDCard_sdio.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp << 8;
1030:HW/SDCard/SDCard_sdio.c **** 
1031:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 7 */
1032:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)(SDSTATUS_Tab[7] & 0xFF);
1033:HW/SDCard/SDCard_sdio.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp;
1034:HW/SDCard/SDCard_sdio.c **** 
1035:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 8 */
1036:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((SDSTATUS_Tab[8] & 0xFF));
1037:HW/SDCard/SDCard_sdio.c ****   cardstatus->SPEED_CLASS = tmp;
1038:HW/SDCard/SDCard_sdio.c **** 
1039:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 9 */
1040:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((SDSTATUS_Tab[9] & 0xFF));
1041:HW/SDCard/SDCard_sdio.c ****   cardstatus->PERFORMANCE_MOVE = tmp;
1042:HW/SDCard/SDCard_sdio.c **** 
1043:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 10 */
1044:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((SDSTATUS_Tab[10] & 0xF0) >> 4);
1045:HW/SDCard/SDCard_sdio.c ****   cardstatus->AU_SIZE = tmp;
1046:HW/SDCard/SDCard_sdio.c **** 
1047:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 11 */
1048:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)(SDSTATUS_Tab[11] & 0xFF);
1049:HW/SDCard/SDCard_sdio.c ****   cardstatus->ERASE_SIZE = tmp << 8;
1050:HW/SDCard/SDCard_sdio.c **** 
1051:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 12 */
1052:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)(SDSTATUS_Tab[12] & 0xFF);
1053:HW/SDCard/SDCard_sdio.c ****   cardstatus->ERASE_SIZE |= tmp;
1054:HW/SDCard/SDCard_sdio.c **** 
1055:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 13 */
1056:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((SDSTATUS_Tab[13] & 0xFC) >> 2);
1057:HW/SDCard/SDCard_sdio.c ****   cardstatus->ERASE_TIMEOUT = tmp;
1058:HW/SDCard/SDCard_sdio.c **** 
1059:HW/SDCard/SDCard_sdio.c ****   /*!< Byte 13 */
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 20


1060:HW/SDCard/SDCard_sdio.c ****   tmp = (uint8_t)((SDSTATUS_Tab[13] & 0x3));
1061:HW/SDCard/SDCard_sdio.c ****   cardstatus->ERASE_OFFSET = tmp;
1062:HW/SDCard/SDCard_sdio.c ****  
1063:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
1064:HW/SDCard/SDCard_sdio.c **** }
1065:HW/SDCard/SDCard_sdio.c **** 
1066:HW/SDCard/SDCard_sdio.c **** /**
1067:HW/SDCard/SDCard_sdio.c ****   * @brief  Enables wide bus opeartion for the requeseted card if supported by 
1068:HW/SDCard/SDCard_sdio.c ****   *         card.
1069:HW/SDCard/SDCard_sdio.c ****   * @param  WideMode: Specifies the SD card wide bus mode. 
1070:HW/SDCard/SDCard_sdio.c ****   *   This parameter can be one of the following values:
1071:HW/SDCard/SDCard_sdio.c ****   *     @arg SDIO_BusWide_8b: 8-bit data transfer (Only for MMC)
1072:HW/SDCard/SDCard_sdio.c ****   *     @arg SDIO_BusWide_4b: 4-bit data transfer
1073:HW/SDCard/SDCard_sdio.c ****   *     @arg SDIO_BusWide_1b: 1-bit data transfer
1074:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
1075:HW/SDCard/SDCard_sdio.c ****   */
1076:HW/SDCard/SDCard_sdio.c **** SD_Error SD_EnableWideBusOperation(uint32_t WideMode)
1077:HW/SDCard/SDCard_sdio.c **** {
1078:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
1079:HW/SDCard/SDCard_sdio.c **** 
1080:HW/SDCard/SDCard_sdio.c ****   /*!< MMC Card doesn't support this feature */
1081:HW/SDCard/SDCard_sdio.c ****   if (SDIO_MULTIMEDIA_CARD == CardType)
1082:HW/SDCard/SDCard_sdio.c ****   {
1083:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_UNSUPPORTED_FEATURE;
1084:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1085:HW/SDCard/SDCard_sdio.c ****   }
1086:HW/SDCard/SDCard_sdio.c ****   else if ((SDIO_STD_CAPACITY_SD_CARD_V1_1 == CardType) || (SDIO_STD_CAPACITY_SD_CARD_V2_0 == CardT
1087:HW/SDCard/SDCard_sdio.c ****   {
1088:HW/SDCard/SDCard_sdio.c ****     if (SDIO_BusWide_8b == WideMode)
1089:HW/SDCard/SDCard_sdio.c ****     {
1090:HW/SDCard/SDCard_sdio.c ****       errorstatus = SD_UNSUPPORTED_FEATURE;
1091:HW/SDCard/SDCard_sdio.c ****       return(errorstatus);
1092:HW/SDCard/SDCard_sdio.c ****     }
1093:HW/SDCard/SDCard_sdio.c ****     else if (SDIO_BusWide_4b == WideMode)
1094:HW/SDCard/SDCard_sdio.c ****     {
1095:HW/SDCard/SDCard_sdio.c ****       errorstatus = SDEnWideBus(ENABLE);
1096:HW/SDCard/SDCard_sdio.c **** 
1097:HW/SDCard/SDCard_sdio.c ****       if (SD_OK == errorstatus)
1098:HW/SDCard/SDCard_sdio.c ****       {
1099:HW/SDCard/SDCard_sdio.c ****         /*!< Configure the SDIO peripheral */
1100:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockDiv = SDIO_TRANSFER_CLK_DIV; 
1101:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
1102:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
1103:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
1104:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_4b;
1105:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
1106:HW/SDCard/SDCard_sdio.c ****         SDIO_Init(&SDIO_InitStructure);
1107:HW/SDCard/SDCard_sdio.c ****       }
1108:HW/SDCard/SDCard_sdio.c ****     }
1109:HW/SDCard/SDCard_sdio.c ****     else
1110:HW/SDCard/SDCard_sdio.c ****     {
1111:HW/SDCard/SDCard_sdio.c ****       errorstatus = SDEnWideBus(DISABLE);
1112:HW/SDCard/SDCard_sdio.c **** 
1113:HW/SDCard/SDCard_sdio.c ****       if (SD_OK == errorstatus)
1114:HW/SDCard/SDCard_sdio.c ****       {
1115:HW/SDCard/SDCard_sdio.c ****         /*!< Configure the SDIO peripheral */
1116:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockDiv = SDIO_TRANSFER_CLK_DIV; 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 21


1117:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
1118:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
1119:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
1120:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_1b;
1121:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
1122:HW/SDCard/SDCard_sdio.c ****         SDIO_Init(&SDIO_InitStructure);
1123:HW/SDCard/SDCard_sdio.c ****       }
1124:HW/SDCard/SDCard_sdio.c ****     }
1125:HW/SDCard/SDCard_sdio.c ****   }
1126:HW/SDCard/SDCard_sdio.c **** 
1127:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
1128:HW/SDCard/SDCard_sdio.c **** }
1129:HW/SDCard/SDCard_sdio.c **** 
1130:HW/SDCard/SDCard_sdio.c **** /**
1131:HW/SDCard/SDCard_sdio.c ****   * @brief  Selects od Deselects the corresponding card.
1132:HW/SDCard/SDCard_sdio.c ****   * @param  addr: Address of the Card to be selected.
1133:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
1134:HW/SDCard/SDCard_sdio.c ****   */
1135:HW/SDCard/SDCard_sdio.c **** SD_Error SD_SelectDeselect(uint32_t addr)
1136:HW/SDCard/SDCard_sdio.c **** {
1137:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
1138:HW/SDCard/SDCard_sdio.c **** 
1139:HW/SDCard/SDCard_sdio.c ****   /*!< Send CMD7 SDIO_SEL_DESEL_CARD */
1140:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument =  addr;
1141:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SEL_DESEL_CARD;
1142:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1143:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1144:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1145:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1146:HW/SDCard/SDCard_sdio.c **** 
1147:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_SEL_DESEL_CARD);
1148:HW/SDCard/SDCard_sdio.c **** 
1149:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
1150:HW/SDCard/SDCard_sdio.c **** }
1151:HW/SDCard/SDCard_sdio.c **** 
1152:HW/SDCard/SDCard_sdio.c **** /**
1153:HW/SDCard/SDCard_sdio.c ****   * @brief  Allows to read one block from a specified address in a card. The Data
1154:HW/SDCard/SDCard_sdio.c ****   *         transfer can be managed by DMA mode or Polling mode. 
1155:HW/SDCard/SDCard_sdio.c ****   * @note   This operation should be followed by two functions to check if the 
1156:HW/SDCard/SDCard_sdio.c ****   *         DMA Controller and SD Card status.
1157:HW/SDCard/SDCard_sdio.c ****   *          - SD_ReadWaitOperation(): this function insure that the DMA
1158:HW/SDCard/SDCard_sdio.c ****   *            controller has finished all data transfer.
1159:HW/SDCard/SDCard_sdio.c ****   *          - SD_GetStatus(): to check that the SD Card has finished the 
1160:HW/SDCard/SDCard_sdio.c ****   *            data transfer and it is ready for data.            
1161:HW/SDCard/SDCard_sdio.c ****   * @param  readbuff: pointer to the buffer that will contain the received data
1162:HW/SDCard/SDCard_sdio.c ****   * @param  ReadAddr: Address from where data are to be read.  
1163:HW/SDCard/SDCard_sdio.c ****   * @param  BlockSize: the SD card Data block size. The Block size should be 512.
1164:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
1165:HW/SDCard/SDCard_sdio.c ****   */
1166:HW/SDCard/SDCard_sdio.c **** SD_Error SD_ReadBlock(uint8_t *readbuff, uint32_t ReadAddr, uint16_t BlockSize)
1167:HW/SDCard/SDCard_sdio.c **** {
1168:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
1169:HW/SDCard/SDCard_sdio.c **** #if defined (SD_POLLING_MODE) 
1170:HW/SDCard/SDCard_sdio.c ****   uint32_t count = 0, *tempbuff = (uint32_t *)readbuff;
1171:HW/SDCard/SDCard_sdio.c **** #endif
1172:HW/SDCard/SDCard_sdio.c **** 
1173:HW/SDCard/SDCard_sdio.c ****   TransferError = SD_OK;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 22


1174:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 0;
1175:HW/SDCard/SDCard_sdio.c ****   StopCondition = 0;
1176:HW/SDCard/SDCard_sdio.c ****   
1177:HW/SDCard/SDCard_sdio.c ****   SDIO->DCTRL = 0x0;
1178:HW/SDCard/SDCard_sdio.c **** 
1179:HW/SDCard/SDCard_sdio.c ****   
1180:HW/SDCard/SDCard_sdio.c ****   if (CardType == SDIO_HIGH_CAPACITY_SD_CARD)
1181:HW/SDCard/SDCard_sdio.c ****   {
1182:HW/SDCard/SDCard_sdio.c ****     BlockSize = 512;
1183:HW/SDCard/SDCard_sdio.c ****     ReadAddr /= 512;
1184:HW/SDCard/SDCard_sdio.c ****   }
1185:HW/SDCard/SDCard_sdio.c **** 
1186:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataTimeOut = SD_DATATIMEOUT;
1187:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = BlockSize;
1188:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
1189:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
1190:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
1191:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
1192:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
1193:HW/SDCard/SDCard_sdio.c **** 
1194:HW/SDCard/SDCard_sdio.c ****   /*!< Send CMD17 READ_SINGLE_BLOCK */
1195:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t)ReadAddr;
1196:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_READ_SINGLE_BLOCK;
1197:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1198:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1199:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1200:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1201:HW/SDCard/SDCard_sdio.c **** 
1202:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_READ_SINGLE_BLOCK);
1203:HW/SDCard/SDCard_sdio.c **** 
1204:HW/SDCard/SDCard_sdio.c ****   if (errorstatus != SD_OK)
1205:HW/SDCard/SDCard_sdio.c ****   {
1206:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1207:HW/SDCard/SDCard_sdio.c ****   }
1208:HW/SDCard/SDCard_sdio.c **** 
1209:HW/SDCard/SDCard_sdio.c **** #if defined (SD_POLLING_MODE)  
1210:HW/SDCard/SDCard_sdio.c ****   /*!< In case of single block transfer, no need of stop transfer at all.*/
1211:HW/SDCard/SDCard_sdio.c ****   /*!< Polling mode */
1212:HW/SDCard/SDCard_sdio.c ****   while (!(SDIO->STA &(SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SDIO_FLAG_DBCK
1213:HW/SDCard/SDCard_sdio.c ****   {
1214:HW/SDCard/SDCard_sdio.c ****     if (SDIO_GetFlagStatus(SDIO_FLAG_RXFIFOHF) != RESET)
1215:HW/SDCard/SDCard_sdio.c ****     {
1216:HW/SDCard/SDCard_sdio.c ****       for (count = 0; count < 8; count++)
1217:HW/SDCard/SDCard_sdio.c ****       {
1218:HW/SDCard/SDCard_sdio.c ****         *(tempbuff + count) = SDIO_ReadData();
1219:HW/SDCard/SDCard_sdio.c ****       }
1220:HW/SDCard/SDCard_sdio.c ****       tempbuff += 8;
1221:HW/SDCard/SDCard_sdio.c ****     }
1222:HW/SDCard/SDCard_sdio.c ****   }
1223:HW/SDCard/SDCard_sdio.c **** 
1224:HW/SDCard/SDCard_sdio.c ****   if (SDIO_GetFlagStatus(SDIO_FLAG_DTIMEOUT) != RESET)
1225:HW/SDCard/SDCard_sdio.c ****   {
1226:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_DTIMEOUT);
1227:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_DATA_TIMEOUT;
1228:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1229:HW/SDCard/SDCard_sdio.c ****   }
1230:HW/SDCard/SDCard_sdio.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_DCRCFAIL) != RESET)
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 23


1231:HW/SDCard/SDCard_sdio.c ****   {
1232:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_DCRCFAIL);
1233:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_DATA_CRC_FAIL;
1234:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1235:HW/SDCard/SDCard_sdio.c ****   }
1236:HW/SDCard/SDCard_sdio.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_RXOVERR) != RESET)
1237:HW/SDCard/SDCard_sdio.c ****   {
1238:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_RXOVERR);
1239:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_RX_OVERRUN;
1240:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1241:HW/SDCard/SDCard_sdio.c ****   }
1242:HW/SDCard/SDCard_sdio.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_STBITERR) != RESET)
1243:HW/SDCard/SDCard_sdio.c ****   {
1244:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_STBITERR);
1245:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_START_BIT_ERR;
1246:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1247:HW/SDCard/SDCard_sdio.c ****   }
1248:HW/SDCard/SDCard_sdio.c ****   while (SDIO_GetFlagStatus(SDIO_FLAG_RXDAVL) != RESET)
1249:HW/SDCard/SDCard_sdio.c ****   {
1250:HW/SDCard/SDCard_sdio.c ****     *tempbuff = SDIO_ReadData();
1251:HW/SDCard/SDCard_sdio.c ****     tempbuff++;
1252:HW/SDCard/SDCard_sdio.c ****   }
1253:HW/SDCard/SDCard_sdio.c ****   
1254:HW/SDCard/SDCard_sdio.c ****   /*!< Clear all the static flags */
1255:HW/SDCard/SDCard_sdio.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
1256:HW/SDCard/SDCard_sdio.c **** 
1257:HW/SDCard/SDCard_sdio.c **** #elif defined (SD_DMA_MODE)
1258:HW/SDCard/SDCard_sdio.c ****     SDIO_ITConfig(SDIO_IT_DATAEND, ENABLE);
1259:HW/SDCard/SDCard_sdio.c ****     SDIO_DMACmd(ENABLE);
1260:HW/SDCard/SDCard_sdio.c ****     SD_RxDMA_Configuration((uint32_t *)readbuff, BlockSize);
1261:HW/SDCard/SDCard_sdio.c **** #endif
1262:HW/SDCard/SDCard_sdio.c **** 
1263:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
1264:HW/SDCard/SDCard_sdio.c **** }
1265:HW/SDCard/SDCard_sdio.c **** 
1266:HW/SDCard/SDCard_sdio.c **** /**
1267:HW/SDCard/SDCard_sdio.c ****   * @brief  Allows to read blocks from a specified address  in a card.  The Data
1268:HW/SDCard/SDCard_sdio.c ****   *         transfer can be managed by DMA mode or Polling mode. 
1269:HW/SDCard/SDCard_sdio.c ****   * @note   This operation should be followed by two functions to check if the 
1270:HW/SDCard/SDCard_sdio.c ****   *         DMA Controller and SD Card status.
1271:HW/SDCard/SDCard_sdio.c ****   *          - SD_ReadWaitOperation(): this function insure that the DMA
1272:HW/SDCard/SDCard_sdio.c ****   *            controller has finished all data transfer.
1273:HW/SDCard/SDCard_sdio.c ****   *          - SD_GetStatus(): to check that the SD Card has finished the 
1274:HW/SDCard/SDCard_sdio.c ****   *            data transfer and it is ready for data.   
1275:HW/SDCard/SDCard_sdio.c ****   * @param  readbuff: pointer to the buffer that will contain the received data.
1276:HW/SDCard/SDCard_sdio.c ****   * @param  ReadAddr: Address from where data are to be read.
1277:HW/SDCard/SDCard_sdio.c ****   * @param  BlockSize: the SD card Data block size. The Block size should be 512.
1278:HW/SDCard/SDCard_sdio.c ****   * @param  NumberOfBlocks: number of blocks to be read.
1279:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
1280:HW/SDCard/SDCard_sdio.c ****   */
1281:HW/SDCard/SDCard_sdio.c **** SD_Error SD_ReadMultiBlocks(uint8_t *readbuff, uint32_t ReadAddr, uint16_t BlockSize, uint32_t Numb
1282:HW/SDCard/SDCard_sdio.c **** {
1283:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
1284:HW/SDCard/SDCard_sdio.c ****   TransferError = SD_OK;
1285:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 0;
1286:HW/SDCard/SDCard_sdio.c ****   StopCondition = 1;
1287:HW/SDCard/SDCard_sdio.c **** 	
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 24


1288:HW/SDCard/SDCard_sdio.c ****   SDIO->DCTRL = 0x0;
1289:HW/SDCard/SDCard_sdio.c **** 
1290:HW/SDCard/SDCard_sdio.c ****   if (CardType == SDIO_HIGH_CAPACITY_SD_CARD)
1291:HW/SDCard/SDCard_sdio.c ****   {
1292:HW/SDCard/SDCard_sdio.c ****     BlockSize = 512;
1293:HW/SDCard/SDCard_sdio.c ****     ReadAddr /= 512;
1294:HW/SDCard/SDCard_sdio.c ****   }
1295:HW/SDCard/SDCard_sdio.c **** 
1296:HW/SDCard/SDCard_sdio.c ****   /*!< Set Block Size for Card */
1297:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t) BlockSize;
1298:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCKLEN;
1299:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1300:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1301:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1302:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1303:HW/SDCard/SDCard_sdio.c **** 
1304:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_SET_BLOCKLEN);
1305:HW/SDCard/SDCard_sdio.c **** 
1306:HW/SDCard/SDCard_sdio.c ****   if (SD_OK != errorstatus)
1307:HW/SDCard/SDCard_sdio.c ****   {
1308:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1309:HW/SDCard/SDCard_sdio.c ****   }
1310:HW/SDCard/SDCard_sdio.c ****     
1311:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataTimeOut = SD_DATATIMEOUT;
1312:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = NumberOfBlocks * BlockSize;
1313:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
1314:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
1315:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
1316:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
1317:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
1318:HW/SDCard/SDCard_sdio.c **** 
1319:HW/SDCard/SDCard_sdio.c ****   /*!< Send CMD18 READ_MULT_BLOCK with argument data address */
1320:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t)ReadAddr;
1321:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_READ_MULT_BLOCK;
1322:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1323:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1324:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1325:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1326:HW/SDCard/SDCard_sdio.c **** 
1327:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_READ_MULT_BLOCK);
1328:HW/SDCard/SDCard_sdio.c **** 
1329:HW/SDCard/SDCard_sdio.c ****   if (errorstatus != SD_OK)
1330:HW/SDCard/SDCard_sdio.c ****   {
1331:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1332:HW/SDCard/SDCard_sdio.c ****   }
1333:HW/SDCard/SDCard_sdio.c **** 
1334:HW/SDCard/SDCard_sdio.c ****   SDIO_ITConfig(SDIO_IT_DATAEND, ENABLE);
1335:HW/SDCard/SDCard_sdio.c ****   SDIO_DMACmd(ENABLE);
1336:HW/SDCard/SDCard_sdio.c ****   SD_RxDMA_Configuration((uint32_t *)readbuff, (NumberOfBlocks * BlockSize));
1337:HW/SDCard/SDCard_sdio.c **** 
1338:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
1339:HW/SDCard/SDCard_sdio.c **** }
1340:HW/SDCard/SDCard_sdio.c **** 
1341:HW/SDCard/SDCard_sdio.c **** /**
1342:HW/SDCard/SDCard_sdio.c ****   * @brief  This function waits until the SDIO DMA data transfer is finished. 
1343:HW/SDCard/SDCard_sdio.c ****   *         This function should be called after SDIO_ReadMultiBlocks() function
1344:HW/SDCard/SDCard_sdio.c ****   *         to insure that all data sent by the card are already transferred by 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 25


1345:HW/SDCard/SDCard_sdio.c ****   *         the DMA controller.        
1346:HW/SDCard/SDCard_sdio.c ****   * @param  None.
1347:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
1348:HW/SDCard/SDCard_sdio.c ****   */
1349:HW/SDCard/SDCard_sdio.c **** SD_Error SD_WaitReadOperation(void)
1350:HW/SDCard/SDCard_sdio.c **** {
1351:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
1352:HW/SDCard/SDCard_sdio.c **** 
1353:HW/SDCard/SDCard_sdio.c ****   while ((SD_DMAEndOfTransferStatus() == RESET) && (TransferEnd == 0) && (TransferError == SD_OK))
1354:HW/SDCard/SDCard_sdio.c ****   {}
1355:HW/SDCard/SDCard_sdio.c **** 
1356:HW/SDCard/SDCard_sdio.c ****   if (TransferError != SD_OK)
1357:HW/SDCard/SDCard_sdio.c ****   {
1358:HW/SDCard/SDCard_sdio.c ****     return(TransferError);
1359:HW/SDCard/SDCard_sdio.c ****   }
1360:HW/SDCard/SDCard_sdio.c **** 
1361:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
1362:HW/SDCard/SDCard_sdio.c **** }
1363:HW/SDCard/SDCard_sdio.c **** 
1364:HW/SDCard/SDCard_sdio.c **** /**
1365:HW/SDCard/SDCard_sdio.c ****   * @brief  Allows to write one block starting from a specified address in a card.
1366:HW/SDCard/SDCard_sdio.c ****   *         The Data transfer can be managed by DMA mode or Polling mode.
1367:HW/SDCard/SDCard_sdio.c ****   * @note   This operation should be followed by two functions to check if the 
1368:HW/SDCard/SDCard_sdio.c ****   *         DMA Controller and SD Card status.
1369:HW/SDCard/SDCard_sdio.c ****   *          - SD_ReadWaitOperation(): this function insure that the DMA
1370:HW/SDCard/SDCard_sdio.c ****   *            controller has finished all data transfer.
1371:HW/SDCard/SDCard_sdio.c ****   *          - SD_GetStatus(): to check that the SD Card has finished the 
1372:HW/SDCard/SDCard_sdio.c ****   *            data transfer and it is ready for data.      
1373:HW/SDCard/SDCard_sdio.c ****   * @param  writebuff: pointer to the buffer that contain the data to be transferred.
1374:HW/SDCard/SDCard_sdio.c ****   * @param  WriteAddr: Address from where data are to be read.   
1375:HW/SDCard/SDCard_sdio.c ****   * @param  BlockSize: the SD card Data block size. The Block size should be 512.
1376:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
1377:HW/SDCard/SDCard_sdio.c ****   */
1378:HW/SDCard/SDCard_sdio.c **** SD_Error SD_WriteBlock(uint8_t *writebuff, uint32_t WriteAddr, uint16_t BlockSize)
1379:HW/SDCard/SDCard_sdio.c **** {
1380:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
1381:HW/SDCard/SDCard_sdio.c **** 
1382:HW/SDCard/SDCard_sdio.c **** #if defined (SD_POLLING_MODE)
1383:HW/SDCard/SDCard_sdio.c ****   uint32_t bytestransferred = 0, count = 0, restwords = 0;
1384:HW/SDCard/SDCard_sdio.c ****   uint32_t *tempbuff = (uint32_t *)writebuff;
1385:HW/SDCard/SDCard_sdio.c **** #endif
1386:HW/SDCard/SDCard_sdio.c **** 
1387:HW/SDCard/SDCard_sdio.c ****   TransferError = SD_OK;
1388:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 0;
1389:HW/SDCard/SDCard_sdio.c ****   StopCondition = 0;
1390:HW/SDCard/SDCard_sdio.c ****   
1391:HW/SDCard/SDCard_sdio.c ****   SDIO->DCTRL = 0x0;
1392:HW/SDCard/SDCard_sdio.c **** 
1393:HW/SDCard/SDCard_sdio.c **** 
1394:HW/SDCard/SDCard_sdio.c ****   if (CardType == SDIO_HIGH_CAPACITY_SD_CARD)
1395:HW/SDCard/SDCard_sdio.c ****   {
1396:HW/SDCard/SDCard_sdio.c ****     BlockSize = 512;
1397:HW/SDCard/SDCard_sdio.c ****     WriteAddr /= 512;
1398:HW/SDCard/SDCard_sdio.c ****   }
1399:HW/SDCard/SDCard_sdio.c ****   
1400:HW/SDCard/SDCard_sdio.c ****   /*!< Send CMD24 WRITE_SINGLE_BLOCK */
1401:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = WriteAddr;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 26


1402:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_WRITE_SINGLE_BLOCK;
1403:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1404:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1405:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1406:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1407:HW/SDCard/SDCard_sdio.c **** 
1408:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_WRITE_SINGLE_BLOCK);
1409:HW/SDCard/SDCard_sdio.c **** 
1410:HW/SDCard/SDCard_sdio.c ****   if (errorstatus != SD_OK)
1411:HW/SDCard/SDCard_sdio.c ****   {
1412:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1413:HW/SDCard/SDCard_sdio.c ****   }
1414:HW/SDCard/SDCard_sdio.c **** 
1415:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataTimeOut = SD_DATATIMEOUT;
1416:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = BlockSize;
1417:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
1418:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToCard;
1419:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
1420:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
1421:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
1422:HW/SDCard/SDCard_sdio.c **** 
1423:HW/SDCard/SDCard_sdio.c ****   /*!< In case of single data block transfer no need of stop command at all */
1424:HW/SDCard/SDCard_sdio.c **** #if defined (SD_POLLING_MODE) 
1425:HW/SDCard/SDCard_sdio.c ****   while (!(SDIO->STA & (SDIO_FLAG_DBCKEND | SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTI
1426:HW/SDCard/SDCard_sdio.c ****   {
1427:HW/SDCard/SDCard_sdio.c ****     if (SDIO_GetFlagStatus(SDIO_FLAG_TXFIFOHE) != RESET)
1428:HW/SDCard/SDCard_sdio.c ****     {
1429:HW/SDCard/SDCard_sdio.c ****       if ((512 - bytestransferred) < 32)
1430:HW/SDCard/SDCard_sdio.c ****       {
1431:HW/SDCard/SDCard_sdio.c ****         restwords = ((512 - bytestransferred) % 4 == 0) ? ((512 - bytestransferred) / 4) : (( 512 -
1432:HW/SDCard/SDCard_sdio.c ****         for (count = 0; count < restwords; count++, tempbuff++, bytestransferred += 4)
1433:HW/SDCard/SDCard_sdio.c ****         {
1434:HW/SDCard/SDCard_sdio.c ****           SDIO_WriteData(*tempbuff);
1435:HW/SDCard/SDCard_sdio.c ****         }
1436:HW/SDCard/SDCard_sdio.c ****       }
1437:HW/SDCard/SDCard_sdio.c ****       else
1438:HW/SDCard/SDCard_sdio.c ****       {
1439:HW/SDCard/SDCard_sdio.c ****         for (count = 0; count < 8; count++)
1440:HW/SDCard/SDCard_sdio.c ****         {
1441:HW/SDCard/SDCard_sdio.c ****           SDIO_WriteData(*(tempbuff + count));
1442:HW/SDCard/SDCard_sdio.c ****         }
1443:HW/SDCard/SDCard_sdio.c ****         tempbuff += 8;
1444:HW/SDCard/SDCard_sdio.c ****         bytestransferred += 32;
1445:HW/SDCard/SDCard_sdio.c ****       }
1446:HW/SDCard/SDCard_sdio.c ****     }
1447:HW/SDCard/SDCard_sdio.c ****   }
1448:HW/SDCard/SDCard_sdio.c ****   if (SDIO_GetFlagStatus(SDIO_FLAG_DTIMEOUT) != RESET)
1449:HW/SDCard/SDCard_sdio.c ****   {
1450:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_DTIMEOUT);
1451:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_DATA_TIMEOUT;
1452:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1453:HW/SDCard/SDCard_sdio.c ****   }
1454:HW/SDCard/SDCard_sdio.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_DCRCFAIL) != RESET)
1455:HW/SDCard/SDCard_sdio.c ****   {
1456:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_DCRCFAIL);
1457:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_DATA_CRC_FAIL;
1458:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 27


1459:HW/SDCard/SDCard_sdio.c ****   }
1460:HW/SDCard/SDCard_sdio.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_TXUNDERR) != RESET)
1461:HW/SDCard/SDCard_sdio.c ****   {
1462:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_TXUNDERR);
1463:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_TX_UNDERRUN;
1464:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1465:HW/SDCard/SDCard_sdio.c ****   }
1466:HW/SDCard/SDCard_sdio.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_STBITERR) != RESET)
1467:HW/SDCard/SDCard_sdio.c ****   {
1468:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_STBITERR);
1469:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_START_BIT_ERR;
1470:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1471:HW/SDCard/SDCard_sdio.c ****   }
1472:HW/SDCard/SDCard_sdio.c **** #elif defined (SD_DMA_MODE)
1473:HW/SDCard/SDCard_sdio.c ****   SDIO_ITConfig(SDIO_IT_DATAEND, ENABLE);
1474:HW/SDCard/SDCard_sdio.c ****   SD_TxDMA_Configuration((uint32_t *)writebuff, BlockSize);
1475:HW/SDCard/SDCard_sdio.c ****   SDIO_DMACmd(ENABLE);
1476:HW/SDCard/SDCard_sdio.c **** #endif
1477:HW/SDCard/SDCard_sdio.c **** 
1478:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
1479:HW/SDCard/SDCard_sdio.c **** }
1480:HW/SDCard/SDCard_sdio.c **** 
1481:HW/SDCard/SDCard_sdio.c **** /**
1482:HW/SDCard/SDCard_sdio.c ****   * @brief  Allows to write blocks starting from a specified address in a card.
1483:HW/SDCard/SDCard_sdio.c ****   *         The Data transfer can be managed by DMA mode only. 
1484:HW/SDCard/SDCard_sdio.c ****   * @note   This operation should be followed by two functions to check if the 
1485:HW/SDCard/SDCard_sdio.c ****   *         DMA Controller and SD Card status.
1486:HW/SDCard/SDCard_sdio.c ****   *          - SD_ReadWaitOperation(): this function insure that the DMA
1487:HW/SDCard/SDCard_sdio.c ****   *            controller has finished all data transfer.
1488:HW/SDCard/SDCard_sdio.c ****   *          - SD_GetStatus(): to check that the SD Card has finished the 
1489:HW/SDCard/SDCard_sdio.c ****   *            data transfer and it is ready for data.     
1490:HW/SDCard/SDCard_sdio.c ****   * @param  WriteAddr: Address from where data are to be read.
1491:HW/SDCard/SDCard_sdio.c ****   * @param  writebuff: pointer to the buffer that contain the data to be transferred.
1492:HW/SDCard/SDCard_sdio.c ****   * @param  BlockSize: the SD card Data block size. The Block size should be 512.
1493:HW/SDCard/SDCard_sdio.c ****   * @param  NumberOfBlocks: number of blocks to be written.
1494:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
1495:HW/SDCard/SDCard_sdio.c ****   */
1496:HW/SDCard/SDCard_sdio.c **** SD_Error SD_WriteMultiBlocks(uint8_t *writebuff, uint32_t WriteAddr, uint16_t BlockSize, uint32_t N
1497:HW/SDCard/SDCard_sdio.c **** {
1498:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
1499:HW/SDCard/SDCard_sdio.c ****   __IO uint32_t count = 0;
1500:HW/SDCard/SDCard_sdio.c **** 
1501:HW/SDCard/SDCard_sdio.c ****   TransferError = SD_OK;
1502:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 0;
1503:HW/SDCard/SDCard_sdio.c ****   StopCondition = 1;
1504:HW/SDCard/SDCard_sdio.c ****   
1505:HW/SDCard/SDCard_sdio.c ****   SDIO->DCTRL = 0x0;
1506:HW/SDCard/SDCard_sdio.c **** 
1507:HW/SDCard/SDCard_sdio.c ****   if (CardType == SDIO_HIGH_CAPACITY_SD_CARD)
1508:HW/SDCard/SDCard_sdio.c ****   {
1509:HW/SDCard/SDCard_sdio.c ****     BlockSize = 512;
1510:HW/SDCard/SDCard_sdio.c ****     WriteAddr /= 512;
1511:HW/SDCard/SDCard_sdio.c ****   }
1512:HW/SDCard/SDCard_sdio.c **** 
1513:HW/SDCard/SDCard_sdio.c ****   /*!< To improve performance */
1514:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t) (RCA << 16);
1515:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 28


1516:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1517:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1518:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1519:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1520:HW/SDCard/SDCard_sdio.c **** 
1521:HW/SDCard/SDCard_sdio.c **** 
1522:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
1523:HW/SDCard/SDCard_sdio.c **** 
1524:HW/SDCard/SDCard_sdio.c ****   if (errorstatus != SD_OK)
1525:HW/SDCard/SDCard_sdio.c ****   {
1526:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1527:HW/SDCard/SDCard_sdio.c ****   }
1528:HW/SDCard/SDCard_sdio.c ****   /*!< To improve performance */
1529:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t)NumberOfBlocks;
1530:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCK_COUNT;
1531:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1532:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1533:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1534:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1535:HW/SDCard/SDCard_sdio.c **** 
1536:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_SET_BLOCK_COUNT);
1537:HW/SDCard/SDCard_sdio.c **** 
1538:HW/SDCard/SDCard_sdio.c ****   if (errorstatus != SD_OK)
1539:HW/SDCard/SDCard_sdio.c ****   {
1540:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1541:HW/SDCard/SDCard_sdio.c ****   }
1542:HW/SDCard/SDCard_sdio.c **** 
1543:HW/SDCard/SDCard_sdio.c **** 
1544:HW/SDCard/SDCard_sdio.c ****   /*!< Send CMD25 WRITE_MULT_BLOCK with argument data address */
1545:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t)WriteAddr;
1546:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_WRITE_MULT_BLOCK;
1547:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1548:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1549:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1550:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1551:HW/SDCard/SDCard_sdio.c **** 
1552:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_WRITE_MULT_BLOCK);
1553:HW/SDCard/SDCard_sdio.c **** 
1554:HW/SDCard/SDCard_sdio.c ****   if (SD_OK != errorstatus)
1555:HW/SDCard/SDCard_sdio.c ****   {
1556:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1557:HW/SDCard/SDCard_sdio.c ****   }
1558:HW/SDCard/SDCard_sdio.c **** 
1559:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataTimeOut = SD_DATATIMEOUT;
1560:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = NumberOfBlocks * BlockSize;
1561:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
1562:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToCard;
1563:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
1564:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
1565:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
1566:HW/SDCard/SDCard_sdio.c **** 
1567:HW/SDCard/SDCard_sdio.c ****   SDIO_ITConfig(SDIO_IT_DATAEND, ENABLE);
1568:HW/SDCard/SDCard_sdio.c ****   SDIO_DMACmd(ENABLE);    
1569:HW/SDCard/SDCard_sdio.c ****   SD_TxDMA_Configuration((uint32_t *)writebuff, (NumberOfBlocks * BlockSize));
1570:HW/SDCard/SDCard_sdio.c **** 
1571:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
1572:HW/SDCard/SDCard_sdio.c **** }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 29


1573:HW/SDCard/SDCard_sdio.c **** 
1574:HW/SDCard/SDCard_sdio.c **** /**
1575:HW/SDCard/SDCard_sdio.c ****   * @brief  This function waits until the SDIO DMA data transfer is finished. 
1576:HW/SDCard/SDCard_sdio.c ****   *         This function should be called after SDIO_WriteBlock() and
1577:HW/SDCard/SDCard_sdio.c ****   *         SDIO_WriteMultiBlocks() function to insure that all data sent by the 
1578:HW/SDCard/SDCard_sdio.c ****   *         card are already transferred by the DMA controller.        
1579:HW/SDCard/SDCard_sdio.c ****   * @param  None.
1580:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
1581:HW/SDCard/SDCard_sdio.c ****   */
1582:HW/SDCard/SDCard_sdio.c **** SD_Error SD_WaitWriteOperation(void)
1583:HW/SDCard/SDCard_sdio.c **** {
1584:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
1585:HW/SDCard/SDCard_sdio.c **** 
1586:HW/SDCard/SDCard_sdio.c ****   while ((SD_DMAEndOfTransferStatus() == RESET) && (TransferEnd == 0) && (TransferError == SD_OK))
1587:HW/SDCard/SDCard_sdio.c ****   {}
1588:HW/SDCard/SDCard_sdio.c **** 
1589:HW/SDCard/SDCard_sdio.c ****   if (TransferError != SD_OK)
1590:HW/SDCard/SDCard_sdio.c ****   {
1591:HW/SDCard/SDCard_sdio.c ****     return(TransferError);
1592:HW/SDCard/SDCard_sdio.c ****   }
1593:HW/SDCard/SDCard_sdio.c **** 
1594:HW/SDCard/SDCard_sdio.c ****   /*!< Clear all the static flags */
1595:HW/SDCard/SDCard_sdio.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
1596:HW/SDCard/SDCard_sdio.c **** 
1597:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
1598:HW/SDCard/SDCard_sdio.c **** }
1599:HW/SDCard/SDCard_sdio.c **** 
1600:HW/SDCard/SDCard_sdio.c **** /**
1601:HW/SDCard/SDCard_sdio.c ****   * @brief  Gets the cuurent data transfer state.
1602:HW/SDCard/SDCard_sdio.c ****   * @param  None
1603:HW/SDCard/SDCard_sdio.c ****   * @retval SDTransferState: Data Transfer state.
1604:HW/SDCard/SDCard_sdio.c ****   *   This value can be: 
1605:HW/SDCard/SDCard_sdio.c ****   *        - SD_TRANSFER_OK: No data transfer is acting
1606:HW/SDCard/SDCard_sdio.c ****   *        - SD_TRANSFER_BUSY: Data transfer is acting
1607:HW/SDCard/SDCard_sdio.c ****   */
1608:HW/SDCard/SDCard_sdio.c **** SDTransferState SD_GetTransferState(void)
1609:HW/SDCard/SDCard_sdio.c **** {
1610:HW/SDCard/SDCard_sdio.c ****   if (SDIO->STA & (SDIO_FLAG_TXACT | SDIO_FLAG_RXACT))
1611:HW/SDCard/SDCard_sdio.c ****   {
1612:HW/SDCard/SDCard_sdio.c ****     return(SD_TRANSFER_BUSY);
1613:HW/SDCard/SDCard_sdio.c ****   }
1614:HW/SDCard/SDCard_sdio.c ****   else
1615:HW/SDCard/SDCard_sdio.c ****   {
1616:HW/SDCard/SDCard_sdio.c ****     return(SD_TRANSFER_OK);
1617:HW/SDCard/SDCard_sdio.c ****   }
1618:HW/SDCard/SDCard_sdio.c **** }
1619:HW/SDCard/SDCard_sdio.c **** 
1620:HW/SDCard/SDCard_sdio.c **** /**
1621:HW/SDCard/SDCard_sdio.c ****   * @brief  Aborts an ongoing data transfer.
1622:HW/SDCard/SDCard_sdio.c ****   * @param  None
1623:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
1624:HW/SDCard/SDCard_sdio.c ****   */
1625:HW/SDCard/SDCard_sdio.c **** SD_Error SD_StopTransfer(void)
1626:HW/SDCard/SDCard_sdio.c **** {
1627:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
1628:HW/SDCard/SDCard_sdio.c **** 
1629:HW/SDCard/SDCard_sdio.c ****   /*!< Send CMD12 STOP_TRANSMISSION  */
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 30


1630:HW/SDCard/SDCard_sdio.c ****   SDIO->ARG = 0x0;
1631:HW/SDCard/SDCard_sdio.c ****   SDIO->CMD = 0x44C;
1632:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_STOP_TRANSMISSION);
1633:HW/SDCard/SDCard_sdio.c **** 
1634:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
1635:HW/SDCard/SDCard_sdio.c **** }
1636:HW/SDCard/SDCard_sdio.c **** 
1637:HW/SDCard/SDCard_sdio.c **** /**
1638:HW/SDCard/SDCard_sdio.c ****   * @brief  Allows to erase memory area specified for the given card.
1639:HW/SDCard/SDCard_sdio.c ****   * @param  startaddr: the start address.
1640:HW/SDCard/SDCard_sdio.c ****   * @param  endaddr: the end address.
1641:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
1642:HW/SDCard/SDCard_sdio.c ****   */
1643:HW/SDCard/SDCard_sdio.c **** SD_Error SD_Erase(uint32_t startaddr, uint32_t endaddr)
1644:HW/SDCard/SDCard_sdio.c **** {
1645:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
1646:HW/SDCard/SDCard_sdio.c ****   uint32_t delay = 0;
1647:HW/SDCard/SDCard_sdio.c ****   __IO uint32_t maxdelay = 0;
1648:HW/SDCard/SDCard_sdio.c ****   uint8_t cardstate = 0;
1649:HW/SDCard/SDCard_sdio.c **** 
1650:HW/SDCard/SDCard_sdio.c ****   /*!< Check if the card coomnd class supports erase command */
1651:HW/SDCard/SDCard_sdio.c ****   if (((CSD_Tab[1] >> 20) & SD_CCCC_ERASE) == 0)
1652:HW/SDCard/SDCard_sdio.c ****   {
1653:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_REQUEST_NOT_APPLICABLE;
1654:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1655:HW/SDCard/SDCard_sdio.c ****   }
1656:HW/SDCard/SDCard_sdio.c **** 
1657:HW/SDCard/SDCard_sdio.c ****   maxdelay = 120000 / ((SDIO->CLKCR & 0xFF) + 2);
1658:HW/SDCard/SDCard_sdio.c **** 
1659:HW/SDCard/SDCard_sdio.c ****   if (SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED)
1660:HW/SDCard/SDCard_sdio.c ****   {
1661:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_LOCK_UNLOCK_FAILED;
1662:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1663:HW/SDCard/SDCard_sdio.c ****   }
1664:HW/SDCard/SDCard_sdio.c **** 
1665:HW/SDCard/SDCard_sdio.c ****   if (CardType == SDIO_HIGH_CAPACITY_SD_CARD)
1666:HW/SDCard/SDCard_sdio.c ****   {
1667:HW/SDCard/SDCard_sdio.c ****     startaddr /= 512;
1668:HW/SDCard/SDCard_sdio.c ****     endaddr /= 512;
1669:HW/SDCard/SDCard_sdio.c ****   }
1670:HW/SDCard/SDCard_sdio.c ****   
1671:HW/SDCard/SDCard_sdio.c ****   /*!< According to sd-card spec 1.0 ERASE_GROUP_START (CMD32) and erase_group_end(CMD33) */
1672:HW/SDCard/SDCard_sdio.c ****   if ((SDIO_STD_CAPACITY_SD_CARD_V1_1 == CardType) || (SDIO_STD_CAPACITY_SD_CARD_V2_0 == CardType) 
1673:HW/SDCard/SDCard_sdio.c ****   {
1674:HW/SDCard/SDCard_sdio.c ****     /*!< Send CMD32 SD_ERASE_GRP_START with argument as addr  */
1675:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Argument = startaddr;
1676:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_ERASE_GRP_START;
1677:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1678:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1679:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1680:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
1681:HW/SDCard/SDCard_sdio.c **** 
1682:HW/SDCard/SDCard_sdio.c ****     errorstatus = CmdResp1Error(SD_CMD_SD_ERASE_GRP_START);
1683:HW/SDCard/SDCard_sdio.c ****     if (errorstatus != SD_OK)
1684:HW/SDCard/SDCard_sdio.c ****     {
1685:HW/SDCard/SDCard_sdio.c ****       return(errorstatus);
1686:HW/SDCard/SDCard_sdio.c ****     }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 31


1687:HW/SDCard/SDCard_sdio.c **** 
1688:HW/SDCard/SDCard_sdio.c ****     /*!< Send CMD33 SD_ERASE_GRP_END with argument as addr  */
1689:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Argument = endaddr;
1690:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_ERASE_GRP_END;
1691:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1692:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1693:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1694:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
1695:HW/SDCard/SDCard_sdio.c **** 
1696:HW/SDCard/SDCard_sdio.c ****     errorstatus = CmdResp1Error(SD_CMD_SD_ERASE_GRP_END);
1697:HW/SDCard/SDCard_sdio.c ****     if (errorstatus != SD_OK)
1698:HW/SDCard/SDCard_sdio.c ****     {
1699:HW/SDCard/SDCard_sdio.c ****       return(errorstatus);
1700:HW/SDCard/SDCard_sdio.c ****     }
1701:HW/SDCard/SDCard_sdio.c ****   }
1702:HW/SDCard/SDCard_sdio.c **** 
1703:HW/SDCard/SDCard_sdio.c ****   /*!< Send CMD38 ERASE */
1704:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = 0;
1705:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_ERASE;
1706:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1707:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1708:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1709:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1710:HW/SDCard/SDCard_sdio.c **** 
1711:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_ERASE);
1712:HW/SDCard/SDCard_sdio.c **** 
1713:HW/SDCard/SDCard_sdio.c ****   if (errorstatus != SD_OK)
1714:HW/SDCard/SDCard_sdio.c ****   {
1715:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1716:HW/SDCard/SDCard_sdio.c ****   }
1717:HW/SDCard/SDCard_sdio.c **** 
1718:HW/SDCard/SDCard_sdio.c ****   for (delay = 0; delay < maxdelay; delay++)
1719:HW/SDCard/SDCard_sdio.c ****   {}
1720:HW/SDCard/SDCard_sdio.c **** 
1721:HW/SDCard/SDCard_sdio.c ****   /*!< Wait till the card is in programming state */
1722:HW/SDCard/SDCard_sdio.c ****   errorstatus = IsCardProgramming(&cardstate);
1723:HW/SDCard/SDCard_sdio.c **** 
1724:HW/SDCard/SDCard_sdio.c ****   while ((errorstatus == SD_OK) && ((SD_CARD_PROGRAMMING == cardstate) || (SD_CARD_RECEIVING == car
1725:HW/SDCard/SDCard_sdio.c ****   {
1726:HW/SDCard/SDCard_sdio.c ****     errorstatus = IsCardProgramming(&cardstate);
1727:HW/SDCard/SDCard_sdio.c ****   }
1728:HW/SDCard/SDCard_sdio.c **** 
1729:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
1730:HW/SDCard/SDCard_sdio.c **** }
1731:HW/SDCard/SDCard_sdio.c **** 
1732:HW/SDCard/SDCard_sdio.c **** /**
1733:HW/SDCard/SDCard_sdio.c ****   * @brief  Returns the current card's status.
1734:HW/SDCard/SDCard_sdio.c ****   * @param  pcardstatus: pointer to the buffer that will contain the SD card 
1735:HW/SDCard/SDCard_sdio.c ****   *         status (Card Status register).
1736:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
1737:HW/SDCard/SDCard_sdio.c ****   */
1738:HW/SDCard/SDCard_sdio.c **** SD_Error SD_SendStatus(uint32_t *pcardstatus)
1739:HW/SDCard/SDCard_sdio.c **** {
1740:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
1741:HW/SDCard/SDCard_sdio.c **** 
1742:HW/SDCard/SDCard_sdio.c ****   SDIO->ARG = (uint32_t) RCA << 16;
1743:HW/SDCard/SDCard_sdio.c ****   SDIO->CMD = 0x44D;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 32


1744:HW/SDCard/SDCard_sdio.c ****   
1745:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_SEND_STATUS);
1746:HW/SDCard/SDCard_sdio.c **** 
1747:HW/SDCard/SDCard_sdio.c ****   if (errorstatus != SD_OK)
1748:HW/SDCard/SDCard_sdio.c ****   {
1749:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1750:HW/SDCard/SDCard_sdio.c ****   }
1751:HW/SDCard/SDCard_sdio.c **** 
1752:HW/SDCard/SDCard_sdio.c ****   *pcardstatus = SDIO->RESP1;
1753:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
1754:HW/SDCard/SDCard_sdio.c **** }
1755:HW/SDCard/SDCard_sdio.c **** 
1756:HW/SDCard/SDCard_sdio.c **** /**
1757:HW/SDCard/SDCard_sdio.c ****   * @brief  Returns the current SD card's status.
1758:HW/SDCard/SDCard_sdio.c ****   * @param  psdstatus: pointer to the buffer that will contain the SD card status 
1759:HW/SDCard/SDCard_sdio.c ****   *         (SD Status register).
1760:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
1761:HW/SDCard/SDCard_sdio.c ****   */
1762:HW/SDCard/SDCard_sdio.c **** SD_Error SD_SendSDStatus(uint32_t *psdstatus)
1763:HW/SDCard/SDCard_sdio.c **** {
1764:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
1765:HW/SDCard/SDCard_sdio.c ****   uint32_t count = 0;
1766:HW/SDCard/SDCard_sdio.c **** 
1767:HW/SDCard/SDCard_sdio.c ****   if (SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED)
1768:HW/SDCard/SDCard_sdio.c ****   {
1769:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_LOCK_UNLOCK_FAILED;
1770:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1771:HW/SDCard/SDCard_sdio.c ****   }
1772:HW/SDCard/SDCard_sdio.c **** 
1773:HW/SDCard/SDCard_sdio.c ****   /*!< Set block size for card if it is not equal to current block size for card. */
1774:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = 64;
1775:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCKLEN;
1776:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1777:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1778:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1779:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1780:HW/SDCard/SDCard_sdio.c **** 
1781:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_SET_BLOCKLEN);
1782:HW/SDCard/SDCard_sdio.c **** 
1783:HW/SDCard/SDCard_sdio.c ****   if (errorstatus != SD_OK)
1784:HW/SDCard/SDCard_sdio.c ****   {
1785:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1786:HW/SDCard/SDCard_sdio.c ****   }
1787:HW/SDCard/SDCard_sdio.c **** 
1788:HW/SDCard/SDCard_sdio.c ****   /*!< CMD55 */
1789:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t) RCA << 16;
1790:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
1791:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1792:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1793:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1794:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1795:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
1796:HW/SDCard/SDCard_sdio.c **** 
1797:HW/SDCard/SDCard_sdio.c ****   if (errorstatus != SD_OK)
1798:HW/SDCard/SDCard_sdio.c ****   {
1799:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1800:HW/SDCard/SDCard_sdio.c ****   }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 33


1801:HW/SDCard/SDCard_sdio.c **** 
1802:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataTimeOut = SD_DATATIMEOUT;
1803:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = 64;
1804:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = SDIO_DataBlockSize_64b;
1805:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
1806:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
1807:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
1808:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
1809:HW/SDCard/SDCard_sdio.c **** 
1810:HW/SDCard/SDCard_sdio.c ****   /*!< Send ACMD13 SD_APP_STAUS  with argument as card's RCA.*/
1811:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = 0;
1812:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_STAUS;
1813:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1814:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1815:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1816:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1817:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_SD_APP_STAUS);
1818:HW/SDCard/SDCard_sdio.c **** 
1819:HW/SDCard/SDCard_sdio.c ****   if (errorstatus != SD_OK)
1820:HW/SDCard/SDCard_sdio.c ****   {
1821:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1822:HW/SDCard/SDCard_sdio.c ****   }
1823:HW/SDCard/SDCard_sdio.c **** 
1824:HW/SDCard/SDCard_sdio.c ****   while (!(SDIO->STA &(SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SDIO_FLAG_DBCK
1825:HW/SDCard/SDCard_sdio.c ****   {
1826:HW/SDCard/SDCard_sdio.c ****     if (SDIO_GetFlagStatus(SDIO_FLAG_RXFIFOHF) != RESET)
1827:HW/SDCard/SDCard_sdio.c ****     {
1828:HW/SDCard/SDCard_sdio.c ****       for (count = 0; count < 8; count++)
1829:HW/SDCard/SDCard_sdio.c ****       {
1830:HW/SDCard/SDCard_sdio.c ****         *(psdstatus + count) = SDIO_ReadData();
1831:HW/SDCard/SDCard_sdio.c ****       }
1832:HW/SDCard/SDCard_sdio.c ****       psdstatus += 8;
1833:HW/SDCard/SDCard_sdio.c ****     }
1834:HW/SDCard/SDCard_sdio.c ****   }
1835:HW/SDCard/SDCard_sdio.c **** 
1836:HW/SDCard/SDCard_sdio.c ****   if (SDIO_GetFlagStatus(SDIO_FLAG_DTIMEOUT) != RESET)
1837:HW/SDCard/SDCard_sdio.c ****   {
1838:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_DTIMEOUT);
1839:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_DATA_TIMEOUT;
1840:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1841:HW/SDCard/SDCard_sdio.c ****   }
1842:HW/SDCard/SDCard_sdio.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_DCRCFAIL) != RESET)
1843:HW/SDCard/SDCard_sdio.c ****   {
1844:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_DCRCFAIL);
1845:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_DATA_CRC_FAIL;
1846:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1847:HW/SDCard/SDCard_sdio.c ****   }
1848:HW/SDCard/SDCard_sdio.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_RXOVERR) != RESET)
1849:HW/SDCard/SDCard_sdio.c ****   {
1850:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_RXOVERR);
1851:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_RX_OVERRUN;
1852:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1853:HW/SDCard/SDCard_sdio.c ****   }
1854:HW/SDCard/SDCard_sdio.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_STBITERR) != RESET)
1855:HW/SDCard/SDCard_sdio.c ****   {
1856:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_STBITERR);
1857:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_START_BIT_ERR;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 34


1858:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1859:HW/SDCard/SDCard_sdio.c ****   }
1860:HW/SDCard/SDCard_sdio.c **** 
1861:HW/SDCard/SDCard_sdio.c ****   while (SDIO_GetFlagStatus(SDIO_FLAG_RXDAVL) != RESET)
1862:HW/SDCard/SDCard_sdio.c ****   {
1863:HW/SDCard/SDCard_sdio.c ****     *psdstatus = SDIO_ReadData();
1864:HW/SDCard/SDCard_sdio.c ****     psdstatus++;
1865:HW/SDCard/SDCard_sdio.c ****   }
1866:HW/SDCard/SDCard_sdio.c **** 
1867:HW/SDCard/SDCard_sdio.c ****   /*!< Clear all the static status flags*/
1868:HW/SDCard/SDCard_sdio.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
1869:HW/SDCard/SDCard_sdio.c **** 
1870:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
1871:HW/SDCard/SDCard_sdio.c **** }
1872:HW/SDCard/SDCard_sdio.c **** 
1873:HW/SDCard/SDCard_sdio.c **** /**
1874:HW/SDCard/SDCard_sdio.c ****   * @brief  Allows to process all the interrupts that are high.
1875:HW/SDCard/SDCard_sdio.c ****   * @param  None
1876:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
1877:HW/SDCard/SDCard_sdio.c ****   */
1878:HW/SDCard/SDCard_sdio.c **** SD_Error SD_ProcessIRQSrc(void)
1879:HW/SDCard/SDCard_sdio.c **** {
1880:HW/SDCard/SDCard_sdio.c ****   if (StopCondition == 1)
1881:HW/SDCard/SDCard_sdio.c ****   {
1882:HW/SDCard/SDCard_sdio.c ****     SDIO->ARG = 0x0;
1883:HW/SDCard/SDCard_sdio.c ****     SDIO->CMD = 0x44C;
1884:HW/SDCard/SDCard_sdio.c ****     TransferError = CmdResp1Error(SD_CMD_STOP_TRANSMISSION);
1885:HW/SDCard/SDCard_sdio.c ****   }
1886:HW/SDCard/SDCard_sdio.c ****   else
1887:HW/SDCard/SDCard_sdio.c ****   {
1888:HW/SDCard/SDCard_sdio.c ****     TransferError = SD_OK;
1889:HW/SDCard/SDCard_sdio.c ****   }
1890:HW/SDCard/SDCard_sdio.c ****   SDIO_ClearITPendingBit(SDIO_IT_DATAEND);
1891:HW/SDCard/SDCard_sdio.c ****   SDIO_ITConfig(SDIO_IT_DATAEND, DISABLE);
1892:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 1;
1893:HW/SDCard/SDCard_sdio.c ****   return(TransferError);
1894:HW/SDCard/SDCard_sdio.c **** }
1895:HW/SDCard/SDCard_sdio.c **** 
1896:HW/SDCard/SDCard_sdio.c **** /**
1897:HW/SDCard/SDCard_sdio.c ****   * @brief  Checks for error conditions for CMD0.
1898:HW/SDCard/SDCard_sdio.c ****   * @param  None
1899:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
1900:HW/SDCard/SDCard_sdio.c ****   */
1901:HW/SDCard/SDCard_sdio.c **** static SD_Error CmdError(void)
1902:HW/SDCard/SDCard_sdio.c **** {
1903:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
1904:HW/SDCard/SDCard_sdio.c ****   uint32_t timeout;
1905:HW/SDCard/SDCard_sdio.c **** 
1906:HW/SDCard/SDCard_sdio.c ****   timeout = SDIO_CMD0TIMEOUT; /*!< 10000 */
1907:HW/SDCard/SDCard_sdio.c **** 
1908:HW/SDCard/SDCard_sdio.c ****   /* Á≠âÂæÖÂëΩ‰ª§‰º†ËæìÂÆåÊàê‰∫ã‰ª∂ */
1909:HW/SDCard/SDCard_sdio.c ****   while ((timeout > 0) && (SDIO_GetFlagStatus(SDIO_FLAG_CMDSENT) == RESET))
1910:HW/SDCard/SDCard_sdio.c ****   {
1911:HW/SDCard/SDCard_sdio.c ****     timeout--;
1912:HW/SDCard/SDCard_sdio.c ****   }
1913:HW/SDCard/SDCard_sdio.c **** 
1914:HW/SDCard/SDCard_sdio.c ****   if (timeout == 0)
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 35


1915:HW/SDCard/SDCard_sdio.c ****   {
1916:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_CMD_RSP_TIMEOUT;
1917:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1918:HW/SDCard/SDCard_sdio.c ****   }
1919:HW/SDCard/SDCard_sdio.c **** 
1920:HW/SDCard/SDCard_sdio.c ****   /*!< Clear all the static flags */
1921:HW/SDCard/SDCard_sdio.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
1922:HW/SDCard/SDCard_sdio.c **** 
1923:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
1924:HW/SDCard/SDCard_sdio.c **** }
1925:HW/SDCard/SDCard_sdio.c **** 
1926:HW/SDCard/SDCard_sdio.c **** /**
1927:HW/SDCard/SDCard_sdio.c ****   * @brief  Checks for error conditions for R7 response.
1928:HW/SDCard/SDCard_sdio.c ****   * @param  None
1929:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
1930:HW/SDCard/SDCard_sdio.c ****   */
1931:HW/SDCard/SDCard_sdio.c **** static SD_Error CmdResp7Error(void)
1932:HW/SDCard/SDCard_sdio.c **** {
1933:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
1934:HW/SDCard/SDCard_sdio.c ****   uint32_t status;
1935:HW/SDCard/SDCard_sdio.c ****   uint32_t timeout = SDIO_CMD0TIMEOUT;
1936:HW/SDCard/SDCard_sdio.c **** 
1937:HW/SDCard/SDCard_sdio.c ****   status = SDIO->STA;
1938:HW/SDCard/SDCard_sdio.c **** 
1939:HW/SDCard/SDCard_sdio.c ****   /* Á≠âÂæÖ‰∫ã‰ª∂ÂèëÁîü */
1940:HW/SDCard/SDCard_sdio.c ****   while (!(status & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)) && (timeout > 0)
1941:HW/SDCard/SDCard_sdio.c ****   {
1942:HW/SDCard/SDCard_sdio.c ****     timeout--;
1943:HW/SDCard/SDCard_sdio.c ****     status = SDIO->STA;
1944:HW/SDCard/SDCard_sdio.c ****   }
1945:HW/SDCard/SDCard_sdio.c **** 
1946:HW/SDCard/SDCard_sdio.c ****   /* Âà§Êñ≠ÊòØÂê¶ÊòØË∂ÖÊó∂‰∫ã‰ª∂ */
1947:HW/SDCard/SDCard_sdio.c ****   if ((timeout == 0) || (status & SDIO_FLAG_CTIMEOUT))
1948:HW/SDCard/SDCard_sdio.c ****   {
1949:HW/SDCard/SDCard_sdio.c ****     /* Â¶ÇÊûúË∂ÖÊó∂ÂàôË°®Á§∫SDÂç°‰∏çÊòØ2.0ÔºåÊàñËÄÖÁîµÂéã‰∏çÂåπÈÖç */
1950:HW/SDCard/SDCard_sdio.c ****     /*!< Card is not V2.0 complient or card does not support the set voltage range */
1951:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_CMD_RSP_TIMEOUT;
1952:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
1953:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1954:HW/SDCard/SDCard_sdio.c ****   }
1955:HW/SDCard/SDCard_sdio.c **** 
1956:HW/SDCard/SDCard_sdio.c ****   /* Âà§Êñ≠ÊòØÂê¶ÊòØÊé•Êî∂Âà∞ÂìçÂ∫îÊé•‰∫ã‰ª∂ */
1957:HW/SDCard/SDCard_sdio.c ****   if (status & SDIO_FLAG_CMDREND)
1958:HW/SDCard/SDCard_sdio.c ****   {
1959:HW/SDCard/SDCard_sdio.c ****     /* Â¶ÇÊûúÊé•Êî∂Âà∞‰∫ÜÂìçÂ∫îÔºåÂàôË°®Á§∫‰∏ÄÂàáOK */
1960:HW/SDCard/SDCard_sdio.c ****     /*!< Card is SD V2.0 compliant */
1961:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_OK;
1962:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CMDREND);
1963:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
1964:HW/SDCard/SDCard_sdio.c ****   }
1965:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
1966:HW/SDCard/SDCard_sdio.c **** }
1967:HW/SDCard/SDCard_sdio.c **** 
1968:HW/SDCard/SDCard_sdio.c **** /**
1969:HW/SDCard/SDCard_sdio.c ****   * @brief  Checks for error conditions for R1 response.
1970:HW/SDCard/SDCard_sdio.c ****   * @param  cmd: The sent command index.
1971:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 36


1972:HW/SDCard/SDCard_sdio.c ****   */
1973:HW/SDCard/SDCard_sdio.c **** static SD_Error CmdResp1Error(uint8_t cmd)
1974:HW/SDCard/SDCard_sdio.c **** {
  26              		.loc 1 1974 1 view -0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
  31              	.LVL0:
  32              	.L2:
1975:HW/SDCard/SDCard_sdio.c ****   while (!(SDIO->STA & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
1976:HW/SDCard/SDCard_sdio.c ****   {
1977:HW/SDCard/SDCard_sdio.c ****   }
  33              		.loc 1 1977 3 discriminator 1 view .LVU1
1975:HW/SDCard/SDCard_sdio.c ****   while (!(SDIO->STA & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
  34              		.loc 1 1975 10 discriminator 1 view .LVU2
1975:HW/SDCard/SDCard_sdio.c ****   while (!(SDIO->STA & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
  35              		.loc 1 1975 16 is_stmt 0 discriminator 1 view .LVU3
  36 0000 064B     		ldr	r3, .L3
  37 0002 5B6B     		ldr	r3, [r3, #52]
1975:HW/SDCard/SDCard_sdio.c ****   while (!(SDIO->STA & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
  38              		.loc 1 1975 10 discriminator 1 view .LVU4
  39 0004 13F0450F 		tst	r3, #69
  40 0008 FAD0     		beq	.L2
1978:HW/SDCard/SDCard_sdio.c **** 
1979:HW/SDCard/SDCard_sdio.c ****   SDIO->ICR = SDIO_STATIC_FLAGS;
  41              		.loc 1 1979 3 is_stmt 1 view .LVU5
  42              		.loc 1 1979 13 is_stmt 0 view .LVU6
  43 000a 044B     		ldr	r3, .L3
  44 000c 40F2FF52 		movw	r2, #1535
  45 0010 9A63     		str	r2, [r3, #56]
1980:HW/SDCard/SDCard_sdio.c **** 
1981:HW/SDCard/SDCard_sdio.c ****   return (SD_Error)(SDIO->RESP1 &  SD_OCR_ERRORBITS);
  46              		.loc 1 1981 3 is_stmt 1 view .LVU7
  47              		.loc 1 1981 25 is_stmt 0 view .LVU8
  48 0012 5869     		ldr	r0, [r3, #20]
  49              	.LVL1:
1982:HW/SDCard/SDCard_sdio.c **** }
  50              		.loc 1 1982 1 view .LVU9
  51 0014 00F00800 		and	r0, r0, #8
  52 0018 7047     		bx	lr
  53              	.L4:
  54 001a 00BF     		.align	2
  55              	.L3:
  56 001c 00800140 		.word	1073840128
  57              		.cfi_endproc
  58              	.LFE55:
  60              		.section	.text.CmdError,"ax",%progbits
  61              		.align	1
  62              		.syntax unified
  63              		.thumb
  64              		.thumb_func
  66              	CmdError:
  67              	.LFB53:
1902:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
  68              		.loc 1 1902 1 is_stmt 1 view -0
  69              		.cfi_startproc
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 37


  70              		@ args = 0, pretend = 0, frame = 0
  71              		@ frame_needed = 0, uses_anonymous_args = 0
  72 0000 10B5     		push	{r4, lr}
  73              	.LCFI0:
  74              		.cfi_def_cfa_offset 8
  75              		.cfi_offset 4, -8
  76              		.cfi_offset 14, -4
1903:HW/SDCard/SDCard_sdio.c ****   uint32_t timeout;
  77              		.loc 1 1903 3 view .LVU11
  78              	.LVL2:
1904:HW/SDCard/SDCard_sdio.c **** 
  79              		.loc 1 1904 3 view .LVU12
1906:HW/SDCard/SDCard_sdio.c **** 
  80              		.loc 1 1906 3 view .LVU13
1909:HW/SDCard/SDCard_sdio.c ****   {
  81              		.loc 1 1909 3 view .LVU14
1906:HW/SDCard/SDCard_sdio.c **** 
  82              		.loc 1 1906 11 is_stmt 0 view .LVU15
  83 0002 4FF48034 		mov	r4, #65536
1909:HW/SDCard/SDCard_sdio.c ****   {
  84              		.loc 1 1909 9 view .LVU16
  85 0006 00E0     		b	.L6
  86              	.LVL3:
  87              	.L8:
1911:HW/SDCard/SDCard_sdio.c ****   }
  88              		.loc 1 1911 5 is_stmt 1 view .LVU17
1911:HW/SDCard/SDCard_sdio.c ****   }
  89              		.loc 1 1911 12 is_stmt 0 view .LVU18
  90 0008 013C     		subs	r4, r4, #1
  91              	.LVL4:
  92              	.L6:
1909:HW/SDCard/SDCard_sdio.c ****   {
  93              		.loc 1 1909 24 is_stmt 1 view .LVU19
  94 000a 24B1     		cbz	r4, .L7
1909:HW/SDCard/SDCard_sdio.c ****   {
  95              		.loc 1 1909 28 is_stmt 0 discriminator 1 view .LVU20
  96 000c 8020     		movs	r0, #128
  97 000e FFF7FEFF 		bl	SDIO_GetFlagStatus
  98              	.LVL5:
1909:HW/SDCard/SDCard_sdio.c ****   {
  99              		.loc 1 1909 24 discriminator 1 view .LVU21
 100 0012 0028     		cmp	r0, #0
 101 0014 F8D0     		beq	.L8
 102              	.L7:
1914:HW/SDCard/SDCard_sdio.c ****   {
 103              		.loc 1 1914 3 is_stmt 1 view .LVU22
1914:HW/SDCard/SDCard_sdio.c ****   {
 104              		.loc 1 1914 6 is_stmt 0 view .LVU23
 105 0016 2CB1     		cbz	r4, .L10
1921:HW/SDCard/SDCard_sdio.c **** 
 106              		.loc 1 1921 3 is_stmt 1 view .LVU24
 107 0018 40F2FF50 		movw	r0, #1535
 108 001c FFF7FEFF 		bl	SDIO_ClearFlag
 109              	.LVL6:
1923:HW/SDCard/SDCard_sdio.c **** }
 110              		.loc 1 1923 3 view .LVU25
1923:HW/SDCard/SDCard_sdio.c **** }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 38


 111              		.loc 1 1923 9 is_stmt 0 view .LVU26
 112 0020 0020     		movs	r0, #0
 113              	.L9:
 114              	.LVL7:
1924:HW/SDCard/SDCard_sdio.c **** 
 115              		.loc 1 1924 1 view .LVU27
 116 0022 10BD     		pop	{r4, pc}
 117              	.LVL8:
 118              	.L10:
1917:HW/SDCard/SDCard_sdio.c ****   }
 119              		.loc 1 1917 11 view .LVU28
 120 0024 0320     		movs	r0, #3
 121 0026 FCE7     		b	.L9
 122              		.cfi_endproc
 123              	.LFE53:
 125              		.section	.text.CmdResp7Error,"ax",%progbits
 126              		.align	1
 127              		.syntax unified
 128              		.thumb
 129              		.thumb_func
 131              	CmdResp7Error:
 132              	.LFB54:
1932:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 133              		.loc 1 1932 1 is_stmt 1 view -0
 134              		.cfi_startproc
 135              		@ args = 0, pretend = 0, frame = 0
 136              		@ frame_needed = 0, uses_anonymous_args = 0
 137 0000 08B5     		push	{r3, lr}
 138              	.LCFI1:
 139              		.cfi_def_cfa_offset 8
 140              		.cfi_offset 3, -8
 141              		.cfi_offset 14, -4
1933:HW/SDCard/SDCard_sdio.c ****   uint32_t status;
 142              		.loc 1 1933 3 view .LVU30
 143              	.LVL9:
1934:HW/SDCard/SDCard_sdio.c ****   uint32_t timeout = SDIO_CMD0TIMEOUT;
 144              		.loc 1 1934 3 view .LVU31
1935:HW/SDCard/SDCard_sdio.c **** 
 145              		.loc 1 1935 3 view .LVU32
1937:HW/SDCard/SDCard_sdio.c **** 
 146              		.loc 1 1937 3 view .LVU33
1937:HW/SDCard/SDCard_sdio.c **** 
 147              		.loc 1 1937 10 is_stmt 0 view .LVU34
 148 0002 0F4B     		ldr	r3, .L22
 149 0004 5A6B     		ldr	r2, [r3, #52]
 150              	.LVL10:
1940:HW/SDCard/SDCard_sdio.c ****   {
 151              		.loc 1 1940 3 is_stmt 1 view .LVU35
1935:HW/SDCard/SDCard_sdio.c **** 
 152              		.loc 1 1935 12 is_stmt 0 view .LVU36
 153 0006 4FF48033 		mov	r3, #65536
 154              	.LVL11:
 155              	.L13:
1940:HW/SDCard/SDCard_sdio.c ****   {
 156              		.loc 1 1940 84 is_stmt 1 view .LVU37
 157 000a 12F0450F 		tst	r2, #69
 158 000e 04D1     		bne	.L14
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 39


1940:HW/SDCard/SDCard_sdio.c ****   {
 159              		.loc 1 1940 84 is_stmt 0 discriminator 1 view .LVU38
 160 0010 1BB1     		cbz	r3, .L14
1942:HW/SDCard/SDCard_sdio.c ****     status = SDIO->STA;
 161              		.loc 1 1942 5 is_stmt 1 view .LVU39
1942:HW/SDCard/SDCard_sdio.c ****     status = SDIO->STA;
 162              		.loc 1 1942 12 is_stmt 0 view .LVU40
 163 0012 013B     		subs	r3, r3, #1
 164              	.LVL12:
1943:HW/SDCard/SDCard_sdio.c ****   }
 165              		.loc 1 1943 5 is_stmt 1 view .LVU41
1943:HW/SDCard/SDCard_sdio.c ****   }
 166              		.loc 1 1943 12 is_stmt 0 view .LVU42
 167 0014 0A4A     		ldr	r2, .L22
 168              	.LVL13:
1943:HW/SDCard/SDCard_sdio.c ****   }
 169              		.loc 1 1943 12 view .LVU43
 170 0016 526B     		ldr	r2, [r2, #52]
 171              	.LVL14:
1943:HW/SDCard/SDCard_sdio.c ****   }
 172              		.loc 1 1943 12 view .LVU44
 173 0018 F7E7     		b	.L13
 174              	.L14:
1947:HW/SDCard/SDCard_sdio.c ****   {
 175              		.loc 1 1947 3 is_stmt 1 view .LVU45
1947:HW/SDCard/SDCard_sdio.c ****   {
 176              		.loc 1 1947 6 is_stmt 0 view .LVU46
 177 001a 3BB1     		cbz	r3, .L16
1947:HW/SDCard/SDCard_sdio.c ****   {
 178              		.loc 1 1947 22 discriminator 1 view .LVU47
 179 001c 12F0040F 		tst	r2, #4
 180 0020 04D1     		bne	.L16
1957:HW/SDCard/SDCard_sdio.c ****   {
 181              		.loc 1 1957 3 is_stmt 1 view .LVU48
1957:HW/SDCard/SDCard_sdio.c ****   {
 182              		.loc 1 1957 6 is_stmt 0 view .LVU49
 183 0022 12F0400F 		tst	r2, #64
 184 0026 06D1     		bne	.L21
1965:HW/SDCard/SDCard_sdio.c **** }
 185              		.loc 1 1965 9 view .LVU50
 186 0028 0020     		movs	r0, #0
 187              	.LVL15:
 188              	.L18:
1966:HW/SDCard/SDCard_sdio.c **** 
 189              		.loc 1 1966 1 view .LVU51
 190 002a 08BD     		pop	{r3, pc}
 191              	.LVL16:
 192              	.L16:
1951:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
 193              		.loc 1 1951 5 is_stmt 1 view .LVU52
1952:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 194              		.loc 1 1952 5 view .LVU53
 195 002c 0420     		movs	r0, #4
 196 002e FFF7FEFF 		bl	SDIO_ClearFlag
 197              	.LVL17:
1953:HW/SDCard/SDCard_sdio.c ****   }
 198              		.loc 1 1953 5 view .LVU54
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 40


1953:HW/SDCard/SDCard_sdio.c ****   }
 199              		.loc 1 1953 11 is_stmt 0 view .LVU55
 200 0032 0320     		movs	r0, #3
 201 0034 F9E7     		b	.L18
 202              	.LVL18:
 203              	.L21:
1961:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CMDREND);
 204              		.loc 1 1961 5 is_stmt 1 view .LVU56
1962:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 205              		.loc 1 1962 5 view .LVU57
 206 0036 4020     		movs	r0, #64
 207 0038 FFF7FEFF 		bl	SDIO_ClearFlag
 208              	.LVL19:
1963:HW/SDCard/SDCard_sdio.c ****   }
 209              		.loc 1 1963 5 view .LVU58
1963:HW/SDCard/SDCard_sdio.c ****   }
 210              		.loc 1 1963 11 is_stmt 0 view .LVU59
 211 003c 0020     		movs	r0, #0
 212 003e F4E7     		b	.L18
 213              	.L23:
 214              		.align	2
 215              	.L22:
 216 0040 00800140 		.word	1073840128
 217              		.cfi_endproc
 218              	.LFE54:
 220              		.section	.text.CmdResp3Error,"ax",%progbits
 221              		.align	1
 222              		.syntax unified
 223              		.thumb
 224              		.thumb_func
 226              	CmdResp3Error:
 227              	.LFB56:
1983:HW/SDCard/SDCard_sdio.c **** 
1984:HW/SDCard/SDCard_sdio.c **** /**
1985:HW/SDCard/SDCard_sdio.c ****   * @brief  Checks for error conditions for R3 (OCR) response.
1986:HW/SDCard/SDCard_sdio.c ****   * @param  None
1987:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
1988:HW/SDCard/SDCard_sdio.c ****   */
1989:HW/SDCard/SDCard_sdio.c **** static SD_Error CmdResp3Error(void)
1990:HW/SDCard/SDCard_sdio.c **** {
 228              		.loc 1 1990 1 is_stmt 1 view -0
 229              		.cfi_startproc
 230              		@ args = 0, pretend = 0, frame = 0
 231              		@ frame_needed = 0, uses_anonymous_args = 0
 232 0000 08B5     		push	{r3, lr}
 233              	.LCFI2:
 234              		.cfi_def_cfa_offset 8
 235              		.cfi_offset 3, -8
 236              		.cfi_offset 14, -4
1991:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 237              		.loc 1 1991 3 view .LVU61
 238              	.LVL20:
1992:HW/SDCard/SDCard_sdio.c ****   uint32_t status;
 239              		.loc 1 1992 3 view .LVU62
1993:HW/SDCard/SDCard_sdio.c **** 
1994:HW/SDCard/SDCard_sdio.c ****   status = SDIO->STA;
 240              		.loc 1 1994 3 view .LVU63
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 41


 241              		.loc 1 1994 10 is_stmt 0 view .LVU64
 242 0002 0B4B     		ldr	r3, .L31
 243 0004 5B6B     		ldr	r3, [r3, #52]
 244              	.LVL21:
1995:HW/SDCard/SDCard_sdio.c **** 
1996:HW/SDCard/SDCard_sdio.c ****   while (!(status & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
 245              		.loc 1 1996 3 is_stmt 1 view .LVU65
 246              		.loc 1 1996 9 is_stmt 0 view .LVU66
 247 0006 01E0     		b	.L25
 248              	.L26:
1997:HW/SDCard/SDCard_sdio.c ****   {
1998:HW/SDCard/SDCard_sdio.c ****     status = SDIO->STA;
 249              		.loc 1 1998 5 is_stmt 1 view .LVU67
 250              		.loc 1 1998 12 is_stmt 0 view .LVU68
 251 0008 094B     		ldr	r3, .L31
 252              	.LVL22:
 253              		.loc 1 1998 12 view .LVU69
 254 000a 5B6B     		ldr	r3, [r3, #52]
 255              	.LVL23:
 256              	.L25:
1996:HW/SDCard/SDCard_sdio.c ****   {
 257              		.loc 1 1996 10 is_stmt 1 view .LVU70
 258 000c 13F0450F 		tst	r3, #69
 259 0010 FAD0     		beq	.L26
1999:HW/SDCard/SDCard_sdio.c ****   }
2000:HW/SDCard/SDCard_sdio.c **** 
2001:HW/SDCard/SDCard_sdio.c ****   if (status & SDIO_FLAG_CTIMEOUT)
 260              		.loc 1 2001 3 view .LVU71
 261              		.loc 1 2001 6 is_stmt 0 view .LVU72
 262 0012 13F0040F 		tst	r3, #4
 263 0016 05D1     		bne	.L30
2002:HW/SDCard/SDCard_sdio.c ****   {
2003:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_CMD_RSP_TIMEOUT;
2004:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
2005:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2006:HW/SDCard/SDCard_sdio.c ****   }
2007:HW/SDCard/SDCard_sdio.c ****   /*!< Clear all the static flags */
2008:HW/SDCard/SDCard_sdio.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
 264              		.loc 1 2008 3 is_stmt 1 view .LVU73
 265 0018 40F2FF50 		movw	r0, #1535
 266 001c FFF7FEFF 		bl	SDIO_ClearFlag
 267              	.LVL24:
2009:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
 268              		.loc 1 2009 3 view .LVU74
 269              		.loc 1 2009 9 is_stmt 0 view .LVU75
 270 0020 0020     		movs	r0, #0
 271              	.LVL25:
 272              	.L28:
2010:HW/SDCard/SDCard_sdio.c **** }
 273              		.loc 1 2010 1 view .LVU76
 274 0022 08BD     		pop	{r3, pc}
 275              	.LVL26:
 276              	.L30:
2003:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
 277              		.loc 1 2003 5 is_stmt 1 view .LVU77
2004:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 278              		.loc 1 2004 5 view .LVU78
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 42


 279 0024 0420     		movs	r0, #4
 280 0026 FFF7FEFF 		bl	SDIO_ClearFlag
 281              	.LVL27:
2005:HW/SDCard/SDCard_sdio.c ****   }
 282              		.loc 1 2005 5 view .LVU79
2005:HW/SDCard/SDCard_sdio.c ****   }
 283              		.loc 1 2005 11 is_stmt 0 view .LVU80
 284 002a 0320     		movs	r0, #3
 285 002c F9E7     		b	.L28
 286              	.L32:
 287 002e 00BF     		.align	2
 288              	.L31:
 289 0030 00800140 		.word	1073840128
 290              		.cfi_endproc
 291              	.LFE56:
 293              		.section	.text.CmdResp2Error,"ax",%progbits
 294              		.align	1
 295              		.syntax unified
 296              		.thumb
 297              		.thumb_func
 299              	CmdResp2Error:
 300              	.LFB57:
2011:HW/SDCard/SDCard_sdio.c **** 
2012:HW/SDCard/SDCard_sdio.c **** /**
2013:HW/SDCard/SDCard_sdio.c ****   * @brief  Checks for error conditions for R2 (CID or CSD) response.
2014:HW/SDCard/SDCard_sdio.c ****   * @param  None
2015:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
2016:HW/SDCard/SDCard_sdio.c ****   */
2017:HW/SDCard/SDCard_sdio.c **** static SD_Error CmdResp2Error(void)
2018:HW/SDCard/SDCard_sdio.c **** {
 301              		.loc 1 2018 1 is_stmt 1 view -0
 302              		.cfi_startproc
 303              		@ args = 0, pretend = 0, frame = 0
 304              		@ frame_needed = 0, uses_anonymous_args = 0
 305 0000 08B5     		push	{r3, lr}
 306              	.LCFI3:
 307              		.cfi_def_cfa_offset 8
 308              		.cfi_offset 3, -8
 309              		.cfi_offset 14, -4
2019:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 310              		.loc 1 2019 3 view .LVU82
 311              	.LVL28:
2020:HW/SDCard/SDCard_sdio.c ****   uint32_t status;
 312              		.loc 1 2020 3 view .LVU83
2021:HW/SDCard/SDCard_sdio.c **** 
2022:HW/SDCard/SDCard_sdio.c ****   status = SDIO->STA;
 313              		.loc 1 2022 3 view .LVU84
 314              		.loc 1 2022 10 is_stmt 0 view .LVU85
 315 0002 0F4B     		ldr	r3, .L42
 316 0004 5B6B     		ldr	r3, [r3, #52]
 317              	.LVL29:
2023:HW/SDCard/SDCard_sdio.c **** 
2024:HW/SDCard/SDCard_sdio.c ****   while (!(status & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CTIMEOUT | SDIO_FLAG_CMDREND)))
 318              		.loc 1 2024 3 is_stmt 1 view .LVU86
 319              		.loc 1 2024 9 is_stmt 0 view .LVU87
 320 0006 01E0     		b	.L34
 321              	.L35:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 43


2025:HW/SDCard/SDCard_sdio.c ****   {
2026:HW/SDCard/SDCard_sdio.c ****     status = SDIO->STA;
 322              		.loc 1 2026 5 is_stmt 1 view .LVU88
 323              		.loc 1 2026 12 is_stmt 0 view .LVU89
 324 0008 0D4B     		ldr	r3, .L42
 325              	.LVL30:
 326              		.loc 1 2026 12 view .LVU90
 327 000a 5B6B     		ldr	r3, [r3, #52]
 328              	.LVL31:
 329              	.L34:
2024:HW/SDCard/SDCard_sdio.c ****   {
 330              		.loc 1 2024 10 is_stmt 1 view .LVU91
 331 000c 13F0450F 		tst	r3, #69
 332 0010 FAD0     		beq	.L35
2027:HW/SDCard/SDCard_sdio.c ****   }
2028:HW/SDCard/SDCard_sdio.c **** 
2029:HW/SDCard/SDCard_sdio.c ****   if (status & SDIO_FLAG_CTIMEOUT)
 333              		.loc 1 2029 3 view .LVU92
 334              		.loc 1 2029 6 is_stmt 0 view .LVU93
 335 0012 13F0040F 		tst	r3, #4
 336 0016 08D1     		bne	.L40
2030:HW/SDCard/SDCard_sdio.c ****   {
2031:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_CMD_RSP_TIMEOUT;
2032:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
2033:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2034:HW/SDCard/SDCard_sdio.c ****   }
2035:HW/SDCard/SDCard_sdio.c ****   else if (status & SDIO_FLAG_CCRCFAIL)
 337              		.loc 1 2035 8 is_stmt 1 view .LVU94
 338              		.loc 1 2035 11 is_stmt 0 view .LVU95
 339 0018 13F0010F 		tst	r3, #1
 340 001c 0AD1     		bne	.L41
2036:HW/SDCard/SDCard_sdio.c ****   {
2037:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_CMD_CRC_FAIL;
2038:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CCRCFAIL);
2039:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2040:HW/SDCard/SDCard_sdio.c ****   }
2041:HW/SDCard/SDCard_sdio.c **** 
2042:HW/SDCard/SDCard_sdio.c ****   /*!< Clear all the static flags */
2043:HW/SDCard/SDCard_sdio.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
 341              		.loc 1 2043 3 is_stmt 1 view .LVU96
 342 001e 40F2FF50 		movw	r0, #1535
 343 0022 FFF7FEFF 		bl	SDIO_ClearFlag
 344              	.LVL32:
2044:HW/SDCard/SDCard_sdio.c **** 
2045:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
 345              		.loc 1 2045 3 view .LVU97
 346              		.loc 1 2045 9 is_stmt 0 view .LVU98
 347 0026 0020     		movs	r0, #0
 348              	.LVL33:
 349              	.L37:
2046:HW/SDCard/SDCard_sdio.c **** }
 350              		.loc 1 2046 1 view .LVU99
 351 0028 08BD     		pop	{r3, pc}
 352              	.LVL34:
 353              	.L40:
2031:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
 354              		.loc 1 2031 5 is_stmt 1 view .LVU100
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 44


2032:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 355              		.loc 1 2032 5 view .LVU101
 356 002a 0420     		movs	r0, #4
 357 002c FFF7FEFF 		bl	SDIO_ClearFlag
 358              	.LVL35:
2033:HW/SDCard/SDCard_sdio.c ****   }
 359              		.loc 1 2033 5 view .LVU102
2033:HW/SDCard/SDCard_sdio.c ****   }
 360              		.loc 1 2033 11 is_stmt 0 view .LVU103
 361 0030 0320     		movs	r0, #3
 362 0032 F9E7     		b	.L37
 363              	.LVL36:
 364              	.L41:
2037:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CCRCFAIL);
 365              		.loc 1 2037 5 is_stmt 1 view .LVU104
2038:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 366              		.loc 1 2038 5 view .LVU105
 367 0034 0120     		movs	r0, #1
 368 0036 FFF7FEFF 		bl	SDIO_ClearFlag
 369              	.LVL37:
2039:HW/SDCard/SDCard_sdio.c ****   }
 370              		.loc 1 2039 5 view .LVU106
2039:HW/SDCard/SDCard_sdio.c ****   }
 371              		.loc 1 2039 11 is_stmt 0 view .LVU107
 372 003a 0120     		movs	r0, #1
 373 003c F4E7     		b	.L37
 374              	.L43:
 375 003e 00BF     		.align	2
 376              	.L42:
 377 0040 00800140 		.word	1073840128
 378              		.cfi_endproc
 379              	.LFE57:
 381              		.section	.text.CmdResp6Error,"ax",%progbits
 382              		.align	1
 383              		.syntax unified
 384              		.thumb
 385              		.thumb_func
 387              	CmdResp6Error:
 388              	.LVL38:
 389              	.LFB58:
2047:HW/SDCard/SDCard_sdio.c **** 
2048:HW/SDCard/SDCard_sdio.c **** /**
2049:HW/SDCard/SDCard_sdio.c ****   * @brief  Checks for error conditions for R6 (RCA) response.
2050:HW/SDCard/SDCard_sdio.c ****   * @param  cmd: The sent command index.
2051:HW/SDCard/SDCard_sdio.c ****   * @param  prca: pointer to the variable that will contain the SD card relative 
2052:HW/SDCard/SDCard_sdio.c ****   *         address RCA. 
2053:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
2054:HW/SDCard/SDCard_sdio.c ****   */
2055:HW/SDCard/SDCard_sdio.c **** static SD_Error CmdResp6Error(uint8_t cmd, uint16_t *prca)
2056:HW/SDCard/SDCard_sdio.c **** {
 390              		.loc 1 2056 1 is_stmt 1 view -0
 391              		.cfi_startproc
 392              		@ args = 0, pretend = 0, frame = 0
 393              		@ frame_needed = 0, uses_anonymous_args = 0
 394              		.loc 1 2056 1 is_stmt 0 view .LVU109
 395 0000 38B5     		push	{r3, r4, r5, lr}
 396              	.LCFI4:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 45


 397              		.cfi_def_cfa_offset 16
 398              		.cfi_offset 3, -16
 399              		.cfi_offset 4, -12
 400              		.cfi_offset 5, -8
 401              		.cfi_offset 14, -4
 402 0002 0446     		mov	r4, r0
 403 0004 0D46     		mov	r5, r1
2057:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 404              		.loc 1 2057 3 is_stmt 1 view .LVU110
 405              	.LVL39:
2058:HW/SDCard/SDCard_sdio.c ****   uint32_t status;
 406              		.loc 1 2058 3 view .LVU111
2059:HW/SDCard/SDCard_sdio.c ****   uint32_t response_r1;
 407              		.loc 1 2059 3 view .LVU112
2060:HW/SDCard/SDCard_sdio.c **** 
2061:HW/SDCard/SDCard_sdio.c ****   status = SDIO->STA;
 408              		.loc 1 2061 3 view .LVU113
 409              		.loc 1 2061 10 is_stmt 0 view .LVU114
 410 0006 1E4B     		ldr	r3, .L60
 411 0008 5B6B     		ldr	r3, [r3, #52]
 412              	.LVL40:
2062:HW/SDCard/SDCard_sdio.c **** 
2063:HW/SDCard/SDCard_sdio.c ****   while (!(status & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CTIMEOUT | SDIO_FLAG_CMDREND)))
 413              		.loc 1 2063 3 is_stmt 1 view .LVU115
 414              		.loc 1 2063 9 is_stmt 0 view .LVU116
 415 000a 01E0     		b	.L45
 416              	.L46:
2064:HW/SDCard/SDCard_sdio.c ****   {
2065:HW/SDCard/SDCard_sdio.c ****     status = SDIO->STA;
 417              		.loc 1 2065 5 is_stmt 1 view .LVU117
 418              		.loc 1 2065 12 is_stmt 0 view .LVU118
 419 000c 1C4B     		ldr	r3, .L60
 420              	.LVL41:
 421              		.loc 1 2065 12 view .LVU119
 422 000e 5B6B     		ldr	r3, [r3, #52]
 423              	.LVL42:
 424              	.L45:
2063:HW/SDCard/SDCard_sdio.c ****   {
 425              		.loc 1 2063 10 is_stmt 1 view .LVU120
 426 0010 13F0450F 		tst	r3, #69
 427 0014 FAD0     		beq	.L46
2066:HW/SDCard/SDCard_sdio.c ****   }
2067:HW/SDCard/SDCard_sdio.c **** 
2068:HW/SDCard/SDCard_sdio.c ****   if (status & SDIO_FLAG_CTIMEOUT)
 428              		.loc 1 2068 3 view .LVU121
 429              		.loc 1 2068 6 is_stmt 0 view .LVU122
 430 0016 13F0040F 		tst	r3, #4
 431 001a 08D1     		bne	.L56
2069:HW/SDCard/SDCard_sdio.c ****   {
2070:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_CMD_RSP_TIMEOUT;
2071:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
2072:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2073:HW/SDCard/SDCard_sdio.c ****   }
2074:HW/SDCard/SDCard_sdio.c ****   else if (status & SDIO_FLAG_CCRCFAIL)
 432              		.loc 1 2074 8 is_stmt 1 view .LVU123
 433              		.loc 1 2074 11 is_stmt 0 view .LVU124
 434 001c 13F0010F 		tst	r3, #1
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 46


 435 0020 0AD1     		bne	.L57
2075:HW/SDCard/SDCard_sdio.c ****   {
2076:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_CMD_CRC_FAIL;
2077:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CCRCFAIL);
2078:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2079:HW/SDCard/SDCard_sdio.c ****   }
2080:HW/SDCard/SDCard_sdio.c **** 
2081:HW/SDCard/SDCard_sdio.c ****   /*!< Check response received is of desired command */
2082:HW/SDCard/SDCard_sdio.c ****   if (SDIO_GetCommandResponse() != cmd)
 436              		.loc 1 2082 3 is_stmt 1 view .LVU125
 437              		.loc 1 2082 7 is_stmt 0 view .LVU126
 438 0022 FFF7FEFF 		bl	SDIO_GetCommandResponse
 439              	.LVL43:
 440              		.loc 1 2082 6 view .LVU127
 441 0026 A042     		cmp	r0, r4
 442 0028 0BD0     		beq	.L58
2083:HW/SDCard/SDCard_sdio.c ****   {
2084:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_ILLEGAL_CMD;
2085:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 443              		.loc 1 2085 11 view .LVU128
 444 002a 1020     		movs	r0, #16
 445              	.LVL44:
 446              	.L48:
2086:HW/SDCard/SDCard_sdio.c ****   }
2087:HW/SDCard/SDCard_sdio.c **** 
2088:HW/SDCard/SDCard_sdio.c ****   /*!< Clear all the static flags */
2089:HW/SDCard/SDCard_sdio.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
2090:HW/SDCard/SDCard_sdio.c **** 
2091:HW/SDCard/SDCard_sdio.c ****   /*!< We have received response, retrieve it.  */
2092:HW/SDCard/SDCard_sdio.c ****   response_r1 = SDIO_GetResponse(SDIO_RESP1);
2093:HW/SDCard/SDCard_sdio.c **** 
2094:HW/SDCard/SDCard_sdio.c ****   if (SD_ALLZERO == (response_r1 & (SD_R6_GENERAL_UNKNOWN_ERROR | SD_R6_ILLEGAL_CMD | SD_R6_COM_CRC
2095:HW/SDCard/SDCard_sdio.c ****   {
2096:HW/SDCard/SDCard_sdio.c ****     *prca = (uint16_t) (response_r1 >> 16);
2097:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2098:HW/SDCard/SDCard_sdio.c ****   }
2099:HW/SDCard/SDCard_sdio.c **** 
2100:HW/SDCard/SDCard_sdio.c ****   if (response_r1 & SD_R6_GENERAL_UNKNOWN_ERROR)
2101:HW/SDCard/SDCard_sdio.c ****   {
2102:HW/SDCard/SDCard_sdio.c ****     return(SD_GENERAL_UNKNOWN_ERROR);
2103:HW/SDCard/SDCard_sdio.c ****   }
2104:HW/SDCard/SDCard_sdio.c **** 
2105:HW/SDCard/SDCard_sdio.c ****   if (response_r1 & SD_R6_ILLEGAL_CMD)
2106:HW/SDCard/SDCard_sdio.c ****   {
2107:HW/SDCard/SDCard_sdio.c ****     return(SD_ILLEGAL_CMD);
2108:HW/SDCard/SDCard_sdio.c ****   }
2109:HW/SDCard/SDCard_sdio.c **** 
2110:HW/SDCard/SDCard_sdio.c ****   if (response_r1 & SD_R6_COM_CRC_FAILED)
2111:HW/SDCard/SDCard_sdio.c ****   {
2112:HW/SDCard/SDCard_sdio.c ****     return(SD_COM_CRC_FAILED);
2113:HW/SDCard/SDCard_sdio.c ****   }
2114:HW/SDCard/SDCard_sdio.c **** 
2115:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
2116:HW/SDCard/SDCard_sdio.c **** }
 447              		.loc 1 2116 1 view .LVU129
 448 002c 38BD     		pop	{r3, r4, r5, pc}
 449              	.LVL45:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 47


 450              	.L56:
2070:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
 451              		.loc 1 2070 5 is_stmt 1 view .LVU130
2071:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 452              		.loc 1 2071 5 view .LVU131
 453 002e 0420     		movs	r0, #4
 454              	.LVL46:
2071:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 455              		.loc 1 2071 5 is_stmt 0 view .LVU132
 456 0030 FFF7FEFF 		bl	SDIO_ClearFlag
 457              	.LVL47:
2072:HW/SDCard/SDCard_sdio.c ****   }
 458              		.loc 1 2072 5 is_stmt 1 view .LVU133
2072:HW/SDCard/SDCard_sdio.c ****   }
 459              		.loc 1 2072 11 is_stmt 0 view .LVU134
 460 0034 0320     		movs	r0, #3
 461 0036 F9E7     		b	.L48
 462              	.LVL48:
 463              	.L57:
2076:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CCRCFAIL);
 464              		.loc 1 2076 5 is_stmt 1 view .LVU135
2077:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 465              		.loc 1 2077 5 view .LVU136
 466 0038 0120     		movs	r0, #1
 467              	.LVL49:
2077:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 468              		.loc 1 2077 5 is_stmt 0 view .LVU137
 469 003a FFF7FEFF 		bl	SDIO_ClearFlag
 470              	.LVL50:
2078:HW/SDCard/SDCard_sdio.c ****   }
 471              		.loc 1 2078 5 is_stmt 1 view .LVU138
2078:HW/SDCard/SDCard_sdio.c ****   }
 472              		.loc 1 2078 11 is_stmt 0 view .LVU139
 473 003e 0120     		movs	r0, #1
 474 0040 F4E7     		b	.L48
 475              	.LVL51:
 476              	.L58:
2089:HW/SDCard/SDCard_sdio.c **** 
 477              		.loc 1 2089 3 is_stmt 1 view .LVU140
 478 0042 40F2FF50 		movw	r0, #1535
 479 0046 FFF7FEFF 		bl	SDIO_ClearFlag
 480              	.LVL52:
2092:HW/SDCard/SDCard_sdio.c **** 
 481              		.loc 1 2092 3 view .LVU141
2092:HW/SDCard/SDCard_sdio.c **** 
 482              		.loc 1 2092 17 is_stmt 0 view .LVU142
 483 004a 0020     		movs	r0, #0
 484 004c FFF7FEFF 		bl	SDIO_GetResponse
 485              	.LVL53:
2094:HW/SDCard/SDCard_sdio.c ****   {
 486              		.loc 1 2094 3 is_stmt 1 view .LVU143
2094:HW/SDCard/SDCard_sdio.c ****   {
 487              		.loc 1 2094 6 is_stmt 0 view .LVU144
 488 0050 10F4604F 		tst	r0, #57344
 489 0054 0AD0     		beq	.L59
2100:HW/SDCard/SDCard_sdio.c ****   {
 490              		.loc 1 2100 3 is_stmt 1 view .LVU145
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 48


2100:HW/SDCard/SDCard_sdio.c ****   {
 491              		.loc 1 2100 6 is_stmt 0 view .LVU146
 492 0056 10F4005F 		tst	r0, #8192
 493 005a 0BD1     		bne	.L52
2105:HW/SDCard/SDCard_sdio.c ****   {
 494              		.loc 1 2105 3 is_stmt 1 view .LVU147
2105:HW/SDCard/SDCard_sdio.c ****   {
 495              		.loc 1 2105 6 is_stmt 0 view .LVU148
 496 005c 10F4804F 		tst	r0, #16384
 497 0060 0AD1     		bne	.L53
2110:HW/SDCard/SDCard_sdio.c ****   {
 498              		.loc 1 2110 3 is_stmt 1 view .LVU149
2110:HW/SDCard/SDCard_sdio.c ****   {
 499              		.loc 1 2110 6 is_stmt 0 view .LVU150
 500 0062 10F4004F 		tst	r0, #32768
 501 0066 09D1     		bne	.L54
2115:HW/SDCard/SDCard_sdio.c **** }
 502              		.loc 1 2115 9 view .LVU151
 503 0068 0020     		movs	r0, #0
 504              	.LVL54:
2115:HW/SDCard/SDCard_sdio.c **** }
 505              		.loc 1 2115 9 view .LVU152
 506 006a DFE7     		b	.L48
 507              	.LVL55:
 508              	.L59:
2096:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 509              		.loc 1 2096 5 is_stmt 1 view .LVU153
2096:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 510              		.loc 1 2096 13 is_stmt 0 view .LVU154
 511 006c 000C     		lsrs	r0, r0, #16
 512              	.LVL56:
2096:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 513              		.loc 1 2096 11 view .LVU155
 514 006e 2880     		strh	r0, [r5]	@ movhi
2097:HW/SDCard/SDCard_sdio.c ****   }
 515              		.loc 1 2097 5 is_stmt 1 view .LVU156
2097:HW/SDCard/SDCard_sdio.c ****   }
 516              		.loc 1 2097 11 is_stmt 0 view .LVU157
 517 0070 0020     		movs	r0, #0
 518 0072 DBE7     		b	.L48
 519              	.LVL57:
 520              	.L52:
2102:HW/SDCard/SDCard_sdio.c ****   }
 521              		.loc 1 2102 11 view .LVU158
 522 0074 1320     		movs	r0, #19
 523              	.LVL58:
2102:HW/SDCard/SDCard_sdio.c ****   }
 524              		.loc 1 2102 11 view .LVU159
 525 0076 D9E7     		b	.L48
 526              	.LVL59:
 527              	.L53:
2107:HW/SDCard/SDCard_sdio.c ****   }
 528              		.loc 1 2107 11 view .LVU160
 529 0078 1020     		movs	r0, #16
 530              	.LVL60:
2107:HW/SDCard/SDCard_sdio.c ****   }
 531              		.loc 1 2107 11 view .LVU161
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 49


 532 007a D7E7     		b	.L48
 533              	.LVL61:
 534              	.L54:
2112:HW/SDCard/SDCard_sdio.c ****   }
 535              		.loc 1 2112 11 view .LVU162
 536 007c 0F20     		movs	r0, #15
 537              	.LVL62:
2112:HW/SDCard/SDCard_sdio.c ****   }
 538              		.loc 1 2112 11 view .LVU163
 539 007e D5E7     		b	.L48
 540              	.L61:
 541              		.align	2
 542              	.L60:
 543 0080 00800140 		.word	1073840128
 544              		.cfi_endproc
 545              	.LFE58:
 547              		.section	.text.IsCardProgramming,"ax",%progbits
 548              		.align	1
 549              		.syntax unified
 550              		.thumb
 551              		.thumb_func
 553              	IsCardProgramming:
 554              	.LVL63:
 555              	.LFB60:
2117:HW/SDCard/SDCard_sdio.c **** 
2118:HW/SDCard/SDCard_sdio.c **** /**
2119:HW/SDCard/SDCard_sdio.c ****   * @brief  Enables or disables the SDIO wide bus mode.
2120:HW/SDCard/SDCard_sdio.c ****   * @param  NewState: new state of the SDIO wide bus mode.
2121:HW/SDCard/SDCard_sdio.c ****   *   This parameter can be: ENABLE or DISABLE.
2122:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
2123:HW/SDCard/SDCard_sdio.c ****   */
2124:HW/SDCard/SDCard_sdio.c **** static SD_Error SDEnWideBus(FunctionalState NewState)
2125:HW/SDCard/SDCard_sdio.c **** {
2126:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
2127:HW/SDCard/SDCard_sdio.c **** 
2128:HW/SDCard/SDCard_sdio.c ****   uint32_t scr[2] = {0, 0};
2129:HW/SDCard/SDCard_sdio.c **** 
2130:HW/SDCard/SDCard_sdio.c ****   if (SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED)
2131:HW/SDCard/SDCard_sdio.c ****   {
2132:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_LOCK_UNLOCK_FAILED;
2133:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2134:HW/SDCard/SDCard_sdio.c ****   }
2135:HW/SDCard/SDCard_sdio.c **** 
2136:HW/SDCard/SDCard_sdio.c ****   /*!< Get SCR Register */
2137:HW/SDCard/SDCard_sdio.c ****   errorstatus = FindSCR(RCA, scr);
2138:HW/SDCard/SDCard_sdio.c **** 
2139:HW/SDCard/SDCard_sdio.c ****   if (errorstatus != SD_OK)
2140:HW/SDCard/SDCard_sdio.c ****   {
2141:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2142:HW/SDCard/SDCard_sdio.c ****   }
2143:HW/SDCard/SDCard_sdio.c **** 
2144:HW/SDCard/SDCard_sdio.c ****   /*!< If wide bus operation to be enabled */
2145:HW/SDCard/SDCard_sdio.c ****   if (NewState == ENABLE)
2146:HW/SDCard/SDCard_sdio.c ****   {
2147:HW/SDCard/SDCard_sdio.c ****     /*!< If requested card supports wide bus operation */
2148:HW/SDCard/SDCard_sdio.c ****     if ((scr[1] & SD_WIDE_BUS_SUPPORT) != SD_ALLZERO)
2149:HW/SDCard/SDCard_sdio.c ****     {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 50


2150:HW/SDCard/SDCard_sdio.c ****       /*!< Send CMD55 APP_CMD with argument as card's RCA.*/
2151:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Argument = (uint32_t) RCA << 16;
2152:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
2153:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
2154:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
2155:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
2156:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
2157:HW/SDCard/SDCard_sdio.c **** 
2158:HW/SDCard/SDCard_sdio.c ****       errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
2159:HW/SDCard/SDCard_sdio.c **** 
2160:HW/SDCard/SDCard_sdio.c ****       if (errorstatus != SD_OK)
2161:HW/SDCard/SDCard_sdio.c ****       {
2162:HW/SDCard/SDCard_sdio.c ****         return(errorstatus);
2163:HW/SDCard/SDCard_sdio.c ****       }
2164:HW/SDCard/SDCard_sdio.c **** 
2165:HW/SDCard/SDCard_sdio.c ****       /*!< Send ACMD6 APP_CMD with argument as 2 for wide bus mode */
2166:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Argument = 0x2;
2167:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_SD_SET_BUSWIDTH;
2168:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
2169:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
2170:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
2171:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
2172:HW/SDCard/SDCard_sdio.c **** 
2173:HW/SDCard/SDCard_sdio.c ****       errorstatus = CmdResp1Error(SD_CMD_APP_SD_SET_BUSWIDTH);
2174:HW/SDCard/SDCard_sdio.c **** 
2175:HW/SDCard/SDCard_sdio.c ****       if (errorstatus != SD_OK)
2176:HW/SDCard/SDCard_sdio.c ****       {
2177:HW/SDCard/SDCard_sdio.c ****         return(errorstatus);
2178:HW/SDCard/SDCard_sdio.c ****       }
2179:HW/SDCard/SDCard_sdio.c ****       return(errorstatus);
2180:HW/SDCard/SDCard_sdio.c ****     }
2181:HW/SDCard/SDCard_sdio.c ****     else
2182:HW/SDCard/SDCard_sdio.c ****     {
2183:HW/SDCard/SDCard_sdio.c ****       errorstatus = SD_REQUEST_NOT_APPLICABLE;
2184:HW/SDCard/SDCard_sdio.c ****       return(errorstatus);
2185:HW/SDCard/SDCard_sdio.c ****     }
2186:HW/SDCard/SDCard_sdio.c ****   }   /*!< If wide bus operation to be disabled */
2187:HW/SDCard/SDCard_sdio.c ****   else
2188:HW/SDCard/SDCard_sdio.c ****   {
2189:HW/SDCard/SDCard_sdio.c ****     /*!< If requested card supports 1 bit mode operation */
2190:HW/SDCard/SDCard_sdio.c ****     if ((scr[1] & SD_SINGLE_BUS_SUPPORT) != SD_ALLZERO)
2191:HW/SDCard/SDCard_sdio.c ****     {
2192:HW/SDCard/SDCard_sdio.c ****       /*!< Send CMD55 APP_CMD with argument as card's RCA.*/
2193:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Argument = (uint32_t) RCA << 16;
2194:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
2195:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
2196:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
2197:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
2198:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
2199:HW/SDCard/SDCard_sdio.c **** 
2200:HW/SDCard/SDCard_sdio.c **** 
2201:HW/SDCard/SDCard_sdio.c ****       errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
2202:HW/SDCard/SDCard_sdio.c **** 
2203:HW/SDCard/SDCard_sdio.c ****       if (errorstatus != SD_OK)
2204:HW/SDCard/SDCard_sdio.c ****       {
2205:HW/SDCard/SDCard_sdio.c ****         return(errorstatus);
2206:HW/SDCard/SDCard_sdio.c ****       }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 51


2207:HW/SDCard/SDCard_sdio.c **** 
2208:HW/SDCard/SDCard_sdio.c ****       /*!< Send ACMD6 APP_CMD with argument as 2 for wide bus mode */
2209:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Argument = 0x00;
2210:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_SD_SET_BUSWIDTH;
2211:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
2212:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
2213:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
2214:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
2215:HW/SDCard/SDCard_sdio.c **** 
2216:HW/SDCard/SDCard_sdio.c ****       errorstatus = CmdResp1Error(SD_CMD_APP_SD_SET_BUSWIDTH);
2217:HW/SDCard/SDCard_sdio.c **** 
2218:HW/SDCard/SDCard_sdio.c ****       if (errorstatus != SD_OK)
2219:HW/SDCard/SDCard_sdio.c ****       {
2220:HW/SDCard/SDCard_sdio.c ****         return(errorstatus);
2221:HW/SDCard/SDCard_sdio.c ****       }
2222:HW/SDCard/SDCard_sdio.c **** 
2223:HW/SDCard/SDCard_sdio.c ****       return(errorstatus);
2224:HW/SDCard/SDCard_sdio.c ****     }
2225:HW/SDCard/SDCard_sdio.c ****     else
2226:HW/SDCard/SDCard_sdio.c ****     {
2227:HW/SDCard/SDCard_sdio.c ****       errorstatus = SD_REQUEST_NOT_APPLICABLE;
2228:HW/SDCard/SDCard_sdio.c ****       return(errorstatus);
2229:HW/SDCard/SDCard_sdio.c ****     }
2230:HW/SDCard/SDCard_sdio.c ****   }
2231:HW/SDCard/SDCard_sdio.c **** }
2232:HW/SDCard/SDCard_sdio.c **** 
2233:HW/SDCard/SDCard_sdio.c **** /**
2234:HW/SDCard/SDCard_sdio.c ****   * @brief  Checks if the SD card is in programming state.
2235:HW/SDCard/SDCard_sdio.c ****   * @param  pstatus: pointer to the variable that will contain the SD card state.
2236:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
2237:HW/SDCard/SDCard_sdio.c ****   */
2238:HW/SDCard/SDCard_sdio.c **** static SD_Error IsCardProgramming(uint8_t *pstatus)
2239:HW/SDCard/SDCard_sdio.c **** {
 556              		.loc 1 2239 1 is_stmt 1 view -0
 557              		.cfi_startproc
 558              		@ args = 0, pretend = 0, frame = 8
 559              		@ frame_needed = 0, uses_anonymous_args = 0
 560              		.loc 1 2239 1 is_stmt 0 view .LVU165
 561 0000 10B5     		push	{r4, lr}
 562              	.LCFI5:
 563              		.cfi_def_cfa_offset 8
 564              		.cfi_offset 4, -8
 565              		.cfi_offset 14, -4
 566 0002 82B0     		sub	sp, sp, #8
 567              	.LCFI6:
 568              		.cfi_def_cfa_offset 16
 569 0004 0446     		mov	r4, r0
2240:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 570              		.loc 1 2240 3 is_stmt 1 view .LVU166
 571              	.LVL64:
2241:HW/SDCard/SDCard_sdio.c ****   __IO uint32_t respR1 = 0, status = 0;
 572              		.loc 1 2241 3 view .LVU167
 573              		.loc 1 2241 17 is_stmt 0 view .LVU168
 574 0006 0023     		movs	r3, #0
 575 0008 0193     		str	r3, [sp, #4]
 576              		.loc 1 2241 29 view .LVU169
 577 000a 0093     		str	r3, [sp]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 52


2242:HW/SDCard/SDCard_sdio.c **** 
2243:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t) RCA << 16;
 578              		.loc 1 2243 3 is_stmt 1 view .LVU170
 579              		.loc 1 2243 41 is_stmt 0 view .LVU171
 580 000c 5D4A     		ldr	r2, .L93
 581 000e 1268     		ldr	r2, [r2]
 582              		.loc 1 2243 56 view .LVU172
 583 0010 1204     		lsls	r2, r2, #16
 584              		.loc 1 2243 39 view .LVU173
 585 0012 5D48     		ldr	r0, .L93+4
 586              	.LVL65:
 587              		.loc 1 2243 39 view .LVU174
 588 0014 0260     		str	r2, [r0]
2244:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SEND_STATUS;
 589              		.loc 1 2244 3 is_stmt 1 view .LVU175
 590              		.loc 1 2244 39 is_stmt 0 view .LVU176
 591 0016 0D22     		movs	r2, #13
 592 0018 4260     		str	r2, [r0, #4]
2245:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 593              		.loc 1 2245 3 is_stmt 1 view .LVU177
 594              		.loc 1 2245 39 is_stmt 0 view .LVU178
 595 001a 4022     		movs	r2, #64
 596 001c 8260     		str	r2, [r0, #8]
2246:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 597              		.loc 1 2246 3 is_stmt 1 view .LVU179
 598              		.loc 1 2246 35 is_stmt 0 view .LVU180
 599 001e C360     		str	r3, [r0, #12]
2247:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 600              		.loc 1 2247 3 is_stmt 1 view .LVU181
 601              		.loc 1 2247 35 is_stmt 0 view .LVU182
 602 0020 4FF48063 		mov	r3, #1024
 603 0024 0361     		str	r3, [r0, #16]
2248:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 604              		.loc 1 2248 3 is_stmt 1 view .LVU183
 605 0026 FFF7FEFF 		bl	SDIO_SendCommand
 606              	.LVL66:
2249:HW/SDCard/SDCard_sdio.c **** 
2250:HW/SDCard/SDCard_sdio.c ****   status = SDIO->STA;
 607              		.loc 1 2250 3 view .LVU184
 608              		.loc 1 2250 16 is_stmt 0 view .LVU185
 609 002a 584B     		ldr	r3, .L93+8
 610 002c 5B6B     		ldr	r3, [r3, #52]
 611              		.loc 1 2250 10 view .LVU186
 612 002e 0093     		str	r3, [sp]
2251:HW/SDCard/SDCard_sdio.c ****   while (!(status & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
 613              		.loc 1 2251 3 is_stmt 1 view .LVU187
 614              		.loc 1 2251 9 is_stmt 0 view .LVU188
 615 0030 02E0     		b	.L63
 616              	.L64:
2252:HW/SDCard/SDCard_sdio.c ****   {
2253:HW/SDCard/SDCard_sdio.c ****     status = SDIO->STA;
 617              		.loc 1 2253 5 is_stmt 1 view .LVU189
 618              		.loc 1 2253 18 is_stmt 0 view .LVU190
 619 0032 564B     		ldr	r3, .L93+8
 620 0034 5B6B     		ldr	r3, [r3, #52]
 621              		.loc 1 2253 12 view .LVU191
 622 0036 0093     		str	r3, [sp]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 53


 623              	.L63:
2251:HW/SDCard/SDCard_sdio.c ****   while (!(status & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
 624              		.loc 1 2251 10 is_stmt 1 view .LVU192
2251:HW/SDCard/SDCard_sdio.c ****   while (!(status & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
 625              		.loc 1 2251 19 is_stmt 0 view .LVU193
 626 0038 009B     		ldr	r3, [sp]
2251:HW/SDCard/SDCard_sdio.c ****   while (!(status & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
 627              		.loc 1 2251 10 view .LVU194
 628 003a 13F0450F 		tst	r3, #69
 629 003e F8D0     		beq	.L64
2254:HW/SDCard/SDCard_sdio.c ****   }
2255:HW/SDCard/SDCard_sdio.c **** 
2256:HW/SDCard/SDCard_sdio.c ****   if (status & SDIO_FLAG_CTIMEOUT)
 630              		.loc 1 2256 3 is_stmt 1 view .LVU195
 631              		.loc 1 2256 14 is_stmt 0 view .LVU196
 632 0040 009B     		ldr	r3, [sp]
 633              		.loc 1 2256 6 view .LVU197
 634 0042 13F0040F 		tst	r3, #4
 635 0046 0CD1     		bne	.L90
2257:HW/SDCard/SDCard_sdio.c ****   {
2258:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_CMD_RSP_TIMEOUT;
2259:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
2260:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2261:HW/SDCard/SDCard_sdio.c ****   }
2262:HW/SDCard/SDCard_sdio.c ****   else if (status & SDIO_FLAG_CCRCFAIL)
 636              		.loc 1 2262 8 is_stmt 1 view .LVU198
 637              		.loc 1 2262 19 is_stmt 0 view .LVU199
 638 0048 009B     		ldr	r3, [sp]
 639              		.loc 1 2262 11 view .LVU200
 640 004a 13F0010F 		tst	r3, #1
 641 004e 0DD1     		bne	.L91
2263:HW/SDCard/SDCard_sdio.c ****   {
2264:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_CMD_CRC_FAIL;
2265:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CCRCFAIL);
2266:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2267:HW/SDCard/SDCard_sdio.c ****   }
2268:HW/SDCard/SDCard_sdio.c **** 
2269:HW/SDCard/SDCard_sdio.c ****   status = (uint32_t)SDIO_GetCommandResponse();
 642              		.loc 1 2269 3 is_stmt 1 view .LVU201
 643              		.loc 1 2269 22 is_stmt 0 view .LVU202
 644 0050 FFF7FEFF 		bl	SDIO_GetCommandResponse
 645              	.LVL67:
 646              		.loc 1 2269 10 view .LVU203
 647 0054 0090     		str	r0, [sp]
2270:HW/SDCard/SDCard_sdio.c **** 
2271:HW/SDCard/SDCard_sdio.c ****   /*!< Check response received is of desired command */
2272:HW/SDCard/SDCard_sdio.c ****   if (status != SD_CMD_SEND_STATUS)
 648              		.loc 1 2272 3 is_stmt 1 view .LVU204
 649              		.loc 1 2272 14 is_stmt 0 view .LVU205
 650 0056 009B     		ldr	r3, [sp]
 651              		.loc 1 2272 6 view .LVU206
 652 0058 0D2B     		cmp	r3, #13
 653 005a 0CD0     		beq	.L92
2273:HW/SDCard/SDCard_sdio.c ****   {
2274:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_ILLEGAL_CMD;
2275:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 654              		.loc 1 2275 11 view .LVU207
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 54


 655 005c 1020     		movs	r0, #16
 656              	.LVL68:
 657              	.L66:
2276:HW/SDCard/SDCard_sdio.c ****   }
2277:HW/SDCard/SDCard_sdio.c **** 
2278:HW/SDCard/SDCard_sdio.c ****   /*!< Clear all the static flags */
2279:HW/SDCard/SDCard_sdio.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
2280:HW/SDCard/SDCard_sdio.c **** 
2281:HW/SDCard/SDCard_sdio.c **** 
2282:HW/SDCard/SDCard_sdio.c ****   /*!< We have received response, retrieve it for analysis  */
2283:HW/SDCard/SDCard_sdio.c ****   respR1 = SDIO_GetResponse(SDIO_RESP1);
2284:HW/SDCard/SDCard_sdio.c **** 
2285:HW/SDCard/SDCard_sdio.c ****   /*!< Find out card status */
2286:HW/SDCard/SDCard_sdio.c ****   *pstatus = (uint8_t) ((respR1 >> 9) & 0x0000000F);
2287:HW/SDCard/SDCard_sdio.c **** 
2288:HW/SDCard/SDCard_sdio.c ****   if ((respR1 & SD_OCR_ERRORBITS) == SD_ALLZERO)
2289:HW/SDCard/SDCard_sdio.c ****   {
2290:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2291:HW/SDCard/SDCard_sdio.c ****   }
2292:HW/SDCard/SDCard_sdio.c **** 
2293:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_ADDR_OUT_OF_RANGE)
2294:HW/SDCard/SDCard_sdio.c ****   {
2295:HW/SDCard/SDCard_sdio.c ****     return(SD_ADDR_OUT_OF_RANGE);
2296:HW/SDCard/SDCard_sdio.c ****   }
2297:HW/SDCard/SDCard_sdio.c **** 
2298:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_ADDR_MISALIGNED)
2299:HW/SDCard/SDCard_sdio.c ****   {
2300:HW/SDCard/SDCard_sdio.c ****     return(SD_ADDR_MISALIGNED);
2301:HW/SDCard/SDCard_sdio.c ****   }
2302:HW/SDCard/SDCard_sdio.c **** 
2303:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_BLOCK_LEN_ERR)
2304:HW/SDCard/SDCard_sdio.c ****   {
2305:HW/SDCard/SDCard_sdio.c ****     return(SD_BLOCK_LEN_ERR);
2306:HW/SDCard/SDCard_sdio.c ****   }
2307:HW/SDCard/SDCard_sdio.c **** 
2308:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_ERASE_SEQ_ERR)
2309:HW/SDCard/SDCard_sdio.c ****   {
2310:HW/SDCard/SDCard_sdio.c ****     return(SD_ERASE_SEQ_ERR);
2311:HW/SDCard/SDCard_sdio.c ****   }
2312:HW/SDCard/SDCard_sdio.c **** 
2313:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_BAD_ERASE_PARAM)
2314:HW/SDCard/SDCard_sdio.c ****   {
2315:HW/SDCard/SDCard_sdio.c ****     return(SD_BAD_ERASE_PARAM);
2316:HW/SDCard/SDCard_sdio.c ****   }
2317:HW/SDCard/SDCard_sdio.c **** 
2318:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_WRITE_PROT_VIOLATION)
2319:HW/SDCard/SDCard_sdio.c ****   {
2320:HW/SDCard/SDCard_sdio.c ****     return(SD_WRITE_PROT_VIOLATION);
2321:HW/SDCard/SDCard_sdio.c ****   }
2322:HW/SDCard/SDCard_sdio.c **** 
2323:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_LOCK_UNLOCK_FAILED)
2324:HW/SDCard/SDCard_sdio.c ****   {
2325:HW/SDCard/SDCard_sdio.c ****     return(SD_LOCK_UNLOCK_FAILED);
2326:HW/SDCard/SDCard_sdio.c ****   }
2327:HW/SDCard/SDCard_sdio.c **** 
2328:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_COM_CRC_FAILED)
2329:HW/SDCard/SDCard_sdio.c ****   {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 55


2330:HW/SDCard/SDCard_sdio.c ****     return(SD_COM_CRC_FAILED);
2331:HW/SDCard/SDCard_sdio.c ****   }
2332:HW/SDCard/SDCard_sdio.c **** 
2333:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_ILLEGAL_CMD)
2334:HW/SDCard/SDCard_sdio.c ****   {
2335:HW/SDCard/SDCard_sdio.c ****     return(SD_ILLEGAL_CMD);
2336:HW/SDCard/SDCard_sdio.c ****   }
2337:HW/SDCard/SDCard_sdio.c **** 
2338:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_CARD_ECC_FAILED)
2339:HW/SDCard/SDCard_sdio.c ****   {
2340:HW/SDCard/SDCard_sdio.c ****     return(SD_CARD_ECC_FAILED);
2341:HW/SDCard/SDCard_sdio.c ****   }
2342:HW/SDCard/SDCard_sdio.c **** 
2343:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_CC_ERROR)
2344:HW/SDCard/SDCard_sdio.c ****   {
2345:HW/SDCard/SDCard_sdio.c ****     return(SD_CC_ERROR);
2346:HW/SDCard/SDCard_sdio.c ****   }
2347:HW/SDCard/SDCard_sdio.c **** 
2348:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_GENERAL_UNKNOWN_ERROR)
2349:HW/SDCard/SDCard_sdio.c ****   {
2350:HW/SDCard/SDCard_sdio.c ****     return(SD_GENERAL_UNKNOWN_ERROR);
2351:HW/SDCard/SDCard_sdio.c ****   }
2352:HW/SDCard/SDCard_sdio.c **** 
2353:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_STREAM_READ_UNDERRUN)
2354:HW/SDCard/SDCard_sdio.c ****   {
2355:HW/SDCard/SDCard_sdio.c ****     return(SD_STREAM_READ_UNDERRUN);
2356:HW/SDCard/SDCard_sdio.c ****   }
2357:HW/SDCard/SDCard_sdio.c **** 
2358:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_STREAM_WRITE_OVERRUN)
2359:HW/SDCard/SDCard_sdio.c ****   {
2360:HW/SDCard/SDCard_sdio.c ****     return(SD_STREAM_WRITE_OVERRUN);
2361:HW/SDCard/SDCard_sdio.c ****   }
2362:HW/SDCard/SDCard_sdio.c **** 
2363:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_CID_CSD_OVERWRIETE)
2364:HW/SDCard/SDCard_sdio.c ****   {
2365:HW/SDCard/SDCard_sdio.c ****     return(SD_CID_CSD_OVERWRITE);
2366:HW/SDCard/SDCard_sdio.c ****   }
2367:HW/SDCard/SDCard_sdio.c **** 
2368:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_WP_ERASE_SKIP)
2369:HW/SDCard/SDCard_sdio.c ****   {
2370:HW/SDCard/SDCard_sdio.c ****     return(SD_WP_ERASE_SKIP);
2371:HW/SDCard/SDCard_sdio.c ****   }
2372:HW/SDCard/SDCard_sdio.c **** 
2373:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_CARD_ECC_DISABLED)
2374:HW/SDCard/SDCard_sdio.c ****   {
2375:HW/SDCard/SDCard_sdio.c ****     return(SD_CARD_ECC_DISABLED);
2376:HW/SDCard/SDCard_sdio.c ****   }
2377:HW/SDCard/SDCard_sdio.c **** 
2378:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_ERASE_RESET)
2379:HW/SDCard/SDCard_sdio.c ****   {
2380:HW/SDCard/SDCard_sdio.c ****     return(SD_ERASE_RESET);
2381:HW/SDCard/SDCard_sdio.c ****   }
2382:HW/SDCard/SDCard_sdio.c **** 
2383:HW/SDCard/SDCard_sdio.c ****   if (respR1 & SD_OCR_AKE_SEQ_ERROR)
2384:HW/SDCard/SDCard_sdio.c ****   {
2385:HW/SDCard/SDCard_sdio.c ****     return(SD_AKE_SEQ_ERROR);
2386:HW/SDCard/SDCard_sdio.c ****   }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 56


2387:HW/SDCard/SDCard_sdio.c **** 
2388:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
2389:HW/SDCard/SDCard_sdio.c **** }
 658              		.loc 1 2389 1 view .LVU208
 659 005e 02B0     		add	sp, sp, #8
 660              	.LCFI7:
 661              		.cfi_remember_state
 662              		.cfi_def_cfa_offset 8
 663              		@ sp needed
 664 0060 10BD     		pop	{r4, pc}
 665              	.LVL69:
 666              	.L90:
 667              	.LCFI8:
 668              		.cfi_restore_state
2258:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
 669              		.loc 1 2258 5 is_stmt 1 view .LVU209
2259:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 670              		.loc 1 2259 5 view .LVU210
 671 0062 0420     		movs	r0, #4
 672 0064 FFF7FEFF 		bl	SDIO_ClearFlag
 673              	.LVL70:
2260:HW/SDCard/SDCard_sdio.c ****   }
 674              		.loc 1 2260 5 view .LVU211
2260:HW/SDCard/SDCard_sdio.c ****   }
 675              		.loc 1 2260 11 is_stmt 0 view .LVU212
 676 0068 0320     		movs	r0, #3
 677 006a F8E7     		b	.L66
 678              	.LVL71:
 679              	.L91:
2264:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_CCRCFAIL);
 680              		.loc 1 2264 5 is_stmt 1 view .LVU213
2265:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 681              		.loc 1 2265 5 view .LVU214
 682 006c 0120     		movs	r0, #1
 683 006e FFF7FEFF 		bl	SDIO_ClearFlag
 684              	.LVL72:
2266:HW/SDCard/SDCard_sdio.c ****   }
 685              		.loc 1 2266 5 view .LVU215
2266:HW/SDCard/SDCard_sdio.c ****   }
 686              		.loc 1 2266 11 is_stmt 0 view .LVU216
 687 0072 0120     		movs	r0, #1
 688 0074 F3E7     		b	.L66
 689              	.LVL73:
 690              	.L92:
2279:HW/SDCard/SDCard_sdio.c **** 
 691              		.loc 1 2279 3 is_stmt 1 view .LVU217
 692 0076 40F2FF50 		movw	r0, #1535
 693 007a FFF7FEFF 		bl	SDIO_ClearFlag
 694              	.LVL74:
2283:HW/SDCard/SDCard_sdio.c **** 
 695              		.loc 1 2283 3 view .LVU218
2283:HW/SDCard/SDCard_sdio.c **** 
 696              		.loc 1 2283 12 is_stmt 0 view .LVU219
 697 007e 0020     		movs	r0, #0
 698 0080 FFF7FEFF 		bl	SDIO_GetResponse
 699              	.LVL75:
2283:HW/SDCard/SDCard_sdio.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 57


 700              		.loc 1 2283 10 view .LVU220
 701 0084 0190     		str	r0, [sp, #4]
2286:HW/SDCard/SDCard_sdio.c **** 
 702              		.loc 1 2286 3 is_stmt 1 view .LVU221
2286:HW/SDCard/SDCard_sdio.c **** 
 703              		.loc 1 2286 33 is_stmt 0 view .LVU222
 704 0086 019B     		ldr	r3, [sp, #4]
2286:HW/SDCard/SDCard_sdio.c **** 
 705              		.loc 1 2286 14 view .LVU223
 706 0088 C3F34323 		ubfx	r3, r3, #9, #4
2286:HW/SDCard/SDCard_sdio.c **** 
 707              		.loc 1 2286 12 view .LVU224
 708 008c 2370     		strb	r3, [r4]
2288:HW/SDCard/SDCard_sdio.c ****   {
 709              		.loc 1 2288 3 is_stmt 1 view .LVU225
2288:HW/SDCard/SDCard_sdio.c ****   {
 710              		.loc 1 2288 15 is_stmt 0 view .LVU226
 711 008e 019A     		ldr	r2, [sp, #4]
 712 0090 3F4B     		ldr	r3, .L93+12
 713 0092 1340     		ands	r3, r3, r2
2288:HW/SDCard/SDCard_sdio.c ****   {
 714              		.loc 1 2288 6 view .LVU227
 715 0094 002B     		cmp	r3, #0
 716 0096 4CD0     		beq	.L69
2293:HW/SDCard/SDCard_sdio.c ****   {
 717              		.loc 1 2293 3 is_stmt 1 view .LVU228
2293:HW/SDCard/SDCard_sdio.c ****   {
 718              		.loc 1 2293 7 is_stmt 0 view .LVU229
 719 0098 019B     		ldr	r3, [sp, #4]
2293:HW/SDCard/SDCard_sdio.c ****   {
 720              		.loc 1 2293 6 view .LVU230
 721 009a 002B     		cmp	r3, #0
 722 009c 4BDB     		blt	.L70
2298:HW/SDCard/SDCard_sdio.c ****   {
 723              		.loc 1 2298 3 is_stmt 1 view .LVU231
2298:HW/SDCard/SDCard_sdio.c ****   {
 724              		.loc 1 2298 14 is_stmt 0 view .LVU232
 725 009e 019B     		ldr	r3, [sp, #4]
2298:HW/SDCard/SDCard_sdio.c ****   {
 726              		.loc 1 2298 6 view .LVU233
 727 00a0 13F0804F 		tst	r3, #1073741824
 728 00a4 49D1     		bne	.L71
2303:HW/SDCard/SDCard_sdio.c ****   {
 729              		.loc 1 2303 3 is_stmt 1 view .LVU234
2303:HW/SDCard/SDCard_sdio.c ****   {
 730              		.loc 1 2303 14 is_stmt 0 view .LVU235
 731 00a6 019B     		ldr	r3, [sp, #4]
2303:HW/SDCard/SDCard_sdio.c ****   {
 732              		.loc 1 2303 6 view .LVU236
 733 00a8 13F0005F 		tst	r3, #536870912
 734 00ac 47D1     		bne	.L72
2308:HW/SDCard/SDCard_sdio.c ****   {
 735              		.loc 1 2308 3 is_stmt 1 view .LVU237
2308:HW/SDCard/SDCard_sdio.c ****   {
 736              		.loc 1 2308 14 is_stmt 0 view .LVU238
 737 00ae 019B     		ldr	r3, [sp, #4]
2308:HW/SDCard/SDCard_sdio.c ****   {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 58


 738              		.loc 1 2308 6 view .LVU239
 739 00b0 13F0805F 		tst	r3, #268435456
 740 00b4 45D1     		bne	.L73
2313:HW/SDCard/SDCard_sdio.c ****   {
 741              		.loc 1 2313 3 is_stmt 1 view .LVU240
2313:HW/SDCard/SDCard_sdio.c ****   {
 742              		.loc 1 2313 14 is_stmt 0 view .LVU241
 743 00b6 019B     		ldr	r3, [sp, #4]
2313:HW/SDCard/SDCard_sdio.c ****   {
 744              		.loc 1 2313 6 view .LVU242
 745 00b8 13F0006F 		tst	r3, #134217728
 746 00bc 43D1     		bne	.L74
2318:HW/SDCard/SDCard_sdio.c ****   {
 747              		.loc 1 2318 3 is_stmt 1 view .LVU243
2318:HW/SDCard/SDCard_sdio.c ****   {
 748              		.loc 1 2318 14 is_stmt 0 view .LVU244
 749 00be 019B     		ldr	r3, [sp, #4]
2318:HW/SDCard/SDCard_sdio.c ****   {
 750              		.loc 1 2318 6 view .LVU245
 751 00c0 13F0806F 		tst	r3, #67108864
 752 00c4 41D1     		bne	.L75
2323:HW/SDCard/SDCard_sdio.c ****   {
 753              		.loc 1 2323 3 is_stmt 1 view .LVU246
2323:HW/SDCard/SDCard_sdio.c ****   {
 754              		.loc 1 2323 14 is_stmt 0 view .LVU247
 755 00c6 019B     		ldr	r3, [sp, #4]
2323:HW/SDCard/SDCard_sdio.c ****   {
 756              		.loc 1 2323 6 view .LVU248
 757 00c8 13F0807F 		tst	r3, #16777216
 758 00cc 3FD1     		bne	.L76
2328:HW/SDCard/SDCard_sdio.c ****   {
 759              		.loc 1 2328 3 is_stmt 1 view .LVU249
2328:HW/SDCard/SDCard_sdio.c ****   {
 760              		.loc 1 2328 14 is_stmt 0 view .LVU250
 761 00ce 019B     		ldr	r3, [sp, #4]
2328:HW/SDCard/SDCard_sdio.c ****   {
 762              		.loc 1 2328 6 view .LVU251
 763 00d0 13F4000F 		tst	r3, #8388608
 764 00d4 3DD1     		bne	.L77
2333:HW/SDCard/SDCard_sdio.c ****   {
 765              		.loc 1 2333 3 is_stmt 1 view .LVU252
2333:HW/SDCard/SDCard_sdio.c ****   {
 766              		.loc 1 2333 14 is_stmt 0 view .LVU253
 767 00d6 019B     		ldr	r3, [sp, #4]
2333:HW/SDCard/SDCard_sdio.c ****   {
 768              		.loc 1 2333 6 view .LVU254
 769 00d8 13F4800F 		tst	r3, #4194304
 770 00dc 3BD1     		bne	.L78
2338:HW/SDCard/SDCard_sdio.c ****   {
 771              		.loc 1 2338 3 is_stmt 1 view .LVU255
2338:HW/SDCard/SDCard_sdio.c ****   {
 772              		.loc 1 2338 14 is_stmt 0 view .LVU256
 773 00de 019B     		ldr	r3, [sp, #4]
2338:HW/SDCard/SDCard_sdio.c ****   {
 774              		.loc 1 2338 6 view .LVU257
 775 00e0 13F4001F 		tst	r3, #2097152
 776 00e4 39D1     		bne	.L79
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 59


2343:HW/SDCard/SDCard_sdio.c ****   {
 777              		.loc 1 2343 3 is_stmt 1 view .LVU258
2343:HW/SDCard/SDCard_sdio.c ****   {
 778              		.loc 1 2343 14 is_stmt 0 view .LVU259
 779 00e6 019B     		ldr	r3, [sp, #4]
2343:HW/SDCard/SDCard_sdio.c ****   {
 780              		.loc 1 2343 6 view .LVU260
 781 00e8 13F4801F 		tst	r3, #1048576
 782 00ec 37D1     		bne	.L80
2348:HW/SDCard/SDCard_sdio.c ****   {
 783              		.loc 1 2348 3 is_stmt 1 view .LVU261
2348:HW/SDCard/SDCard_sdio.c ****   {
 784              		.loc 1 2348 14 is_stmt 0 view .LVU262
 785 00ee 019B     		ldr	r3, [sp, #4]
2348:HW/SDCard/SDCard_sdio.c ****   {
 786              		.loc 1 2348 6 view .LVU263
 787 00f0 13F4002F 		tst	r3, #524288
 788 00f4 35D1     		bne	.L81
2353:HW/SDCard/SDCard_sdio.c ****   {
 789              		.loc 1 2353 3 is_stmt 1 view .LVU264
2353:HW/SDCard/SDCard_sdio.c ****   {
 790              		.loc 1 2353 14 is_stmt 0 view .LVU265
 791 00f6 019B     		ldr	r3, [sp, #4]
2353:HW/SDCard/SDCard_sdio.c ****   {
 792              		.loc 1 2353 6 view .LVU266
 793 00f8 13F4802F 		tst	r3, #262144
 794 00fc 33D1     		bne	.L82
2358:HW/SDCard/SDCard_sdio.c ****   {
 795              		.loc 1 2358 3 is_stmt 1 view .LVU267
2358:HW/SDCard/SDCard_sdio.c ****   {
 796              		.loc 1 2358 14 is_stmt 0 view .LVU268
 797 00fe 019B     		ldr	r3, [sp, #4]
2358:HW/SDCard/SDCard_sdio.c ****   {
 798              		.loc 1 2358 6 view .LVU269
 799 0100 13F4003F 		tst	r3, #131072
 800 0104 31D1     		bne	.L83
2363:HW/SDCard/SDCard_sdio.c ****   {
 801              		.loc 1 2363 3 is_stmt 1 view .LVU270
2363:HW/SDCard/SDCard_sdio.c ****   {
 802              		.loc 1 2363 14 is_stmt 0 view .LVU271
 803 0106 019B     		ldr	r3, [sp, #4]
2363:HW/SDCard/SDCard_sdio.c ****   {
 804              		.loc 1 2363 6 view .LVU272
 805 0108 13F4803F 		tst	r3, #65536
 806 010c 2FD1     		bne	.L84
2368:HW/SDCard/SDCard_sdio.c ****   {
 807              		.loc 1 2368 3 is_stmt 1 view .LVU273
2368:HW/SDCard/SDCard_sdio.c ****   {
 808              		.loc 1 2368 14 is_stmt 0 view .LVU274
 809 010e 019B     		ldr	r3, [sp, #4]
2368:HW/SDCard/SDCard_sdio.c ****   {
 810              		.loc 1 2368 6 view .LVU275
 811 0110 13F4004F 		tst	r3, #32768
 812 0114 2DD1     		bne	.L85
2373:HW/SDCard/SDCard_sdio.c ****   {
 813              		.loc 1 2373 3 is_stmt 1 view .LVU276
2373:HW/SDCard/SDCard_sdio.c ****   {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 60


 814              		.loc 1 2373 14 is_stmt 0 view .LVU277
 815 0116 019B     		ldr	r3, [sp, #4]
2373:HW/SDCard/SDCard_sdio.c ****   {
 816              		.loc 1 2373 6 view .LVU278
 817 0118 13F4804F 		tst	r3, #16384
 818 011c 2BD1     		bne	.L86
2378:HW/SDCard/SDCard_sdio.c ****   {
 819              		.loc 1 2378 3 is_stmt 1 view .LVU279
2378:HW/SDCard/SDCard_sdio.c ****   {
 820              		.loc 1 2378 14 is_stmt 0 view .LVU280
 821 011e 019B     		ldr	r3, [sp, #4]
2378:HW/SDCard/SDCard_sdio.c ****   {
 822              		.loc 1 2378 6 view .LVU281
 823 0120 13F4005F 		tst	r3, #8192
 824 0124 29D1     		bne	.L87
2383:HW/SDCard/SDCard_sdio.c ****   {
 825              		.loc 1 2383 3 is_stmt 1 view .LVU282
2383:HW/SDCard/SDCard_sdio.c ****   {
 826              		.loc 1 2383 14 is_stmt 0 view .LVU283
 827 0126 019B     		ldr	r3, [sp, #4]
2383:HW/SDCard/SDCard_sdio.c ****   {
 828              		.loc 1 2383 6 view .LVU284
 829 0128 13F0080F 		tst	r3, #8
 830 012c 27D1     		bne	.L88
2388:HW/SDCard/SDCard_sdio.c **** }
 831              		.loc 1 2388 9 view .LVU285
 832 012e 0020     		movs	r0, #0
 833 0130 95E7     		b	.L66
 834              	.L69:
2290:HW/SDCard/SDCard_sdio.c ****   }
 835              		.loc 1 2290 11 view .LVU286
 836 0132 0020     		movs	r0, #0
 837 0134 93E7     		b	.L66
 838              	.L70:
2295:HW/SDCard/SDCard_sdio.c ****   }
 839              		.loc 1 2295 11 view .LVU287
 840 0136 1C20     		movs	r0, #28
 841 0138 91E7     		b	.L66
 842              	.L71:
2300:HW/SDCard/SDCard_sdio.c ****   }
 843              		.loc 1 2300 11 view .LVU288
 844 013a 0920     		movs	r0, #9
 845 013c 8FE7     		b	.L66
 846              	.L72:
2305:HW/SDCard/SDCard_sdio.c ****   }
 847              		.loc 1 2305 11 view .LVU289
 848 013e 0A20     		movs	r0, #10
 849 0140 8DE7     		b	.L66
 850              	.L73:
2310:HW/SDCard/SDCard_sdio.c ****   }
 851              		.loc 1 2310 11 view .LVU290
 852 0142 0B20     		movs	r0, #11
 853 0144 8BE7     		b	.L66
 854              	.L74:
2315:HW/SDCard/SDCard_sdio.c ****   }
 855              		.loc 1 2315 11 view .LVU291
 856 0146 0C20     		movs	r0, #12
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 61


 857 0148 89E7     		b	.L66
 858              	.L75:
2320:HW/SDCard/SDCard_sdio.c ****   }
 859              		.loc 1 2320 11 view .LVU292
 860 014a 0D20     		movs	r0, #13
 861 014c 87E7     		b	.L66
 862              	.L76:
2325:HW/SDCard/SDCard_sdio.c ****   }
 863              		.loc 1 2325 11 view .LVU293
 864 014e 0E20     		movs	r0, #14
 865 0150 85E7     		b	.L66
 866              	.L77:
2330:HW/SDCard/SDCard_sdio.c ****   }
 867              		.loc 1 2330 11 view .LVU294
 868 0152 0F20     		movs	r0, #15
 869 0154 83E7     		b	.L66
 870              	.L78:
2335:HW/SDCard/SDCard_sdio.c ****   }
 871              		.loc 1 2335 11 view .LVU295
 872 0156 1020     		movs	r0, #16
 873 0158 81E7     		b	.L66
 874              	.L79:
2340:HW/SDCard/SDCard_sdio.c ****   }
 875              		.loc 1 2340 11 view .LVU296
 876 015a 1120     		movs	r0, #17
 877 015c 7FE7     		b	.L66
 878              	.L80:
2345:HW/SDCard/SDCard_sdio.c ****   }
 879              		.loc 1 2345 11 view .LVU297
 880 015e 1220     		movs	r0, #18
 881 0160 7DE7     		b	.L66
 882              	.L81:
2350:HW/SDCard/SDCard_sdio.c ****   }
 883              		.loc 1 2350 11 view .LVU298
 884 0162 1320     		movs	r0, #19
 885 0164 7BE7     		b	.L66
 886              	.L82:
2355:HW/SDCard/SDCard_sdio.c ****   }
 887              		.loc 1 2355 11 view .LVU299
 888 0166 1420     		movs	r0, #20
 889 0168 79E7     		b	.L66
 890              	.L83:
2360:HW/SDCard/SDCard_sdio.c ****   }
 891              		.loc 1 2360 11 view .LVU300
 892 016a 1520     		movs	r0, #21
 893 016c 77E7     		b	.L66
 894              	.L84:
2365:HW/SDCard/SDCard_sdio.c ****   }
 895              		.loc 1 2365 11 view .LVU301
 896 016e 1620     		movs	r0, #22
 897 0170 75E7     		b	.L66
 898              	.L85:
2370:HW/SDCard/SDCard_sdio.c ****   }
 899              		.loc 1 2370 11 view .LVU302
 900 0172 1720     		movs	r0, #23
 901 0174 73E7     		b	.L66
 902              	.L86:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 62


2375:HW/SDCard/SDCard_sdio.c ****   }
 903              		.loc 1 2375 11 view .LVU303
 904 0176 1820     		movs	r0, #24
 905 0178 71E7     		b	.L66
 906              	.L87:
2380:HW/SDCard/SDCard_sdio.c ****   }
 907              		.loc 1 2380 11 view .LVU304
 908 017a 1920     		movs	r0, #25
 909 017c 6FE7     		b	.L66
 910              	.L88:
2385:HW/SDCard/SDCard_sdio.c ****   }
 911              		.loc 1 2385 11 view .LVU305
 912 017e 1A20     		movs	r0, #26
 913 0180 6DE7     		b	.L66
 914              	.L94:
 915 0182 00BF     		.align	2
 916              	.L93:
 917 0184 00000000 		.word	RCA
 918 0188 00000000 		.word	SDIO_CmdInitStructure
 919 018c 00800140 		.word	1073840128
 920 0190 08E0FFFD 		.word	-33562616
 921              		.cfi_endproc
 922              	.LFE60:
 924              		.section	.text.FindSCR,"ax",%progbits
 925              		.align	1
 926              		.syntax unified
 927              		.thumb
 928              		.thumb_func
 930              	FindSCR:
 931              	.LVL76:
 932              	.LFB61:
2390:HW/SDCard/SDCard_sdio.c **** 
2391:HW/SDCard/SDCard_sdio.c **** /**
2392:HW/SDCard/SDCard_sdio.c ****   * @brief  Find the SD card SCR register value.
2393:HW/SDCard/SDCard_sdio.c ****   * @param  rca: selected card address.
2394:HW/SDCard/SDCard_sdio.c ****   * @param  pscr: pointer to the buffer that will contain the SCR value.
2395:HW/SDCard/SDCard_sdio.c ****   * @retval SD_Error: SD Card Error code.
2396:HW/SDCard/SDCard_sdio.c ****   */
2397:HW/SDCard/SDCard_sdio.c **** static SD_Error FindSCR(uint16_t rca, uint32_t *pscr)
2398:HW/SDCard/SDCard_sdio.c **** {
 933              		.loc 1 2398 1 is_stmt 1 view -0
 934              		.cfi_startproc
 935              		@ args = 0, pretend = 0, frame = 8
 936              		@ frame_needed = 0, uses_anonymous_args = 0
 937              		.loc 1 2398 1 is_stmt 0 view .LVU307
 938 0000 70B5     		push	{r4, r5, r6, lr}
 939              	.LCFI9:
 940              		.cfi_def_cfa_offset 16
 941              		.cfi_offset 4, -16
 942              		.cfi_offset 5, -12
 943              		.cfi_offset 6, -8
 944              		.cfi_offset 14, -4
 945 0002 82B0     		sub	sp, sp, #8
 946              	.LCFI10:
 947              		.cfi_def_cfa_offset 24
 948 0004 0C46     		mov	r4, r1
2399:HW/SDCard/SDCard_sdio.c ****   uint32_t index = 0;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 63


 949              		.loc 1 2399 3 is_stmt 1 view .LVU308
 950              	.LVL77:
2400:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 951              		.loc 1 2400 3 view .LVU309
2401:HW/SDCard/SDCard_sdio.c ****   uint32_t tempscr[2] = {0, 0};
 952              		.loc 1 2401 3 view .LVU310
 953              		.loc 1 2401 12 is_stmt 0 view .LVU311
 954 0006 0023     		movs	r3, #0
 955 0008 0093     		str	r3, [sp]
 956 000a 0193     		str	r3, [sp, #4]
2402:HW/SDCard/SDCard_sdio.c **** 
2403:HW/SDCard/SDCard_sdio.c ****   /*!< Set Block Size To 8 Bytes */
2404:HW/SDCard/SDCard_sdio.c ****   /*!< Send CMD55 APP_CMD with argument as card's RCA */
2405:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t)8;
 957              		.loc 1 2405 3 is_stmt 1 view .LVU312
 958              		.loc 1 2405 39 is_stmt 0 view .LVU313
 959 000c 5248     		ldr	r0, .L111
 960              	.LVL78:
 961              		.loc 1 2405 39 view .LVU314
 962 000e 0822     		movs	r2, #8
 963 0010 0260     		str	r2, [r0]
2406:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCKLEN;
 964              		.loc 1 2406 3 is_stmt 1 view .LVU315
 965              		.loc 1 2406 39 is_stmt 0 view .LVU316
 966 0012 1025     		movs	r5, #16
 967 0014 4560     		str	r5, [r0, #4]
2407:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 968              		.loc 1 2407 3 is_stmt 1 view .LVU317
 969              		.loc 1 2407 39 is_stmt 0 view .LVU318
 970 0016 4022     		movs	r2, #64
 971 0018 8260     		str	r2, [r0, #8]
2408:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 972              		.loc 1 2408 3 is_stmt 1 view .LVU319
 973              		.loc 1 2408 35 is_stmt 0 view .LVU320
 974 001a C360     		str	r3, [r0, #12]
2409:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 975              		.loc 1 2409 3 is_stmt 1 view .LVU321
 976              		.loc 1 2409 35 is_stmt 0 view .LVU322
 977 001c 4FF48063 		mov	r3, #1024
 978 0020 0361     		str	r3, [r0, #16]
2410:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 979              		.loc 1 2410 3 is_stmt 1 view .LVU323
 980 0022 FFF7FEFF 		bl	SDIO_SendCommand
 981              	.LVL79:
2411:HW/SDCard/SDCard_sdio.c **** 
2412:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_SET_BLOCKLEN);
 982              		.loc 1 2412 3 view .LVU324
 983              		.loc 1 2412 17 is_stmt 0 view .LVU325
 984 0026 2846     		mov	r0, r5
 985 0028 FFF7FEFF 		bl	CmdResp1Error
 986              	.LVL80:
2413:HW/SDCard/SDCard_sdio.c **** 
2414:HW/SDCard/SDCard_sdio.c ****   if (errorstatus != SD_OK)
 987              		.loc 1 2414 3 is_stmt 1 view .LVU326
 988              		.loc 1 2414 6 is_stmt 0 view .LVU327
 989 002c 0546     		mov	r5, r0
 990 002e 10B1     		cbz	r0, .L105
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 64


 991              	.LVL81:
 992              	.L96:
2415:HW/SDCard/SDCard_sdio.c ****   {
2416:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2417:HW/SDCard/SDCard_sdio.c ****   }
2418:HW/SDCard/SDCard_sdio.c **** 
2419:HW/SDCard/SDCard_sdio.c ****   /*!< Send CMD55 APP_CMD with argument as card's RCA */
2420:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t) RCA << 16;
2421:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
2422:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
2423:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
2424:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
2425:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
2426:HW/SDCard/SDCard_sdio.c **** 
2427:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
2428:HW/SDCard/SDCard_sdio.c **** 
2429:HW/SDCard/SDCard_sdio.c ****   if (errorstatus != SD_OK)
2430:HW/SDCard/SDCard_sdio.c ****   {
2431:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2432:HW/SDCard/SDCard_sdio.c ****   }
2433:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataTimeOut = SD_DATATIMEOUT;
2434:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = 8;
2435:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = SDIO_DataBlockSize_8b;
2436:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
2437:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
2438:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
2439:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
2440:HW/SDCard/SDCard_sdio.c **** 
2441:HW/SDCard/SDCard_sdio.c **** 
2442:HW/SDCard/SDCard_sdio.c ****   /*!< Send ACMD51 SD_APP_SEND_SCR with argument as 0 */
2443:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Argument = 0x0;
2444:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_SEND_SCR;
2445:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
2446:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
2447:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
2448:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
2449:HW/SDCard/SDCard_sdio.c **** 
2450:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_SD_APP_SEND_SCR);
2451:HW/SDCard/SDCard_sdio.c **** 
2452:HW/SDCard/SDCard_sdio.c ****   if (errorstatus != SD_OK)
2453:HW/SDCard/SDCard_sdio.c ****   {
2454:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2455:HW/SDCard/SDCard_sdio.c ****   }
2456:HW/SDCard/SDCard_sdio.c **** 
2457:HW/SDCard/SDCard_sdio.c ****   while (!(SDIO->STA & (SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SDIO_FLAG_DBC
2458:HW/SDCard/SDCard_sdio.c ****   {
2459:HW/SDCard/SDCard_sdio.c ****     if (SDIO_GetFlagStatus(SDIO_FLAG_RXDAVL) != RESET)
2460:HW/SDCard/SDCard_sdio.c ****     {
2461:HW/SDCard/SDCard_sdio.c ****       *(tempscr + index) = SDIO_ReadData();
2462:HW/SDCard/SDCard_sdio.c ****       index++;
2463:HW/SDCard/SDCard_sdio.c ****     }
2464:HW/SDCard/SDCard_sdio.c ****   }
2465:HW/SDCard/SDCard_sdio.c **** 
2466:HW/SDCard/SDCard_sdio.c ****   if (SDIO_GetFlagStatus(SDIO_FLAG_DTIMEOUT) != RESET)
2467:HW/SDCard/SDCard_sdio.c ****   {
2468:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_DTIMEOUT);
2469:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_DATA_TIMEOUT;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 65


2470:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2471:HW/SDCard/SDCard_sdio.c ****   }
2472:HW/SDCard/SDCard_sdio.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_DCRCFAIL) != RESET)
2473:HW/SDCard/SDCard_sdio.c ****   {
2474:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_DCRCFAIL);
2475:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_DATA_CRC_FAIL;
2476:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2477:HW/SDCard/SDCard_sdio.c ****   }
2478:HW/SDCard/SDCard_sdio.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_RXOVERR) != RESET)
2479:HW/SDCard/SDCard_sdio.c ****   {
2480:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_RXOVERR);
2481:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_RX_OVERRUN;
2482:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2483:HW/SDCard/SDCard_sdio.c ****   }
2484:HW/SDCard/SDCard_sdio.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_STBITERR) != RESET)
2485:HW/SDCard/SDCard_sdio.c ****   {
2486:HW/SDCard/SDCard_sdio.c ****     SDIO_ClearFlag(SDIO_FLAG_STBITERR);
2487:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_START_BIT_ERR;
2488:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
2489:HW/SDCard/SDCard_sdio.c ****   }
2490:HW/SDCard/SDCard_sdio.c **** 
2491:HW/SDCard/SDCard_sdio.c ****   /*!< Clear all the static flags */
2492:HW/SDCard/SDCard_sdio.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
2493:HW/SDCard/SDCard_sdio.c **** 
2494:HW/SDCard/SDCard_sdio.c ****   *(pscr + 1) = ((tempscr[0] & SD_0TO7BITS) << 24) | ((tempscr[0] & SD_8TO15BITS) << 8) | ((tempscr
2495:HW/SDCard/SDCard_sdio.c **** 
2496:HW/SDCard/SDCard_sdio.c ****   *(pscr) = ((tempscr[1] & SD_0TO7BITS) << 24) | ((tempscr[1] & SD_8TO15BITS) << 8) | ((tempscr[1] 
2497:HW/SDCard/SDCard_sdio.c **** 
2498:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
2499:HW/SDCard/SDCard_sdio.c **** }
 993              		.loc 1 2499 1 view .LVU328
 994 0030 2846     		mov	r0, r5
 995 0032 02B0     		add	sp, sp, #8
 996              	.LCFI11:
 997              		.cfi_remember_state
 998              		.cfi_def_cfa_offset 16
 999              		@ sp needed
 1000 0034 70BD     		pop	{r4, r5, r6, pc}
 1001              	.LVL82:
 1002              	.L105:
 1003              	.LCFI12:
 1004              		.cfi_restore_state
2420:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1005              		.loc 1 2420 3 is_stmt 1 view .LVU329
2420:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1006              		.loc 1 2420 41 is_stmt 0 view .LVU330
 1007 0036 494B     		ldr	r3, .L111+4
 1008 0038 1B68     		ldr	r3, [r3]
2420:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1009              		.loc 1 2420 56 view .LVU331
 1010 003a 1B04     		lsls	r3, r3, #16
2420:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1011              		.loc 1 2420 39 view .LVU332
 1012 003c 4648     		ldr	r0, .L111
 1013              	.LVL83:
2420:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1014              		.loc 1 2420 39 view .LVU333
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 66


 1015 003e 0360     		str	r3, [r0]
2421:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1016              		.loc 1 2421 3 is_stmt 1 view .LVU334
2421:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1017              		.loc 1 2421 39 is_stmt 0 view .LVU335
 1018 0040 3725     		movs	r5, #55
 1019 0042 4560     		str	r5, [r0, #4]
2422:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1020              		.loc 1 2422 3 is_stmt 1 view .LVU336
2422:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1021              		.loc 1 2422 39 is_stmt 0 view .LVU337
 1022 0044 4023     		movs	r3, #64
 1023 0046 8360     		str	r3, [r0, #8]
2423:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1024              		.loc 1 2423 3 is_stmt 1 view .LVU338
2423:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1025              		.loc 1 2423 35 is_stmt 0 view .LVU339
 1026 0048 0023     		movs	r3, #0
 1027 004a C360     		str	r3, [r0, #12]
2424:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 1028              		.loc 1 2424 3 is_stmt 1 view .LVU340
2424:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 1029              		.loc 1 2424 35 is_stmt 0 view .LVU341
 1030 004c 4FF48063 		mov	r3, #1024
 1031 0050 0361     		str	r3, [r0, #16]
2425:HW/SDCard/SDCard_sdio.c **** 
 1032              		.loc 1 2425 3 is_stmt 1 view .LVU342
 1033 0052 FFF7FEFF 		bl	SDIO_SendCommand
 1034              	.LVL84:
2427:HW/SDCard/SDCard_sdio.c **** 
 1035              		.loc 1 2427 3 view .LVU343
2427:HW/SDCard/SDCard_sdio.c **** 
 1036              		.loc 1 2427 17 is_stmt 0 view .LVU344
 1037 0056 2846     		mov	r0, r5
 1038 0058 FFF7FEFF 		bl	CmdResp1Error
 1039              	.LVL85:
2429:HW/SDCard/SDCard_sdio.c ****   {
 1040              		.loc 1 2429 3 is_stmt 1 view .LVU345
2429:HW/SDCard/SDCard_sdio.c ****   {
 1041              		.loc 1 2429 6 is_stmt 0 view .LVU346
 1042 005c 0546     		mov	r5, r0
 1043 005e 0028     		cmp	r0, #0
 1044 0060 E6D1     		bne	.L96
2433:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = 8;
 1045              		.loc 1 2433 3 is_stmt 1 view .LVU347
2433:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = 8;
 1046              		.loc 1 2433 43 is_stmt 0 view .LVU348
 1047 0062 3F48     		ldr	r0, .L111+8
 1048              	.LVL86:
2433:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = 8;
 1049              		.loc 1 2433 43 view .LVU349
 1050 0064 4FF0FF33 		mov	r3, #-1
 1051 0068 0360     		str	r3, [r0]
2434:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = SDIO_DataBlockSize_8b;
 1052              		.loc 1 2434 3 is_stmt 1 view .LVU350
2434:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = SDIO_DataBlockSize_8b;
 1053              		.loc 1 2434 42 is_stmt 0 view .LVU351
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 67


 1054 006a 0823     		movs	r3, #8
 1055 006c 4360     		str	r3, [r0, #4]
2435:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
 1056              		.loc 1 2435 3 is_stmt 1 view .LVU352
2435:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
 1057              		.loc 1 2435 45 is_stmt 0 view .LVU353
 1058 006e 3023     		movs	r3, #48
 1059 0070 8360     		str	r3, [r0, #8]
2436:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 1060              		.loc 1 2436 3 is_stmt 1 view .LVU354
2436:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 1061              		.loc 1 2436 43 is_stmt 0 view .LVU355
 1062 0072 0223     		movs	r3, #2
 1063 0074 C360     		str	r3, [r0, #12]
2437:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 1064              		.loc 1 2437 3 is_stmt 1 view .LVU356
2437:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 1065              		.loc 1 2437 44 is_stmt 0 view .LVU357
 1066 0076 0025     		movs	r5, #0
 1067 0078 0561     		str	r5, [r0, #16]
2438:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 1068              		.loc 1 2438 3 is_stmt 1 view .LVU358
2438:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 1069              		.loc 1 2438 36 is_stmt 0 view .LVU359
 1070 007a 0123     		movs	r3, #1
 1071 007c 4361     		str	r3, [r0, #20]
2439:HW/SDCard/SDCard_sdio.c **** 
 1072              		.loc 1 2439 3 is_stmt 1 view .LVU360
 1073 007e FFF7FEFF 		bl	SDIO_DataConfig
 1074              	.LVL87:
2443:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_SEND_SCR;
 1075              		.loc 1 2443 3 view .LVU361
2443:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_SEND_SCR;
 1076              		.loc 1 2443 39 is_stmt 0 view .LVU362
 1077 0082 3548     		ldr	r0, .L111
 1078 0084 0560     		str	r5, [r0]
2444:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1079              		.loc 1 2444 3 is_stmt 1 view .LVU363
2444:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1080              		.loc 1 2444 39 is_stmt 0 view .LVU364
 1081 0086 3326     		movs	r6, #51
 1082 0088 4660     		str	r6, [r0, #4]
2445:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1083              		.loc 1 2445 3 is_stmt 1 view .LVU365
2445:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1084              		.loc 1 2445 39 is_stmt 0 view .LVU366
 1085 008a 4023     		movs	r3, #64
 1086 008c 8360     		str	r3, [r0, #8]
2446:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1087              		.loc 1 2446 3 is_stmt 1 view .LVU367
2446:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1088              		.loc 1 2446 35 is_stmt 0 view .LVU368
 1089 008e C560     		str	r5, [r0, #12]
2447:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 1090              		.loc 1 2447 3 is_stmt 1 view .LVU369
2447:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 1091              		.loc 1 2447 35 is_stmt 0 view .LVU370
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 68


 1092 0090 4FF48063 		mov	r3, #1024
 1093 0094 0361     		str	r3, [r0, #16]
2448:HW/SDCard/SDCard_sdio.c **** 
 1094              		.loc 1 2448 3 is_stmt 1 view .LVU371
 1095 0096 FFF7FEFF 		bl	SDIO_SendCommand
 1096              	.LVL88:
2450:HW/SDCard/SDCard_sdio.c **** 
 1097              		.loc 1 2450 3 view .LVU372
2450:HW/SDCard/SDCard_sdio.c **** 
 1098              		.loc 1 2450 17 is_stmt 0 view .LVU373
 1099 009a 3046     		mov	r0, r6
 1100 009c FFF7FEFF 		bl	CmdResp1Error
 1101              	.LVL89:
2452:HW/SDCard/SDCard_sdio.c ****   {
 1102              		.loc 1 2452 3 is_stmt 1 view .LVU374
2452:HW/SDCard/SDCard_sdio.c ****   {
 1103              		.loc 1 2452 6 is_stmt 0 view .LVU375
 1104 00a0 0546     		mov	r5, r0
 1105 00a2 0028     		cmp	r0, #0
 1106 00a4 C4D1     		bne	.L96
2399:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 1107              		.loc 1 2399 12 view .LVU376
 1108 00a6 0026     		movs	r6, #0
 1109              	.LVL90:
 1110              	.L98:
2457:HW/SDCard/SDCard_sdio.c ****   {
 1111              		.loc 1 2457 10 is_stmt 1 view .LVU377
2457:HW/SDCard/SDCard_sdio.c ****   {
 1112              		.loc 1 2457 16 is_stmt 0 view .LVU378
 1113 00a8 2E4B     		ldr	r3, .L111+12
 1114 00aa 5A6B     		ldr	r2, [r3, #52]
2457:HW/SDCard/SDCard_sdio.c ****   {
 1115              		.loc 1 2457 10 view .LVU379
 1116 00ac 40F22A63 		movw	r3, #1578
 1117 00b0 1A42     		tst	r2, r3
 1118 00b2 0BD1     		bne	.L106
2459:HW/SDCard/SDCard_sdio.c ****     {
 1119              		.loc 1 2459 5 is_stmt 1 view .LVU380
2459:HW/SDCard/SDCard_sdio.c ****     {
 1120              		.loc 1 2459 9 is_stmt 0 view .LVU381
 1121 00b4 4FF40010 		mov	r0, #2097152
 1122 00b8 FFF7FEFF 		bl	SDIO_GetFlagStatus
 1123              	.LVL91:
2459:HW/SDCard/SDCard_sdio.c ****     {
 1124              		.loc 1 2459 8 view .LVU382
 1125 00bc 0028     		cmp	r0, #0
 1126 00be F3D0     		beq	.L98
2461:HW/SDCard/SDCard_sdio.c ****       index++;
 1127              		.loc 1 2461 7 is_stmt 1 view .LVU383
2461:HW/SDCard/SDCard_sdio.c ****       index++;
 1128              		.loc 1 2461 28 is_stmt 0 view .LVU384
 1129 00c0 FFF7FEFF 		bl	SDIO_ReadData
 1130              	.LVL92:
2461:HW/SDCard/SDCard_sdio.c ****       index++;
 1131              		.loc 1 2461 26 view .LVU385
 1132 00c4 4DF82600 		str	r0, [sp, r6, lsl #2]
2462:HW/SDCard/SDCard_sdio.c ****     }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 69


 1133              		.loc 1 2462 7 is_stmt 1 view .LVU386
2462:HW/SDCard/SDCard_sdio.c ****     }
 1134              		.loc 1 2462 12 is_stmt 0 view .LVU387
 1135 00c8 0136     		adds	r6, r6, #1
 1136              	.LVL93:
2462:HW/SDCard/SDCard_sdio.c ****     }
 1137              		.loc 1 2462 12 view .LVU388
 1138 00ca EDE7     		b	.L98
 1139              	.L106:
2466:HW/SDCard/SDCard_sdio.c ****   {
 1140              		.loc 1 2466 3 is_stmt 1 view .LVU389
2466:HW/SDCard/SDCard_sdio.c ****   {
 1141              		.loc 1 2466 7 is_stmt 0 view .LVU390
 1142 00cc 0820     		movs	r0, #8
 1143 00ce FFF7FEFF 		bl	SDIO_GetFlagStatus
 1144              	.LVL94:
2466:HW/SDCard/SDCard_sdio.c ****   {
 1145              		.loc 1 2466 6 view .LVU391
 1146 00d2 58BB     		cbnz	r0, .L107
2472:HW/SDCard/SDCard_sdio.c ****   {
 1147              		.loc 1 2472 8 is_stmt 1 view .LVU392
2472:HW/SDCard/SDCard_sdio.c ****   {
 1148              		.loc 1 2472 12 is_stmt 0 view .LVU393
 1149 00d4 0220     		movs	r0, #2
 1150 00d6 FFF7FEFF 		bl	SDIO_GetFlagStatus
 1151              	.LVL95:
2472:HW/SDCard/SDCard_sdio.c ****   {
 1152              		.loc 1 2472 11 view .LVU394
 1153 00da 60BB     		cbnz	r0, .L108
2478:HW/SDCard/SDCard_sdio.c ****   {
 1154              		.loc 1 2478 8 is_stmt 1 view .LVU395
2478:HW/SDCard/SDCard_sdio.c ****   {
 1155              		.loc 1 2478 12 is_stmt 0 view .LVU396
 1156 00dc 2020     		movs	r0, #32
 1157 00de FFF7FEFF 		bl	SDIO_GetFlagStatus
 1158              	.LVL96:
2478:HW/SDCard/SDCard_sdio.c ****   {
 1159              		.loc 1 2478 11 view .LVU397
 1160 00e2 68BB     		cbnz	r0, .L109
2484:HW/SDCard/SDCard_sdio.c ****   {
 1161              		.loc 1 2484 8 is_stmt 1 view .LVU398
2484:HW/SDCard/SDCard_sdio.c ****   {
 1162              		.loc 1 2484 12 is_stmt 0 view .LVU399
 1163 00e4 4FF40070 		mov	r0, #512
 1164 00e8 FFF7FEFF 		bl	SDIO_GetFlagStatus
 1165              	.LVL97:
2484:HW/SDCard/SDCard_sdio.c ****   {
 1166              		.loc 1 2484 11 view .LVU400
 1167 00ec 68BB     		cbnz	r0, .L110
2492:HW/SDCard/SDCard_sdio.c **** 
 1168              		.loc 1 2492 3 is_stmt 1 view .LVU401
 1169 00ee 40F2FF50 		movw	r0, #1535
 1170 00f2 FFF7FEFF 		bl	SDIO_ClearFlag
 1171              	.LVL98:
2494:HW/SDCard/SDCard_sdio.c **** 
 1172              		.loc 1 2494 3 view .LVU402
2494:HW/SDCard/SDCard_sdio.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 70


 1173              		.loc 1 2494 26 is_stmt 0 view .LVU403
 1174 00f6 009A     		ldr	r2, [sp]
2494:HW/SDCard/SDCard_sdio.c **** 
 1175              		.loc 1 2494 83 view .LVU404
 1176 00f8 1302     		lsls	r3, r2, #8
 1177 00fa 03F47F03 		and	r3, r3, #16711680
2494:HW/SDCard/SDCard_sdio.c **** 
 1178              		.loc 1 2494 52 view .LVU405
 1179 00fe 43EA0263 		orr	r3, r3, r2, lsl #24
2494:HW/SDCard/SDCard_sdio.c **** 
 1180              		.loc 1 2494 121 view .LVU406
 1181 0102 110A     		lsrs	r1, r2, #8
 1182 0104 01F47F41 		and	r1, r1, #65280
2494:HW/SDCard/SDCard_sdio.c **** 
 1183              		.loc 1 2494 89 view .LVU407
 1184 0108 0B43     		orrs	r3, r3, r1
2494:HW/SDCard/SDCard_sdio.c **** 
 1185              		.loc 1 2494 127 view .LVU408
 1186 010a 43EA1263 		orr	r3, r3, r2, lsr #24
2494:HW/SDCard/SDCard_sdio.c **** 
 1187              		.loc 1 2494 15 view .LVU409
 1188 010e 6360     		str	r3, [r4, #4]
2496:HW/SDCard/SDCard_sdio.c **** 
 1189              		.loc 1 2496 3 is_stmt 1 view .LVU410
2496:HW/SDCard/SDCard_sdio.c **** 
 1190              		.loc 1 2496 22 is_stmt 0 view .LVU411
 1191 0110 019A     		ldr	r2, [sp, #4]
2496:HW/SDCard/SDCard_sdio.c **** 
 1192              		.loc 1 2496 79 view .LVU412
 1193 0112 1302     		lsls	r3, r2, #8
 1194 0114 03F47F03 		and	r3, r3, #16711680
2496:HW/SDCard/SDCard_sdio.c **** 
 1195              		.loc 1 2496 48 view .LVU413
 1196 0118 43EA0263 		orr	r3, r3, r2, lsl #24
2496:HW/SDCard/SDCard_sdio.c **** 
 1197              		.loc 1 2496 117 view .LVU414
 1198 011c 110A     		lsrs	r1, r2, #8
 1199 011e 01F47F41 		and	r1, r1, #65280
2496:HW/SDCard/SDCard_sdio.c **** 
 1200              		.loc 1 2496 85 view .LVU415
 1201 0122 0B43     		orrs	r3, r3, r1
2496:HW/SDCard/SDCard_sdio.c **** 
 1202              		.loc 1 2496 123 view .LVU416
 1203 0124 43EA1263 		orr	r3, r3, r2, lsr #24
2496:HW/SDCard/SDCard_sdio.c **** 
 1204              		.loc 1 2496 11 view .LVU417
 1205 0128 2360     		str	r3, [r4]
2498:HW/SDCard/SDCard_sdio.c **** }
 1206              		.loc 1 2498 3 is_stmt 1 view .LVU418
2498:HW/SDCard/SDCard_sdio.c **** }
 1207              		.loc 1 2498 9 is_stmt 0 view .LVU419
 1208 012a 81E7     		b	.L96
 1209              	.L107:
2468:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_DATA_TIMEOUT;
 1210              		.loc 1 2468 5 is_stmt 1 view .LVU420
 1211 012c 0820     		movs	r0, #8
 1212 012e FFF7FEFF 		bl	SDIO_ClearFlag
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 71


 1213              	.LVL99:
2469:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 1214              		.loc 1 2469 5 view .LVU421
2470:HW/SDCard/SDCard_sdio.c ****   }
 1215              		.loc 1 2470 5 view .LVU422
2470:HW/SDCard/SDCard_sdio.c ****   }
 1216              		.loc 1 2470 11 is_stmt 0 view .LVU423
 1217 0132 0425     		movs	r5, #4
 1218 0134 7CE7     		b	.L96
 1219              	.LVL100:
 1220              	.L108:
2474:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_DATA_CRC_FAIL;
 1221              		.loc 1 2474 5 is_stmt 1 view .LVU424
 1222 0136 0220     		movs	r0, #2
 1223 0138 FFF7FEFF 		bl	SDIO_ClearFlag
 1224              	.LVL101:
2475:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 1225              		.loc 1 2475 5 view .LVU425
2476:HW/SDCard/SDCard_sdio.c ****   }
 1226              		.loc 1 2476 5 view .LVU426
2476:HW/SDCard/SDCard_sdio.c ****   }
 1227              		.loc 1 2476 11 is_stmt 0 view .LVU427
 1228 013c 0225     		movs	r5, #2
 1229 013e 77E7     		b	.L96
 1230              	.LVL102:
 1231              	.L109:
2480:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_RX_OVERRUN;
 1232              		.loc 1 2480 5 is_stmt 1 view .LVU428
 1233 0140 2020     		movs	r0, #32
 1234 0142 FFF7FEFF 		bl	SDIO_ClearFlag
 1235              	.LVL103:
2481:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 1236              		.loc 1 2481 5 view .LVU429
2482:HW/SDCard/SDCard_sdio.c ****   }
 1237              		.loc 1 2482 5 view .LVU430
2482:HW/SDCard/SDCard_sdio.c ****   }
 1238              		.loc 1 2482 11 is_stmt 0 view .LVU431
 1239 0146 0625     		movs	r5, #6
 1240 0148 72E7     		b	.L96
 1241              	.LVL104:
 1242              	.L110:
2486:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_START_BIT_ERR;
 1243              		.loc 1 2486 5 is_stmt 1 view .LVU432
 1244 014a 4FF40070 		mov	r0, #512
 1245 014e FFF7FEFF 		bl	SDIO_ClearFlag
 1246              	.LVL105:
2487:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 1247              		.loc 1 2487 5 view .LVU433
2488:HW/SDCard/SDCard_sdio.c ****   }
 1248              		.loc 1 2488 5 view .LVU434
2488:HW/SDCard/SDCard_sdio.c ****   }
 1249              		.loc 1 2488 11 is_stmt 0 view .LVU435
 1250 0152 0725     		movs	r5, #7
 1251 0154 6CE7     		b	.L96
 1252              	.L112:
 1253 0156 00BF     		.align	2
 1254              	.L111:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 72


 1255 0158 00000000 		.word	SDIO_CmdInitStructure
 1256 015c 00000000 		.word	RCA
 1257 0160 00000000 		.word	SDIO_DataInitStructure
 1258 0164 00800140 		.word	1073840128
 1259              		.cfi_endproc
 1260              	.LFE61:
 1262              		.section	.text.SDEnWideBus,"ax",%progbits
 1263              		.align	1
 1264              		.syntax unified
 1265              		.thumb
 1266              		.thumb_func
 1268              	SDEnWideBus:
 1269              	.LVL106:
 1270              	.LFB59:
2125:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 1271              		.loc 1 2125 1 is_stmt 1 view -0
 1272              		.cfi_startproc
 1273              		@ args = 0, pretend = 0, frame = 8
 1274              		@ frame_needed = 0, uses_anonymous_args = 0
2125:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 1275              		.loc 1 2125 1 is_stmt 0 view .LVU437
 1276 0000 10B5     		push	{r4, lr}
 1277              	.LCFI13:
 1278              		.cfi_def_cfa_offset 8
 1279              		.cfi_offset 4, -8
 1280              		.cfi_offset 14, -4
 1281 0002 82B0     		sub	sp, sp, #8
 1282              	.LCFI14:
 1283              		.cfi_def_cfa_offset 16
 1284 0004 0446     		mov	r4, r0
2126:HW/SDCard/SDCard_sdio.c **** 
 1285              		.loc 1 2126 3 is_stmt 1 view .LVU438
 1286              	.LVL107:
2128:HW/SDCard/SDCard_sdio.c **** 
 1287              		.loc 1 2128 3 view .LVU439
2128:HW/SDCard/SDCard_sdio.c **** 
 1288              		.loc 1 2128 12 is_stmt 0 view .LVU440
 1289 0006 0020     		movs	r0, #0
 1290              	.LVL108:
2128:HW/SDCard/SDCard_sdio.c **** 
 1291              		.loc 1 2128 12 view .LVU441
 1292 0008 0090     		str	r0, [sp]
 1293 000a 0190     		str	r0, [sp, #4]
2130:HW/SDCard/SDCard_sdio.c ****   {
 1294              		.loc 1 2130 3 is_stmt 1 view .LVU442
2130:HW/SDCard/SDCard_sdio.c ****   {
 1295              		.loc 1 2130 7 is_stmt 0 view .LVU443
 1296 000c FFF7FEFF 		bl	SDIO_GetResponse
 1297              	.LVL109:
2130:HW/SDCard/SDCard_sdio.c ****   {
 1298              		.loc 1 2130 6 view .LVU444
 1299 0010 10F0007F 		tst	r0, #33554432
 1300 0014 5CD1     		bne	.L116
2137:HW/SDCard/SDCard_sdio.c **** 
 1301              		.loc 1 2137 3 is_stmt 1 view .LVU445
2137:HW/SDCard/SDCard_sdio.c **** 
 1302              		.loc 1 2137 17 is_stmt 0 view .LVU446
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 73


 1303 0016 6946     		mov	r1, sp
 1304 0018 314B     		ldr	r3, .L121
 1305 001a 1888     		ldrh	r0, [r3]
 1306 001c FFF7FEFF 		bl	FindSCR
 1307              	.LVL110:
2139:HW/SDCard/SDCard_sdio.c ****   {
 1308              		.loc 1 2139 3 is_stmt 1 view .LVU447
2139:HW/SDCard/SDCard_sdio.c ****   {
 1309              		.loc 1 2139 6 is_stmt 0 view .LVU448
 1310 0020 0028     		cmp	r0, #0
 1311 0022 56D1     		bne	.L114
2145:HW/SDCard/SDCard_sdio.c ****   {
 1312              		.loc 1 2145 3 is_stmt 1 view .LVU449
2145:HW/SDCard/SDCard_sdio.c ****   {
 1313              		.loc 1 2145 6 is_stmt 0 view .LVU450
 1314 0024 012C     		cmp	r4, #1
 1315 0026 29D0     		beq	.L120
2190:HW/SDCard/SDCard_sdio.c ****     {
 1316              		.loc 1 2190 5 is_stmt 1 view .LVU451
2190:HW/SDCard/SDCard_sdio.c ****     {
 1317              		.loc 1 2190 8 is_stmt 0 view .LVU452
 1318 0028 019B     		ldr	r3, [sp, #4]
 1319 002a 13F4803F 		tst	r3, #65536
 1320 002e 54D0     		beq	.L118
2193:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1321              		.loc 1 2193 7 is_stmt 1 view .LVU453
2193:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1322              		.loc 1 2193 45 is_stmt 0 view .LVU454
 1323 0030 2B4B     		ldr	r3, .L121
 1324 0032 1B68     		ldr	r3, [r3]
2193:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1325              		.loc 1 2193 60 view .LVU455
 1326 0034 1B04     		lsls	r3, r3, #16
2193:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1327              		.loc 1 2193 43 view .LVU456
 1328 0036 2B48     		ldr	r0, .L121+4
 1329              	.LVL111:
2193:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1330              		.loc 1 2193 43 view .LVU457
 1331 0038 0360     		str	r3, [r0]
2194:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1332              		.loc 1 2194 7 is_stmt 1 view .LVU458
2194:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1333              		.loc 1 2194 43 is_stmt 0 view .LVU459
 1334 003a 3724     		movs	r4, #55
 1335 003c 4460     		str	r4, [r0, #4]
2195:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1336              		.loc 1 2195 7 is_stmt 1 view .LVU460
2195:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1337              		.loc 1 2195 43 is_stmt 0 view .LVU461
 1338 003e 4023     		movs	r3, #64
 1339 0040 8360     		str	r3, [r0, #8]
2196:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1340              		.loc 1 2196 7 is_stmt 1 view .LVU462
2196:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1341              		.loc 1 2196 39 is_stmt 0 view .LVU463
 1342 0042 0023     		movs	r3, #0
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 74


 1343 0044 C360     		str	r3, [r0, #12]
2197:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1344              		.loc 1 2197 7 is_stmt 1 view .LVU464
2197:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1345              		.loc 1 2197 39 is_stmt 0 view .LVU465
 1346 0046 4FF48063 		mov	r3, #1024
 1347 004a 0361     		str	r3, [r0, #16]
2198:HW/SDCard/SDCard_sdio.c **** 
 1348              		.loc 1 2198 7 is_stmt 1 view .LVU466
 1349 004c FFF7FEFF 		bl	SDIO_SendCommand
 1350              	.LVL112:
2201:HW/SDCard/SDCard_sdio.c **** 
 1351              		.loc 1 2201 7 view .LVU467
2201:HW/SDCard/SDCard_sdio.c **** 
 1352              		.loc 1 2201 21 is_stmt 0 view .LVU468
 1353 0050 2046     		mov	r0, r4
 1354 0052 FFF7FEFF 		bl	CmdResp1Error
 1355              	.LVL113:
 1356 0056 0346     		mov	r3, r0
 1357              	.LVL114:
2203:HW/SDCard/SDCard_sdio.c ****       {
 1358              		.loc 1 2203 7 is_stmt 1 view .LVU469
2203:HW/SDCard/SDCard_sdio.c ****       {
 1359              		.loc 1 2203 10 is_stmt 0 view .LVU470
 1360 0058 0028     		cmp	r0, #0
 1361 005a 3AD1     		bne	.L114
2209:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_SD_SET_BUSWIDTH;
 1362              		.loc 1 2209 7 is_stmt 1 view .LVU471
2209:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_SD_SET_BUSWIDTH;
 1363              		.loc 1 2209 43 is_stmt 0 view .LVU472
 1364 005c 2148     		ldr	r0, .L121+4
 1365              	.LVL115:
2209:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_SD_SET_BUSWIDTH;
 1366              		.loc 1 2209 43 view .LVU473
 1367 005e 0360     		str	r3, [r0]
2210:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1368              		.loc 1 2210 7 is_stmt 1 view .LVU474
2210:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1369              		.loc 1 2210 43 is_stmt 0 view .LVU475
 1370 0060 0624     		movs	r4, #6
 1371 0062 4460     		str	r4, [r0, #4]
2211:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1372              		.loc 1 2211 7 is_stmt 1 view .LVU476
2211:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1373              		.loc 1 2211 43 is_stmt 0 view .LVU477
 1374 0064 4022     		movs	r2, #64
 1375 0066 8260     		str	r2, [r0, #8]
2212:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1376              		.loc 1 2212 7 is_stmt 1 view .LVU478
2212:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1377              		.loc 1 2212 39 is_stmt 0 view .LVU479
 1378 0068 C360     		str	r3, [r0, #12]
2213:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1379              		.loc 1 2213 7 is_stmt 1 view .LVU480
2213:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1380              		.loc 1 2213 39 is_stmt 0 view .LVU481
 1381 006a 4FF48063 		mov	r3, #1024
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 75


 1382 006e 0361     		str	r3, [r0, #16]
2214:HW/SDCard/SDCard_sdio.c **** 
 1383              		.loc 1 2214 7 is_stmt 1 view .LVU482
 1384 0070 FFF7FEFF 		bl	SDIO_SendCommand
 1385              	.LVL116:
2216:HW/SDCard/SDCard_sdio.c **** 
 1386              		.loc 1 2216 7 view .LVU483
2216:HW/SDCard/SDCard_sdio.c **** 
 1387              		.loc 1 2216 21 is_stmt 0 view .LVU484
 1388 0074 2046     		mov	r0, r4
 1389 0076 FFF7FEFF 		bl	CmdResp1Error
 1390              	.LVL117:
2218:HW/SDCard/SDCard_sdio.c ****       {
 1391              		.loc 1 2218 7 is_stmt 1 view .LVU485
 1392 007a 2AE0     		b	.L114
 1393              	.L120:
2148:HW/SDCard/SDCard_sdio.c ****     {
 1394              		.loc 1 2148 5 view .LVU486
2148:HW/SDCard/SDCard_sdio.c ****     {
 1395              		.loc 1 2148 8 is_stmt 0 view .LVU487
 1396 007c 019B     		ldr	r3, [sp, #4]
 1397 007e 13F4802F 		tst	r3, #262144
 1398 0082 28D0     		beq	.L117
2151:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1399              		.loc 1 2151 7 is_stmt 1 view .LVU488
2151:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1400              		.loc 1 2151 45 is_stmt 0 view .LVU489
 1401 0084 164B     		ldr	r3, .L121
 1402 0086 1B68     		ldr	r3, [r3]
2151:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1403              		.loc 1 2151 60 view .LVU490
 1404 0088 1B04     		lsls	r3, r3, #16
2151:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1405              		.loc 1 2151 43 view .LVU491
 1406 008a 1648     		ldr	r0, .L121+4
 1407              	.LVL118:
2151:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1408              		.loc 1 2151 43 view .LVU492
 1409 008c 0360     		str	r3, [r0]
2152:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1410              		.loc 1 2152 7 is_stmt 1 view .LVU493
2152:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1411              		.loc 1 2152 43 is_stmt 0 view .LVU494
 1412 008e 3724     		movs	r4, #55
 1413 0090 4460     		str	r4, [r0, #4]
2153:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1414              		.loc 1 2153 7 is_stmt 1 view .LVU495
2153:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1415              		.loc 1 2153 43 is_stmt 0 view .LVU496
 1416 0092 4023     		movs	r3, #64
 1417 0094 8360     		str	r3, [r0, #8]
2154:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1418              		.loc 1 2154 7 is_stmt 1 view .LVU497
2154:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1419              		.loc 1 2154 39 is_stmt 0 view .LVU498
 1420 0096 0023     		movs	r3, #0
 1421 0098 C360     		str	r3, [r0, #12]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 76


2155:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1422              		.loc 1 2155 7 is_stmt 1 view .LVU499
2155:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1423              		.loc 1 2155 39 is_stmt 0 view .LVU500
 1424 009a 4FF48063 		mov	r3, #1024
 1425 009e 0361     		str	r3, [r0, #16]
2156:HW/SDCard/SDCard_sdio.c **** 
 1426              		.loc 1 2156 7 is_stmt 1 view .LVU501
 1427 00a0 FFF7FEFF 		bl	SDIO_SendCommand
 1428              	.LVL119:
2158:HW/SDCard/SDCard_sdio.c **** 
 1429              		.loc 1 2158 7 view .LVU502
2158:HW/SDCard/SDCard_sdio.c **** 
 1430              		.loc 1 2158 21 is_stmt 0 view .LVU503
 1431 00a4 2046     		mov	r0, r4
 1432 00a6 FFF7FEFF 		bl	CmdResp1Error
 1433              	.LVL120:
2160:HW/SDCard/SDCard_sdio.c ****       {
 1434              		.loc 1 2160 7 is_stmt 1 view .LVU504
2160:HW/SDCard/SDCard_sdio.c ****       {
 1435              		.loc 1 2160 10 is_stmt 0 view .LVU505
 1436 00aa 90B9     		cbnz	r0, .L114
2166:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_SD_SET_BUSWIDTH;
 1437              		.loc 1 2166 7 is_stmt 1 view .LVU506
2166:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_SD_SET_BUSWIDTH;
 1438              		.loc 1 2166 43 is_stmt 0 view .LVU507
 1439 00ac 0D48     		ldr	r0, .L121+4
 1440              	.LVL121:
2166:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_SD_SET_BUSWIDTH;
 1441              		.loc 1 2166 43 view .LVU508
 1442 00ae 0223     		movs	r3, #2
 1443 00b0 0360     		str	r3, [r0]
2167:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1444              		.loc 1 2167 7 is_stmt 1 view .LVU509
2167:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1445              		.loc 1 2167 43 is_stmt 0 view .LVU510
 1446 00b2 0624     		movs	r4, #6
 1447 00b4 4460     		str	r4, [r0, #4]
2168:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1448              		.loc 1 2168 7 is_stmt 1 view .LVU511
2168:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1449              		.loc 1 2168 43 is_stmt 0 view .LVU512
 1450 00b6 4023     		movs	r3, #64
 1451 00b8 8360     		str	r3, [r0, #8]
2169:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1452              		.loc 1 2169 7 is_stmt 1 view .LVU513
2169:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1453              		.loc 1 2169 39 is_stmt 0 view .LVU514
 1454 00ba 0023     		movs	r3, #0
 1455 00bc C360     		str	r3, [r0, #12]
2170:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1456              		.loc 1 2170 7 is_stmt 1 view .LVU515
2170:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1457              		.loc 1 2170 39 is_stmt 0 view .LVU516
 1458 00be 4FF48063 		mov	r3, #1024
 1459 00c2 0361     		str	r3, [r0, #16]
2171:HW/SDCard/SDCard_sdio.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 77


 1460              		.loc 1 2171 7 is_stmt 1 view .LVU517
 1461 00c4 FFF7FEFF 		bl	SDIO_SendCommand
 1462              	.LVL122:
2173:HW/SDCard/SDCard_sdio.c **** 
 1463              		.loc 1 2173 7 view .LVU518
2173:HW/SDCard/SDCard_sdio.c **** 
 1464              		.loc 1 2173 21 is_stmt 0 view .LVU519
 1465 00c8 2046     		mov	r0, r4
 1466 00ca FFF7FEFF 		bl	CmdResp1Error
 1467              	.LVL123:
2175:HW/SDCard/SDCard_sdio.c ****       {
 1468              		.loc 1 2175 7 is_stmt 1 view .LVU520
 1469 00ce 00E0     		b	.L114
 1470              	.LVL124:
 1471              	.L116:
2133:HW/SDCard/SDCard_sdio.c ****   }
 1472              		.loc 1 2133 11 is_stmt 0 view .LVU521
 1473 00d0 0E20     		movs	r0, #14
 1474              	.LVL125:
 1475              	.L114:
2231:HW/SDCard/SDCard_sdio.c **** 
 1476              		.loc 1 2231 1 view .LVU522
 1477 00d2 02B0     		add	sp, sp, #8
 1478              	.LCFI15:
 1479              		.cfi_remember_state
 1480              		.cfi_def_cfa_offset 8
 1481              		@ sp needed
 1482 00d4 10BD     		pop	{r4, pc}
 1483              	.LVL126:
 1484              	.L117:
 1485              	.LCFI16:
 1486              		.cfi_restore_state
2184:HW/SDCard/SDCard_sdio.c ****     }
 1487              		.loc 1 2184 13 view .LVU523
 1488 00d6 2520     		movs	r0, #37
 1489              	.LVL127:
2184:HW/SDCard/SDCard_sdio.c ****     }
 1490              		.loc 1 2184 13 view .LVU524
 1491 00d8 FBE7     		b	.L114
 1492              	.LVL128:
 1493              	.L118:
2228:HW/SDCard/SDCard_sdio.c ****     }
 1494              		.loc 1 2228 13 view .LVU525
 1495 00da 2520     		movs	r0, #37
 1496              	.LVL129:
2228:HW/SDCard/SDCard_sdio.c ****     }
 1497              		.loc 1 2228 13 view .LVU526
 1498 00dc F9E7     		b	.L114
 1499              	.L122:
 1500 00de 00BF     		.align	2
 1501              	.L121:
 1502 00e0 00000000 		.word	RCA
 1503 00e4 00000000 		.word	SDIO_CmdInitStructure
 1504              		.cfi_endproc
 1505              	.LFE59:
 1507              		.section	.text.__SD_DMA_Conf_Impl,"ax",%progbits
 1508              		.align	1
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 78


 1509              		.syntax unified
 1510              		.thumb
 1511              		.thumb_func
 1513              	__SD_DMA_Conf_Impl:
 1514              	.LVL130:
 1515              	.LFB65:
2500:HW/SDCard/SDCard_sdio.c **** 
2501:HW/SDCard/SDCard_sdio.c **** /**
2502:HW/SDCard/SDCard_sdio.c ****   * @brief  Converts the number of bytes in power of two and returns the power.
2503:HW/SDCard/SDCard_sdio.c ****   * @param  NumberOfBytes: number of bytes.
2504:HW/SDCard/SDCard_sdio.c ****   * @retval None
2505:HW/SDCard/SDCard_sdio.c ****   */
2506:HW/SDCard/SDCard_sdio.c **** uint8_t convert_from_bytes_to_power_of_two(uint16_t NumberOfBytes)
2507:HW/SDCard/SDCard_sdio.c **** {
2508:HW/SDCard/SDCard_sdio.c ****   uint8_t count = 0;
2509:HW/SDCard/SDCard_sdio.c **** 
2510:HW/SDCard/SDCard_sdio.c ****   while (NumberOfBytes != 1)
2511:HW/SDCard/SDCard_sdio.c ****   {
2512:HW/SDCard/SDCard_sdio.c ****     NumberOfBytes >>= 1;
2513:HW/SDCard/SDCard_sdio.c ****     count++;
2514:HW/SDCard/SDCard_sdio.c ****   }
2515:HW/SDCard/SDCard_sdio.c ****   return(count);
2516:HW/SDCard/SDCard_sdio.c **** }
2517:HW/SDCard/SDCard_sdio.c **** 
2518:HW/SDCard/SDCard_sdio.c **** /**
2519:HW/SDCard/SDCard_sdio.c ****   * @brief  Configures SDIO IRQ channel.
2520:HW/SDCard/SDCard_sdio.c ****   * @param  None
2521:HW/SDCard/SDCard_sdio.c ****   * @retval None
2522:HW/SDCard/SDCard_sdio.c ****   */
2523:HW/SDCard/SDCard_sdio.c **** void SD_NVIC_Configuration(void)
2524:HW/SDCard/SDCard_sdio.c **** {
2525:HW/SDCard/SDCard_sdio.c ****   NVIC_InitTypeDef NVIC_InitStructure;
2526:HW/SDCard/SDCard_sdio.c ****   NVIC_InitStructure.NVIC_IRQChannel = SDIO_IRQn;
2527:HW/SDCard/SDCard_sdio.c ****   NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 2;
2528:HW/SDCard/SDCard_sdio.c ****   NVIC_InitStructure.NVIC_IRQChannelSubPriority = 2;
2529:HW/SDCard/SDCard_sdio.c ****   NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
2530:HW/SDCard/SDCard_sdio.c ****   NVIC_Init(&NVIC_InitStructure);
2531:HW/SDCard/SDCard_sdio.c **** }
2532:HW/SDCard/SDCard_sdio.c **** 
2533:HW/SDCard/SDCard_sdio.c **** /**
2534:HW/SDCard/SDCard_sdio.c ****   * @brief ÈÖçÁΩÆSDIOÁöÑGPIOÂºïËÑö
2535:HW/SDCard/SDCard_sdio.c ****   * @param  None
2536:HW/SDCard/SDCard_sdio.c ****   * @retval None
2537:HW/SDCard/SDCard_sdio.c ****  */
2538:HW/SDCard/SDCard_sdio.c **** void SD_GPIO_Configuration(void){
2539:HW/SDCard/SDCard_sdio.c ****   /* ‰ΩøËÉΩÊó∂ÈíüÊ∫ê */
2540:HW/SDCard/SDCard_sdio.c ****   RCC_AHBPeriphClockCmd(RCC_AHBPeriph_SDIO, ENABLE);  // ‰ΩøËÉΩSDIOÂ§ñËÆæÊó∂Èíü
2541:HW/SDCard/SDCard_sdio.c ****   RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOC | RCC_APB2Periph_GPIOD, ENABLE);  // ‰ΩøËÉΩÂØπÂ∫îGPIO
2542:HW/SDCard/SDCard_sdio.c ****   /* ÈÖçÁΩÆÂºïËÑö */
2543:HW/SDCard/SDCard_sdio.c ****   GPIO_InitTypeDef gpioDef;
2544:HW/SDCard/SDCard_sdio.c ****   gpioDef.GPIO_Mode = GPIO_Mode_AF_PP;
2545:HW/SDCard/SDCard_sdio.c ****   gpioDef.GPIO_Speed = GPIO_Speed_50MHz;
2546:HW/SDCard/SDCard_sdio.c ****   gpioDef.GPIO_Pin = GPIO_Pin_8 | GPIO_Pin_9 | GPIO_Pin_10 | GPIO_Pin_11 | GPIO_Pin_12;   // SDIO_D
2547:HW/SDCard/SDCard_sdio.c ****   GPIO_Init(GPIOC, &gpioDef);
2548:HW/SDCard/SDCard_sdio.c ****   gpioDef.GPIO_Pin = GPIO_Pin_2;  // SDIO_CMD
2549:HW/SDCard/SDCard_sdio.c ****   GPIO_Init(GPIOD, &gpioDef);
2550:HW/SDCard/SDCard_sdio.c **** }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 79


2551:HW/SDCard/SDCard_sdio.c **** 
2552:HW/SDCard/SDCard_sdio.c **** static __inline void __SD_DMA_Conf_Impl(uint32_t* ptr, uint32_t size, uint32_t DMA_DIR){
 1516              		.loc 1 2552 88 is_stmt 1 view -0
 1517              		.cfi_startproc
 1518              		@ args = 0, pretend = 0, frame = 48
 1519              		@ frame_needed = 0, uses_anonymous_args = 0
 1520              		.loc 1 2552 88 is_stmt 0 view .LVU528
 1521 0000 70B5     		push	{r4, r5, r6, lr}
 1522              	.LCFI17:
 1523              		.cfi_def_cfa_offset 16
 1524              		.cfi_offset 4, -16
 1525              		.cfi_offset 5, -12
 1526              		.cfi_offset 6, -8
 1527              		.cfi_offset 14, -4
 1528 0002 8CB0     		sub	sp, sp, #48
 1529              	.LCFI18:
 1530              		.cfi_def_cfa_offset 64
 1531 0004 0646     		mov	r6, r0
 1532 0006 0C46     		mov	r4, r1
 1533 0008 1546     		mov	r5, r2
2553:HW/SDCard/SDCard_sdio.c ****   /* ‰ΩøËÉΩÊó∂ÈíüÊ∫ê */
2554:HW/SDCard/SDCard_sdio.c ****   RCC_AHBPeriphClockCmd(RCC_AHBPeriph_DMA2, ENABLE);          // ‰ΩøËÉΩSDIOÂ§ñËÆæÊó∂Èíü
 1534              		.loc 1 2554 3 is_stmt 1 view .LVU529
 1535 000a 0121     		movs	r1, #1
 1536              	.LVL131:
 1537              		.loc 1 2554 3 is_stmt 0 view .LVU530
 1538 000c 0220     		movs	r0, #2
 1539              	.LVL132:
 1540              		.loc 1 2554 3 view .LVU531
 1541 000e FFF7FEFF 		bl	RCC_AHBPeriphClockCmd
 1542              	.LVL133:
2555:HW/SDCard/SDCard_sdio.c ****   /* Ê∏ÖÈô§DMAÊ†áÂøó */
2556:HW/SDCard/SDCard_sdio.c ****   DMA_ClearFlag(DMA2_FLAG_TC4 | DMA2_FLAG_TE4 | DMA2_FLAG_HT4 | DMA2_FLAG_GL4);
 1543              		.loc 1 2556 3 is_stmt 1 view .LVU532
 1544 0012 1348     		ldr	r0, .L125
 1545 0014 FFF7FEFF 		bl	DMA_ClearFlag
 1546              	.LVL134:
2557:HW/SDCard/SDCard_sdio.c ****   /* Â§±ËÉΩDMA */
2558:HW/SDCard/SDCard_sdio.c ****   DMA_Cmd(DMA2_Channel4, DISABLE);
 1547              		.loc 1 2558 3 view .LVU533
 1548 0018 0021     		movs	r1, #0
 1549 001a 1248     		ldr	r0, .L125+4
 1550 001c FFF7FEFF 		bl	DMA_Cmd
 1551              	.LVL135:
2559:HW/SDCard/SDCard_sdio.c ****   /* ÈÖçÁΩÆDMAÈÄöÈÅì */
2560:HW/SDCard/SDCard_sdio.c ****   DMA_InitTypeDef dmaDef;
 1552              		.loc 1 2560 3 view .LVU534
2561:HW/SDCard/SDCard_sdio.c ****   dmaDef.DMA_PeripheralBaseAddr = (uint32_t)&SDIO->FIFO;      // FIFOÊï∞ÊçÆÂØÑÂ≠òÂô®
 1553              		.loc 1 2561 3 view .LVU535
 1554              		.loc 1 2561 33 is_stmt 0 view .LVU536
 1555 0020 114B     		ldr	r3, .L125+8
 1556 0022 0193     		str	r3, [sp, #4]
2562:HW/SDCard/SDCard_sdio.c ****   dmaDef.DMA_MemoryBaseAddr     = (uint32_t)ptr;              // ÂÜÖÂ≠òÂú∞ÂùÄ
 1557              		.loc 1 2562 3 is_stmt 1 view .LVU537
 1558              		.loc 1 2562 33 is_stmt 0 view .LVU538
 1559 0024 0296     		str	r6, [sp, #8]
2563:HW/SDCard/SDCard_sdio.c ****   dmaDef.DMA_DIR                = DMA_DIR;                    // ‰º†ËæìÊñπÂêë
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 80


 1560              		.loc 1 2563 3 is_stmt 1 view .LVU539
 1561              		.loc 1 2563 33 is_stmt 0 view .LVU540
 1562 0026 0395     		str	r5, [sp, #12]
2564:HW/SDCard/SDCard_sdio.c ****   dmaDef.DMA_BufferSize         = size / 4;                   // Êï∞ÊçÆÂ§ßÂ∞è(CNDTRÂØÑÂ≠òÂô®)
 1563              		.loc 1 2564 3 is_stmt 1 view .LVU541
 1564              		.loc 1 2564 40 is_stmt 0 view .LVU542
 1565 0028 A408     		lsrs	r4, r4, #2
 1566              	.LVL136:
 1567              		.loc 1 2564 33 view .LVU543
 1568 002a 0494     		str	r4, [sp, #16]
2565:HW/SDCard/SDCard_sdio.c ****   dmaDef.DMA_PeripheralInc      = DMA_PeripheralInc_Disable;  // Âú∞ÂùÄËá™Â¢û
 1569              		.loc 1 2565 3 is_stmt 1 view .LVU544
 1570              		.loc 1 2565 33 is_stmt 0 view .LVU545
 1571 002c 0023     		movs	r3, #0
 1572 002e 0593     		str	r3, [sp, #20]
2566:HW/SDCard/SDCard_sdio.c ****   dmaDef.DMA_MemoryInc          = DMA_MemoryInc_Enable;       // Âú∞ÂùÄËá™Â¢û
 1573              		.loc 1 2566 3 is_stmt 1 view .LVU546
 1574              		.loc 1 2566 33 is_stmt 0 view .LVU547
 1575 0030 8022     		movs	r2, #128
 1576 0032 0692     		str	r2, [sp, #24]
2567:HW/SDCard/SDCard_sdio.c ****   dmaDef.DMA_PeripheralDataSize = DMA_PeripheralDataSize_Word;// Êï∞ÊçÆÂ§ßÂ∞è
 1577              		.loc 1 2567 3 is_stmt 1 view .LVU548
 1578              		.loc 1 2567 33 is_stmt 0 view .LVU549
 1579 0034 4FF40072 		mov	r2, #512
 1580 0038 0792     		str	r2, [sp, #28]
2568:HW/SDCard/SDCard_sdio.c ****   dmaDef.DMA_MemoryDataSize     = DMA_MemoryDataSize_Word;    // Êï∞ÊçÆÂ§ßÂ∞è
 1581              		.loc 1 2568 3 is_stmt 1 view .LVU550
 1582              		.loc 1 2568 33 is_stmt 0 view .LVU551
 1583 003a 4FF40062 		mov	r2, #2048
 1584 003e 0892     		str	r2, [sp, #32]
2569:HW/SDCard/SDCard_sdio.c ****   dmaDef.DMA_Mode               = DMA_Mode_Normal;            // ‰º†ËæìÊ®°ÂºèÔºàÂçïÊ¨°‰º†Ëæì/Âæ™ÁéØ
 1585              		.loc 1 2569 3 is_stmt 1 view .LVU552
 1586              		.loc 1 2569 33 is_stmt 0 view .LVU553
 1587 0040 0993     		str	r3, [sp, #36]
2570:HW/SDCard/SDCard_sdio.c ****   dmaDef.DMA_Priority           = DMA_Priority_High;          // ‰º†Ëæì‰ºòÂÖàÁ∫ß
 1588              		.loc 1 2570 3 is_stmt 1 view .LVU554
 1589              		.loc 1 2570 33 is_stmt 0 view .LVU555
 1590 0042 4FF40052 		mov	r2, #8192
 1591 0046 0A92     		str	r2, [sp, #40]
2571:HW/SDCard/SDCard_sdio.c ****   dmaDef.DMA_M2M                = DMA_M2M_Disable;            // ÂÖ≥Èó≠M->MÁöÑ‰º†ËæìÊñπÂêë
 1592              		.loc 1 2571 3 is_stmt 1 view .LVU556
 1593              		.loc 1 2571 33 is_stmt 0 view .LVU557
 1594 0048 0B93     		str	r3, [sp, #44]
2572:HW/SDCard/SDCard_sdio.c ****   DMA_Init(DMA1_Channel4, &dmaDef);                           // USART_TXÂØπÂ∫îÈÄöÈÅì4
 1595              		.loc 1 2572 3 is_stmt 1 view .LVU558
 1596 004a 084C     		ldr	r4, .L125+12
 1597 004c 01A9     		add	r1, sp, #4
 1598 004e 2046     		mov	r0, r4
 1599 0050 FFF7FEFF 		bl	DMA_Init
 1600              	.LVL137:
2573:HW/SDCard/SDCard_sdio.c ****   /* ‰ΩøËÉΩDMAÈÄöÈÅì */
2574:HW/SDCard/SDCard_sdio.c ****   DMA_Cmd(DMA1_Channel4, ENABLE);
 1601              		.loc 1 2574 3 view .LVU559
 1602 0054 0121     		movs	r1, #1
 1603 0056 2046     		mov	r0, r4
 1604 0058 FFF7FEFF 		bl	DMA_Cmd
 1605              	.LVL138:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 81


2575:HW/SDCard/SDCard_sdio.c **** }
 1606              		.loc 1 2575 1 is_stmt 0 view .LVU560
 1607 005c 0CB0     		add	sp, sp, #48
 1608              	.LCFI19:
 1609              		.cfi_def_cfa_offset 16
 1610              		@ sp needed
 1611 005e 70BD     		pop	{r4, r5, r6, pc}
 1612              	.LVL139:
 1613              	.L126:
 1614              		.loc 1 2575 1 view .LVU561
 1615              		.align	2
 1616              	.L125:
 1617 0060 00F00010 		.word	268496896
 1618 0064 44040240 		.word	1073873988
 1619 0068 80800140 		.word	1073840256
 1620 006c 44000240 		.word	1073872964
 1621              		.cfi_endproc
 1622              	.LFE65:
 1624              		.section	.text.SD_DeInit,"ax",%progbits
 1625              		.align	1
 1626              		.global	SD_DeInit
 1627              		.syntax unified
 1628              		.thumb
 1629              		.thumb_func
 1631              	SD_DeInit:
 1632              	.LFB29:
 361:HW/SDCard/SDCard_sdio.c ****   SD_LowLevel_DeInit();
 1633              		.loc 1 361 1 is_stmt 1 view -0
 1634              		.cfi_startproc
 1635              		@ args = 0, pretend = 0, frame = 0
 1636              		@ frame_needed = 0, uses_anonymous_args = 0
 1637 0000 08B5     		push	{r3, lr}
 1638              	.LCFI20:
 1639              		.cfi_def_cfa_offset 8
 1640              		.cfi_offset 3, -8
 1641              		.cfi_offset 14, -4
 362:HW/SDCard/SDCard_sdio.c **** }
 1642              		.loc 1 362 3 view .LVU563
 1643 0002 FFF7FEFF 		bl	SD_LowLevel_DeInit
 1644              	.LVL140:
 363:HW/SDCard/SDCard_sdio.c **** 
 1645              		.loc 1 363 1 is_stmt 0 view .LVU564
 1646 0006 08BD     		pop	{r3, pc}
 1647              		.cfi_endproc
 1648              	.LFE29:
 1650              		.section	.text.SD_Detect,"ax",%progbits
 1651              		.align	1
 1652              		.global	SD_Detect
 1653              		.syntax unified
 1654              		.thumb
 1655              		.thumb_func
 1657              	SD_Detect:
 1658              	.LFB33:
 500:HW/SDCard/SDCard_sdio.c ****   __IO uint8_t status = SD_PRESENT;
 1659              		.loc 1 500 1 is_stmt 1 view -0
 1660              		.cfi_startproc
 1661              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 82


 1662              		@ frame_needed = 0, uses_anonymous_args = 0
 1663              		@ link register save eliminated.
 1664 0000 82B0     		sub	sp, sp, #8
 1665              	.LCFI21:
 1666              		.cfi_def_cfa_offset 8
 501:HW/SDCard/SDCard_sdio.c **** 
 1667              		.loc 1 501 3 view .LVU566
 501:HW/SDCard/SDCard_sdio.c **** 
 1668              		.loc 1 501 16 is_stmt 0 view .LVU567
 1669 0002 0123     		movs	r3, #1
 1670 0004 8DF80730 		strb	r3, [sp, #7]
 509:HW/SDCard/SDCard_sdio.c **** }
 1671              		.loc 1 509 3 is_stmt 1 view .LVU568
 509:HW/SDCard/SDCard_sdio.c **** }
 1672              		.loc 1 509 10 is_stmt 0 view .LVU569
 1673 0008 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 510:HW/SDCard/SDCard_sdio.c **** 
 1674              		.loc 1 510 1 view .LVU570
 1675 000c 02B0     		add	sp, sp, #8
 1676              	.LCFI22:
 1677              		.cfi_def_cfa_offset 0
 1678              		@ sp needed
 1679 000e 7047     		bx	lr
 1680              		.cfi_endproc
 1681              	.LFE33:
 1683              		.section	.text.SD_PowerON,"ax",%progbits
 1684              		.align	1
 1685              		.global	SD_PowerON
 1686              		.syntax unified
 1687              		.thumb
 1688              		.thumb_func
 1690              	SD_PowerON:
 1691              	.LFB34:
 519:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 1692              		.loc 1 519 1 is_stmt 1 view -0
 1693              		.cfi_startproc
 1694              		@ args = 0, pretend = 0, frame = 0
 1695              		@ frame_needed = 0, uses_anonymous_args = 0
 1696 0000 70B5     		push	{r4, r5, r6, lr}
 1697              	.LCFI23:
 1698              		.cfi_def_cfa_offset 16
 1699              		.cfi_offset 4, -16
 1700              		.cfi_offset 5, -12
 1701              		.cfi_offset 6, -8
 1702              		.cfi_offset 14, -4
 520:HW/SDCard/SDCard_sdio.c ****   uint32_t response = 0, count = 0, validvoltage = 0;
 1703              		.loc 1 520 3 view .LVU572
 1704              	.LVL141:
 521:HW/SDCard/SDCard_sdio.c ****   uint32_t SDType = SD_STD_CAPACITY;
 1705              		.loc 1 521 3 view .LVU573
 522:HW/SDCard/SDCard_sdio.c **** 
 1706              		.loc 1 522 3 view .LVU574
 529:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockEdge           = SDIO_ClockEdge_Rising;            // ‰∏äÂçáÊ≤øÊúâÊï
 1707              		.loc 1 529 3 view .LVU575
 529:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockEdge           = SDIO_ClockEdge_Rising;            // ‰∏äÂçáÊ≤øÊúâÊï
 1708              		.loc 1 529 47 is_stmt 0 view .LVU576
 1709 0002 5048     		ldr	r0, .L143
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 83


 1710 0004 B223     		movs	r3, #178
 1711 0006 0375     		strb	r3, [r0, #20]
 530:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockBypass         = SDIO_ClockBypass_Disable;         // ÊòØÂê¶‰ΩøÁî®By
 1712              		.loc 1 530 3 is_stmt 1 view .LVU577
 530:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockBypass         = SDIO_ClockBypass_Disable;         // ÊòØÂê¶‰ΩøÁî®By
 1713              		.loc 1 530 47 is_stmt 0 view .LVU578
 1714 0008 0024     		movs	r4, #0
 1715 000a 0460     		str	r4, [r0]
 531:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockPowerSave      = SDIO_ClockPowerSave_Disable;      // ÁúÅÁîµÊ®°ÂºèÔº
 1716              		.loc 1 531 3 is_stmt 1 view .LVU579
 531:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockPowerSave      = SDIO_ClockPowerSave_Disable;      // ÁúÅÁîµÊ®°ÂºèÔº
 1717              		.loc 1 531 47 is_stmt 0 view .LVU580
 1718 000c 4460     		str	r4, [r0, #4]
 532:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_BusWide             = SDIO_BusWide_1b;                  // Êï∞ÊçÆÁ∫øÊï∞Èá
 1719              		.loc 1 532 3 is_stmt 1 view .LVU581
 532:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_BusWide             = SDIO_BusWide_1b;                  // Êï∞ÊçÆÁ∫øÊï∞Èá
 1720              		.loc 1 532 47 is_stmt 0 view .LVU582
 1721 000e 8460     		str	r4, [r0, #8]
 533:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable; // ÂÖ≥Èó≠Á°¨‰ª∂Êµ
 1722              		.loc 1 533 3 is_stmt 1 view .LVU583
 533:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable; // ÂÖ≥Èó≠Á°¨‰ª∂Êµ
 1723              		.loc 1 533 47 is_stmt 0 view .LVU584
 1724 0010 C460     		str	r4, [r0, #12]
 534:HW/SDCard/SDCard_sdio.c ****   SDIO_Init(&SDIO_InitStructure);
 1725              		.loc 1 534 3 is_stmt 1 view .LVU585
 534:HW/SDCard/SDCard_sdio.c ****   SDIO_Init(&SDIO_InitStructure);
 1726              		.loc 1 534 47 is_stmt 0 view .LVU586
 1727 0012 0461     		str	r4, [r0, #16]
 535:HW/SDCard/SDCard_sdio.c **** 
 1728              		.loc 1 535 3 is_stmt 1 view .LVU587
 1729 0014 FFF7FEFF 		bl	SDIO_Init
 1730              	.LVL142:
 538:HW/SDCard/SDCard_sdio.c **** 
 1731              		.loc 1 538 3 view .LVU588
 1732 0018 0320     		movs	r0, #3
 1733 001a FFF7FEFF 		bl	SDIO_SetPowerState
 1734              	.LVL143:
 541:HW/SDCard/SDCard_sdio.c **** 
 1735              		.loc 1 541 3 view .LVU589
 1736 001e 0120     		movs	r0, #1
 1737 0020 FFF7FEFF 		bl	SDIO_ClockCmd
 1738              	.LVL144:
 546:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_GO_IDLE_STATE;   // ÂëΩ‰ª§Âè∑
 1739              		.loc 1 546 3 view .LVU590
 546:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_GO_IDLE_STATE;   // ÂëΩ‰ª§Âè∑
 1740              		.loc 1 546 39 is_stmt 0 view .LVU591
 1741 0024 4848     		ldr	r0, .L143+4
 1742 0026 0460     		str	r4, [r0]
 547:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_No;       // ÂìçÂ∫îÁ±ªÂûã
 1743              		.loc 1 547 3 is_stmt 1 view .LVU592
 547:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_No;       // ÂìçÂ∫îÁ±ªÂûã
 1744              		.loc 1 547 39 is_stmt 0 view .LVU593
 1745 0028 4460     		str	r4, [r0, #4]
 548:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait     = SDIO_Wait_No;           // ËÆæÁΩÆÁ≠âÂæÖÊ®°ÂºèÔºåÂç≥ SDIO_CM
 1746              		.loc 1 548 3 is_stmt 1 view .LVU594
 548:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait     = SDIO_Wait_No;           // ËÆæÁΩÆÁ≠âÂæÖÊ®°ÂºèÔºåÂç≥ SDIO_CM
 1747              		.loc 1 548 39 is_stmt 0 view .LVU595
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 84


 1748 002a 8460     		str	r4, [r0, #8]
 549:HW/SDCard/SDCard_sdio.c ****                                                                 // ‰πà‰∫ã‰ª∂Ôºà‰∏ÄÂÖ±‰∏âÁßç‰∫ã‰ª∂Ôº
 1749              		.loc 1 549 3 is_stmt 1 view .LVU596
 549:HW/SDCard/SDCard_sdio.c ****                                                                 // ‰πà‰∫ã‰ª∂Ôºà‰∏ÄÂÖ±‰∏âÁßç‰∫ã‰ª∂Ôº
 1750              		.loc 1 549 39 is_stmt 0 view .LVU597
 1751 002c C460     		str	r4, [r0, #12]
 551:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 1752              		.loc 1 551 3 is_stmt 1 view .LVU598
 551:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 1753              		.loc 1 551 39 is_stmt 0 view .LVU599
 1754 002e 4FF48063 		mov	r3, #1024
 1755 0032 0361     		str	r3, [r0, #16]
 552:HW/SDCard/SDCard_sdio.c **** 
 1756              		.loc 1 552 3 is_stmt 1 view .LVU600
 1757 0034 FFF7FEFF 		bl	SDIO_SendCommand
 1758              	.LVL145:
 554:HW/SDCard/SDCard_sdio.c **** 
 1759              		.loc 1 554 3 view .LVU601
 554:HW/SDCard/SDCard_sdio.c **** 
 1760              		.loc 1 554 17 is_stmt 0 view .LVU602
 1761 0038 FFF7FEFF 		bl	CmdError
 1762              	.LVL146:
 556:HW/SDCard/SDCard_sdio.c ****   {
 1763              		.loc 1 556 3 is_stmt 1 view .LVU603
 556:HW/SDCard/SDCard_sdio.c ****   {
 1764              		.loc 1 556 6 is_stmt 0 view .LVU604
 1765 003c 0646     		mov	r6, r0
 1766 003e 08B1     		cbz	r0, .L141
 1767              	.LVL147:
 1768              	.L132:
 665:HW/SDCard/SDCard_sdio.c **** 
 1769              		.loc 1 665 1 view .LVU605
 1770 0040 3046     		mov	r0, r6
 1771 0042 70BD     		pop	{r4, r5, r6, pc}
 1772              	.LVL148:
 1773              	.L141:
 569:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SDIO_SEND_IF_COND;
 1774              		.loc 1 569 3 is_stmt 1 view .LVU606
 569:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SDIO_SEND_IF_COND;
 1775              		.loc 1 569 39 is_stmt 0 view .LVU607
 1776 0044 4048     		ldr	r0, .L143+4
 1777              	.LVL149:
 569:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SDIO_SEND_IF_COND;
 1778              		.loc 1 569 39 view .LVU608
 1779 0046 4FF4D573 		mov	r3, #426
 1780 004a 0360     		str	r3, [r0]
 570:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1781              		.loc 1 570 3 is_stmt 1 view .LVU609
 570:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1782              		.loc 1 570 39 is_stmt 0 view .LVU610
 1783 004c 0823     		movs	r3, #8
 1784 004e 4360     		str	r3, [r0, #4]
 571:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1785              		.loc 1 571 3 is_stmt 1 view .LVU611
 571:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1786              		.loc 1 571 39 is_stmt 0 view .LVU612
 1787 0050 4023     		movs	r3, #64
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 85


 1788 0052 8360     		str	r3, [r0, #8]
 572:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1789              		.loc 1 572 3 is_stmt 1 view .LVU613
 572:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1790              		.loc 1 572 35 is_stmt 0 view .LVU614
 1791 0054 C460     		str	r4, [r0, #12]
 573:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 1792              		.loc 1 573 3 is_stmt 1 view .LVU615
 573:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 1793              		.loc 1 573 35 is_stmt 0 view .LVU616
 1794 0056 4FF48063 		mov	r3, #1024
 1795 005a 0361     		str	r3, [r0, #16]
 574:HW/SDCard/SDCard_sdio.c **** 
 1796              		.loc 1 574 3 is_stmt 1 view .LVU617
 1797 005c FFF7FEFF 		bl	SDIO_SendCommand
 1798              	.LVL150:
 577:HW/SDCard/SDCard_sdio.c **** 
 1799              		.loc 1 577 3 view .LVU618
 577:HW/SDCard/SDCard_sdio.c **** 
 1800              		.loc 1 577 17 is_stmt 0 view .LVU619
 1801 0060 FFF7FEFF 		bl	CmdResp7Error
 1802              	.LVL151:
 579:HW/SDCard/SDCard_sdio.c ****   {
 1803              		.loc 1 579 3 is_stmt 1 view .LVU620
 579:HW/SDCard/SDCard_sdio.c ****   {
 1804              		.loc 1 579 6 is_stmt 0 view .LVU621
 1805 0064 D8B9     		cbnz	r0, .L133
 581:HW/SDCard/SDCard_sdio.c ****     SDType = SD_HIGH_CAPACITY;
 1806              		.loc 1 581 5 is_stmt 1 view .LVU622
 581:HW/SDCard/SDCard_sdio.c ****     SDType = SD_HIGH_CAPACITY;
 1807              		.loc 1 581 14 is_stmt 0 view .LVU623
 1808 0066 394B     		ldr	r3, .L143+8
 1809 0068 0122     		movs	r2, #1
 1810 006a 1A60     		str	r2, [r3]
 582:HW/SDCard/SDCard_sdio.c ****   }
 1811              		.loc 1 582 5 is_stmt 1 view .LVU624
 1812              	.LVL152:
 582:HW/SDCard/SDCard_sdio.c ****   }
 1813              		.loc 1 582 12 is_stmt 0 view .LVU625
 1814 006c 4FF08045 		mov	r5, #1073741824
 1815              	.LVL153:
 1816              	.L134:
 598:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1817              		.loc 1 598 3 is_stmt 1 view .LVU626
 598:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1818              		.loc 1 598 39 is_stmt 0 view .LVU627
 1819 0070 3548     		ldr	r0, .L143+4
 1820 0072 0023     		movs	r3, #0
 1821 0074 0360     		str	r3, [r0]
 599:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1822              		.loc 1 599 3 is_stmt 1 view .LVU628
 599:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1823              		.loc 1 599 39 is_stmt 0 view .LVU629
 1824 0076 3724     		movs	r4, #55
 1825 0078 4460     		str	r4, [r0, #4]
 600:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1826              		.loc 1 600 3 is_stmt 1 view .LVU630
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 86


 600:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1827              		.loc 1 600 39 is_stmt 0 view .LVU631
 1828 007a 4022     		movs	r2, #64
 1829 007c 8260     		str	r2, [r0, #8]
 601:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1830              		.loc 1 601 3 is_stmt 1 view .LVU632
 601:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1831              		.loc 1 601 35 is_stmt 0 view .LVU633
 1832 007e C360     		str	r3, [r0, #12]
 602:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 1833              		.loc 1 602 3 is_stmt 1 view .LVU634
 602:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 1834              		.loc 1 602 35 is_stmt 0 view .LVU635
 1835 0080 4FF48063 		mov	r3, #1024
 1836 0084 0361     		str	r3, [r0, #16]
 603:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
 1837              		.loc 1 603 3 is_stmt 1 view .LVU636
 1838 0086 FFF7FEFF 		bl	SDIO_SendCommand
 1839              	.LVL154:
 604:HW/SDCard/SDCard_sdio.c **** 
 1840              		.loc 1 604 3 view .LVU637
 604:HW/SDCard/SDCard_sdio.c **** 
 1841              		.loc 1 604 17 is_stmt 0 view .LVU638
 1842 008a 2046     		mov	r0, r4
 1843 008c FFF7FEFF 		bl	CmdResp1Error
 1844              	.LVL155:
 609:HW/SDCard/SDCard_sdio.c ****   {
 1845              		.loc 1 609 3 is_stmt 1 view .LVU639
 609:HW/SDCard/SDCard_sdio.c ****   {
 1846              		.loc 1 609 6 is_stmt 0 view .LVU640
 1847 0090 0646     		mov	r6, r0
 1848 0092 0028     		cmp	r0, #0
 1849 0094 D4D1     		bne	.L132
 521:HW/SDCard/SDCard_sdio.c ****   uint32_t SDType = SD_STD_CAPACITY;
 1850              		.loc 1 521 37 view .LVU641
 1851 0096 0020     		movs	r0, #0
 1852              	.LVL156:
 521:HW/SDCard/SDCard_sdio.c ****   uint32_t SDType = SD_STD_CAPACITY;
 1853              		.loc 1 521 26 view .LVU642
 1854 0098 0446     		mov	r4, r0
 521:HW/SDCard/SDCard_sdio.c ****   uint32_t SDType = SD_STD_CAPACITY;
 1855              		.loc 1 521 12 view .LVU643
 1856 009a 0246     		mov	r2, r0
 1857 009c 15E0     		b	.L135
 1858              	.LVL157:
 1859              	.L133:
 587:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1860              		.loc 1 587 5 is_stmt 1 view .LVU644
 587:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1861              		.loc 1 587 41 is_stmt 0 view .LVU645
 1862 009e 2A48     		ldr	r0, .L143+4
 1863              	.LVL158:
 587:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1864              		.loc 1 587 41 view .LVU646
 1865 00a0 0025     		movs	r5, #0
 1866 00a2 0560     		str	r5, [r0]
 588:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 87


 1867              		.loc 1 588 5 is_stmt 1 view .LVU647
 588:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1868              		.loc 1 588 41 is_stmt 0 view .LVU648
 1869 00a4 3724     		movs	r4, #55
 1870 00a6 4460     		str	r4, [r0, #4]
 589:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1871              		.loc 1 589 5 is_stmt 1 view .LVU649
 589:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1872              		.loc 1 589 41 is_stmt 0 view .LVU650
 1873 00a8 4023     		movs	r3, #64
 1874 00aa 8360     		str	r3, [r0, #8]
 590:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1875              		.loc 1 590 5 is_stmt 1 view .LVU651
 590:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1876              		.loc 1 590 37 is_stmt 0 view .LVU652
 1877 00ac C560     		str	r5, [r0, #12]
 591:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 1878              		.loc 1 591 5 is_stmt 1 view .LVU653
 591:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 1879              		.loc 1 591 37 is_stmt 0 view .LVU654
 1880 00ae 4FF48063 		mov	r3, #1024
 1881 00b2 0361     		str	r3, [r0, #16]
 592:HW/SDCard/SDCard_sdio.c ****     errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
 1882              		.loc 1 592 5 is_stmt 1 view .LVU655
 1883 00b4 FFF7FEFF 		bl	SDIO_SendCommand
 1884              	.LVL159:
 593:HW/SDCard/SDCard_sdio.c ****   }
 1885              		.loc 1 593 5 view .LVU656
 593:HW/SDCard/SDCard_sdio.c ****   }
 1886              		.loc 1 593 19 is_stmt 0 view .LVU657
 1887 00b8 2046     		mov	r0, r4
 1888 00ba FFF7FEFF 		bl	CmdResp1Error
 1889              	.LVL160:
 593:HW/SDCard/SDCard_sdio.c ****   }
 1890              		.loc 1 593 19 view .LVU658
 1891 00be D7E7     		b	.L134
 1892              	.LVL161:
 1893              	.L142:
 645:HW/SDCard/SDCard_sdio.c ****       validvoltage = (((response >> 31) == 1) ? 1 : 0);
 1894              		.loc 1 645 7 is_stmt 1 view .LVU659
 645:HW/SDCard/SDCard_sdio.c ****       validvoltage = (((response >> 31) == 1) ? 1 : 0);
 1895              		.loc 1 645 18 is_stmt 0 view .LVU660
 1896 00c0 FFF7FEFF 		bl	SDIO_GetResponse
 1897              	.LVL162:
 646:HW/SDCard/SDCard_sdio.c ****       count++;
 1898              		.loc 1 646 7 is_stmt 1 view .LVU661
 646:HW/SDCard/SDCard_sdio.c ****       count++;
 1899              		.loc 1 646 51 is_stmt 0 view .LVU662
 1900 00c4 0246     		mov	r2, r0
 1901 00c6 C00F     		lsrs	r0, r0, #31
 1902              	.LVL163:
 647:HW/SDCard/SDCard_sdio.c ****     }
 1903              		.loc 1 647 7 is_stmt 1 view .LVU663
 647:HW/SDCard/SDCard_sdio.c ****     }
 1904              		.loc 1 647 12 is_stmt 0 view .LVU664
 1905 00c8 0134     		adds	r4, r4, #1
 1906              	.LVL164:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 88


 1907              	.L135:
 614:HW/SDCard/SDCard_sdio.c ****     {
 1908              		.loc 1 614 28 is_stmt 1 view .LVU665
 1909 00ca 68BB     		cbnz	r0, .L136
 614:HW/SDCard/SDCard_sdio.c ****     {
 1910              		.loc 1 614 28 is_stmt 0 discriminator 1 view .LVU666
 1911 00cc 4FF6FE73 		movw	r3, #65534
 1912 00d0 9C42     		cmp	r4, r3
 1913 00d2 29D8     		bhi	.L136
 618:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1914              		.loc 1 618 7 is_stmt 1 view .LVU667
 618:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1915              		.loc 1 618 43 is_stmt 0 view .LVU668
 1916 00d4 1C48     		ldr	r0, .L143+4
 1917              	.LVL165:
 618:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1918              		.loc 1 618 43 view .LVU669
 1919 00d6 0023     		movs	r3, #0
 1920 00d8 0360     		str	r3, [r0]
 619:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1921              		.loc 1 619 7 is_stmt 1 view .LVU670
 619:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1922              		.loc 1 619 43 is_stmt 0 view .LVU671
 1923 00da 3726     		movs	r6, #55
 1924              	.LVL166:
 619:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1925              		.loc 1 619 43 view .LVU672
 1926 00dc 4660     		str	r6, [r0, #4]
 620:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1927              		.loc 1 620 7 is_stmt 1 view .LVU673
 620:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1928              		.loc 1 620 43 is_stmt 0 view .LVU674
 1929 00de 4022     		movs	r2, #64
 1930              	.LVL167:
 620:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1931              		.loc 1 620 43 view .LVU675
 1932 00e0 8260     		str	r2, [r0, #8]
 621:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1933              		.loc 1 621 7 is_stmt 1 view .LVU676
 621:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1934              		.loc 1 621 39 is_stmt 0 view .LVU677
 1935 00e2 C360     		str	r3, [r0, #12]
 622:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1936              		.loc 1 622 7 is_stmt 1 view .LVU678
 622:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1937              		.loc 1 622 39 is_stmt 0 view .LVU679
 1938 00e4 4FF48063 		mov	r3, #1024
 1939 00e8 0361     		str	r3, [r0, #16]
 623:HW/SDCard/SDCard_sdio.c **** 
 1940              		.loc 1 623 7 is_stmt 1 view .LVU680
 1941 00ea FFF7FEFF 		bl	SDIO_SendCommand
 1942              	.LVL168:
 625:HW/SDCard/SDCard_sdio.c **** 
 1943              		.loc 1 625 7 view .LVU681
 625:HW/SDCard/SDCard_sdio.c **** 
 1944              		.loc 1 625 21 is_stmt 0 view .LVU682
 1945 00ee 3046     		mov	r0, r6
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 89


 1946 00f0 FFF7FEFF 		bl	CmdResp1Error
 1947              	.LVL169:
 627:HW/SDCard/SDCard_sdio.c ****       {
 1948              		.loc 1 627 7 is_stmt 1 view .LVU683
 627:HW/SDCard/SDCard_sdio.c ****       {
 1949              		.loc 1 627 10 is_stmt 0 view .LVU684
 1950 00f4 0646     		mov	r6, r0
 1951 00f6 0028     		cmp	r0, #0
 1952 00f8 A2D1     		bne	.L132
 631:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_OP_COND;
 1953              		.loc 1 631 7 is_stmt 1 view .LVU685
 631:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_OP_COND;
 1954              		.loc 1 631 66 is_stmt 0 view .LVU686
 1955 00fa 45F00043 		orr	r3, r5, #-2147483648
 1956 00fe 43F48013 		orr	r3, r3, #1048576
 631:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_OP_COND;
 1957              		.loc 1 631 43 view .LVU687
 1958 0102 1148     		ldr	r0, .L143+4
 1959              	.LVL170:
 631:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_OP_COND;
 1960              		.loc 1 631 43 view .LVU688
 1961 0104 0360     		str	r3, [r0]
 632:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1962              		.loc 1 632 7 is_stmt 1 view .LVU689
 632:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1963              		.loc 1 632 43 is_stmt 0 view .LVU690
 1964 0106 2923     		movs	r3, #41
 1965 0108 4360     		str	r3, [r0, #4]
 633:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1966              		.loc 1 633 7 is_stmt 1 view .LVU691
 633:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1967              		.loc 1 633 43 is_stmt 0 view .LVU692
 1968 010a 4023     		movs	r3, #64
 1969 010c 8360     		str	r3, [r0, #8]
 634:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1970              		.loc 1 634 7 is_stmt 1 view .LVU693
 634:HW/SDCard/SDCard_sdio.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1971              		.loc 1 634 39 is_stmt 0 view .LVU694
 1972 010e 0023     		movs	r3, #0
 1973 0110 C360     		str	r3, [r0, #12]
 635:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1974              		.loc 1 635 7 is_stmt 1 view .LVU695
 635:HW/SDCard/SDCard_sdio.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1975              		.loc 1 635 39 is_stmt 0 view .LVU696
 1976 0112 4FF48063 		mov	r3, #1024
 1977 0116 0361     		str	r3, [r0, #16]
 636:HW/SDCard/SDCard_sdio.c **** 
 1978              		.loc 1 636 7 is_stmt 1 view .LVU697
 1979 0118 FFF7FEFF 		bl	SDIO_SendCommand
 1980              	.LVL171:
 638:HW/SDCard/SDCard_sdio.c ****       if (errorstatus != SD_OK)
 1981              		.loc 1 638 7 view .LVU698
 638:HW/SDCard/SDCard_sdio.c ****       if (errorstatus != SD_OK)
 1982              		.loc 1 638 21 is_stmt 0 view .LVU699
 1983 011c FFF7FEFF 		bl	CmdResp3Error
 1984              	.LVL172:
 639:HW/SDCard/SDCard_sdio.c ****       {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 90


 1985              		.loc 1 639 7 is_stmt 1 view .LVU700
 639:HW/SDCard/SDCard_sdio.c ****       {
 1986              		.loc 1 639 10 is_stmt 0 view .LVU701
 1987 0120 0646     		mov	r6, r0
 1988 0122 0028     		cmp	r0, #0
 1989 0124 CCD0     		beq	.L142
 1990 0126 8BE7     		b	.L132
 1991              	.LVL173:
 1992              	.L136:
 650:HW/SDCard/SDCard_sdio.c ****     {
 1993              		.loc 1 650 5 is_stmt 1 view .LVU702
 650:HW/SDCard/SDCard_sdio.c ****     {
 1994              		.loc 1 650 8 is_stmt 0 view .LVU703
 1995 0128 4FF6FE73 		movw	r3, #65534
 1996 012c 9C42     		cmp	r4, r3
 1997 012e 06D8     		bhi	.L139
 657:HW/SDCard/SDCard_sdio.c ****     {
 1998              		.loc 1 657 5 is_stmt 1 view .LVU704
 1999              	.LVL174:
 657:HW/SDCard/SDCard_sdio.c ****     {
 2000              		.loc 1 657 8 is_stmt 0 view .LVU705
 2001 0130 12F0804F 		tst	r2, #1073741824
 2002 0134 84D0     		beq	.L132
 659:HW/SDCard/SDCard_sdio.c ****     }
 2003              		.loc 1 659 7 is_stmt 1 view .LVU706
 659:HW/SDCard/SDCard_sdio.c ****     }
 2004              		.loc 1 659 16 is_stmt 0 view .LVU707
 2005 0136 054B     		ldr	r3, .L143+8
 2006 0138 0222     		movs	r2, #2
 2007              	.LVL175:
 659:HW/SDCard/SDCard_sdio.c ****     }
 2008              		.loc 1 659 16 view .LVU708
 2009 013a 1A60     		str	r2, [r3]
 2010 013c 80E7     		b	.L132
 2011              	.LVL176:
 2012              	.L139:
 653:HW/SDCard/SDCard_sdio.c ****     }
 2013              		.loc 1 653 13 view .LVU709
 2014 013e 1B26     		movs	r6, #27
 2015              	.LVL177:
 653:HW/SDCard/SDCard_sdio.c ****     }
 2016              		.loc 1 653 13 view .LVU710
 2017 0140 7EE7     		b	.L132
 2018              	.L144:
 2019 0142 00BF     		.align	2
 2020              	.L143:
 2021 0144 00000000 		.word	SDIO_InitStructure
 2022 0148 00000000 		.word	SDIO_CmdInitStructure
 2023 014c 00000000 		.word	CardType
 2024              		.cfi_endproc
 2025              	.LFE34:
 2027              		.section	.text.SD_PowerOFF,"ax",%progbits
 2028              		.align	1
 2029              		.global	SD_PowerOFF
 2030              		.syntax unified
 2031              		.thumb
 2032              		.thumb_func
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 91


 2034              	SD_PowerOFF:
 2035              	.LFB35:
 673:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 2036              		.loc 1 673 1 is_stmt 1 view -0
 2037              		.cfi_startproc
 2038              		@ args = 0, pretend = 0, frame = 0
 2039              		@ frame_needed = 0, uses_anonymous_args = 0
 2040 0000 08B5     		push	{r3, lr}
 2041              	.LCFI24:
 2042              		.cfi_def_cfa_offset 8
 2043              		.cfi_offset 3, -8
 2044              		.cfi_offset 14, -4
 674:HW/SDCard/SDCard_sdio.c **** 
 2045              		.loc 1 674 3 view .LVU712
 2046              	.LVL178:
 677:HW/SDCard/SDCard_sdio.c **** 
 2047              		.loc 1 677 3 view .LVU713
 2048 0002 0020     		movs	r0, #0
 2049 0004 FFF7FEFF 		bl	SDIO_SetPowerState
 2050              	.LVL179:
 679:HW/SDCard/SDCard_sdio.c **** }
 2051              		.loc 1 679 3 view .LVU714
 680:HW/SDCard/SDCard_sdio.c **** 
 2052              		.loc 1 680 1 is_stmt 0 view .LVU715
 2053 0008 0020     		movs	r0, #0
 2054 000a 08BD     		pop	{r3, pc}
 2055              		.cfi_endproc
 2056              	.LFE35:
 2058              		.section	.text.SD_InitializeCards,"ax",%progbits
 2059              		.align	1
 2060              		.global	SD_InitializeCards
 2061              		.syntax unified
 2062              		.thumb
 2063              		.thumb_func
 2065              	SD_InitializeCards:
 2066              	.LFB36:
 689:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 2067              		.loc 1 689 1 is_stmt 1 view -0
 2068              		.cfi_startproc
 2069              		@ args = 0, pretend = 0, frame = 8
 2070              		@ frame_needed = 0, uses_anonymous_args = 0
 2071 0000 30B5     		push	{r4, r5, lr}
 2072              	.LCFI25:
 2073              		.cfi_def_cfa_offset 12
 2074              		.cfi_offset 4, -12
 2075              		.cfi_offset 5, -8
 2076              		.cfi_offset 14, -4
 2077 0002 83B0     		sub	sp, sp, #12
 2078              	.LCFI26:
 2079              		.cfi_def_cfa_offset 24
 690:HW/SDCard/SDCard_sdio.c ****   uint16_t rca = 0x01;
 2080              		.loc 1 690 3 view .LVU717
 2081              	.LVL180:
 691:HW/SDCard/SDCard_sdio.c **** 
 2082              		.loc 1 691 3 view .LVU718
 691:HW/SDCard/SDCard_sdio.c **** 
 2083              		.loc 1 691 12 is_stmt 0 view .LVU719
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 92


 2084 0004 0123     		movs	r3, #1
 2085 0006 ADF80630 		strh	r3, [sp, #6]	@ movhi
 693:HW/SDCard/SDCard_sdio.c ****   {
 2086              		.loc 1 693 3 is_stmt 1 view .LVU720
 693:HW/SDCard/SDCard_sdio.c ****   {
 2087              		.loc 1 693 7 is_stmt 0 view .LVU721
 2088 000a FFF7FEFF 		bl	SDIO_GetPowerState
 2089              	.LVL181:
 693:HW/SDCard/SDCard_sdio.c ****   {
 2090              		.loc 1 693 6 view .LVU722
 2091 000e 0028     		cmp	r0, #0
 2092 0010 72D0     		beq	.L152
 699:HW/SDCard/SDCard_sdio.c ****   {
 2093              		.loc 1 699 3 is_stmt 1 view .LVU723
 699:HW/SDCard/SDCard_sdio.c ****   {
 2094              		.loc 1 699 35 is_stmt 0 view .LVU724
 2095 0012 3A4B     		ldr	r3, .L157
 2096 0014 1B68     		ldr	r3, [r3]
 699:HW/SDCard/SDCard_sdio.c ****   {
 2097              		.loc 1 699 6 view .LVU725
 2098 0016 042B     		cmp	r3, #4
 2099 0018 23D1     		bne	.L155
 2100              	.LVL182:
 2101              	.L149:
 722:HW/SDCard/SDCard_sdio.c ****       ||  (SDIO_HIGH_CAPACITY_SD_CARD == CardType))
 2102              		.loc 1 722 3 is_stmt 1 view .LVU726
 722:HW/SDCard/SDCard_sdio.c ****       ||  (SDIO_HIGH_CAPACITY_SD_CARD == CardType))
 2103              		.loc 1 722 52 is_stmt 0 view .LVU727
 2104 001a 384B     		ldr	r3, .L157
 2105 001c 1B68     		ldr	r3, [r3]
 722:HW/SDCard/SDCard_sdio.c ****       ||  (SDIO_HIGH_CAPACITY_SD_CARD == CardType))
 2106              		.loc 1 722 6 view .LVU728
 2107 001e 012B     		cmp	r3, #1
 2108 0020 03D9     		bls	.L150
 722:HW/SDCard/SDCard_sdio.c ****       ||  (SDIO_HIGH_CAPACITY_SD_CARD == CardType))
 2109              		.loc 1 722 101 discriminator 1 view .LVU729
 2110 0022 062B     		cmp	r3, #6
 2111 0024 01D0     		beq	.L150
 723:HW/SDCard/SDCard_sdio.c ****   {
 2112              		.loc 1 723 7 view .LVU730
 2113 0026 022B     		cmp	r3, #2
 2114 0028 13D1     		bne	.L151
 2115              	.L150:
 728:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_REL_ADDR;
 2116              		.loc 1 728 5 is_stmt 1 view .LVU731
 728:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_REL_ADDR;
 2117              		.loc 1 728 41 is_stmt 0 view .LVU732
 2118 002a 3548     		ldr	r0, .L157+4
 2119 002c 0023     		movs	r3, #0
 2120 002e 0360     		str	r3, [r0]
 729:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 2121              		.loc 1 729 5 is_stmt 1 view .LVU733
 729:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 2122              		.loc 1 729 41 is_stmt 0 view .LVU734
 2123 0030 0324     		movs	r4, #3
 2124 0032 4460     		str	r4, [r0, #4]
 730:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 93


 2125              		.loc 1 730 5 is_stmt 1 view .LVU735
 730:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2126              		.loc 1 730 41 is_stmt 0 view .LVU736
 2127 0034 4022     		movs	r2, #64
 2128 0036 8260     		str	r2, [r0, #8]
 731:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2129              		.loc 1 731 5 is_stmt 1 view .LVU737
 731:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2130              		.loc 1 731 37 is_stmt 0 view .LVU738
 2131 0038 C360     		str	r3, [r0, #12]
 732:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 2132              		.loc 1 732 5 is_stmt 1 view .LVU739
 732:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 2133              		.loc 1 732 37 is_stmt 0 view .LVU740
 2134 003a 4FF48063 		mov	r3, #1024
 2135 003e 0361     		str	r3, [r0, #16]
 733:HW/SDCard/SDCard_sdio.c **** 
 2136              		.loc 1 733 5 is_stmt 1 view .LVU741
 2137 0040 FFF7FEFF 		bl	SDIO_SendCommand
 2138              	.LVL183:
 735:HW/SDCard/SDCard_sdio.c **** 
 2139              		.loc 1 735 5 view .LVU742
 735:HW/SDCard/SDCard_sdio.c **** 
 2140              		.loc 1 735 19 is_stmt 0 view .LVU743
 2141 0044 0DF10601 		add	r1, sp, #6
 2142 0048 2046     		mov	r0, r4
 2143 004a FFF7FEFF 		bl	CmdResp6Error
 2144              	.LVL184:
 737:HW/SDCard/SDCard_sdio.c ****     {
 2145              		.loc 1 737 5 is_stmt 1 view .LVU744
 737:HW/SDCard/SDCard_sdio.c ****     {
 2146              		.loc 1 737 8 is_stmt 0 view .LVU745
 2147 004e 0446     		mov	r4, r0
 2148 0050 20B9     		cbnz	r0, .L148
 2149              	.LVL185:
 2150              	.L151:
 743:HW/SDCard/SDCard_sdio.c ****   {
 2151              		.loc 1 743 3 is_stmt 1 view .LVU746
 743:HW/SDCard/SDCard_sdio.c ****   {
 2152              		.loc 1 743 35 is_stmt 0 view .LVU747
 2153 0052 2A4B     		ldr	r3, .L157
 2154 0054 1B68     		ldr	r3, [r3]
 743:HW/SDCard/SDCard_sdio.c ****   {
 2155              		.loc 1 743 6 view .LVU748
 2156 0056 042B     		cmp	r3, #4
 2157 0058 26D1     		bne	.L156
 770:HW/SDCard/SDCard_sdio.c **** }
 2158              		.loc 1 770 9 view .LVU749
 2159 005a 0024     		movs	r4, #0
 2160              	.L148:
 771:HW/SDCard/SDCard_sdio.c **** 
 2161              		.loc 1 771 1 view .LVU750
 2162 005c 2046     		mov	r0, r4
 2163 005e 03B0     		add	sp, sp, #12
 2164              	.LCFI27:
 2165              		.cfi_remember_state
 2166              		.cfi_def_cfa_offset 12
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 94


 2167              		@ sp needed
 2168 0060 30BD     		pop	{r4, r5, pc}
 2169              	.LVL186:
 2170              	.L155:
 2171              	.LCFI28:
 2172              		.cfi_restore_state
 703:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_ALL_SEND_CID;
 2173              		.loc 1 703 5 is_stmt 1 view .LVU751
 703:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_ALL_SEND_CID;
 2174              		.loc 1 703 41 is_stmt 0 view .LVU752
 2175 0062 2748     		ldr	r0, .L157+4
 2176 0064 0023     		movs	r3, #0
 2177 0066 0360     		str	r3, [r0]
 704:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Long;
 2178              		.loc 1 704 5 is_stmt 1 view .LVU753
 704:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Long;
 2179              		.loc 1 704 41 is_stmt 0 view .LVU754
 2180 0068 0222     		movs	r2, #2
 2181 006a 4260     		str	r2, [r0, #4]
 705:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2182              		.loc 1 705 5 is_stmt 1 view .LVU755
 705:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2183              		.loc 1 705 41 is_stmt 0 view .LVU756
 2184 006c C022     		movs	r2, #192
 2185 006e 8260     		str	r2, [r0, #8]
 706:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2186              		.loc 1 706 5 is_stmt 1 view .LVU757
 706:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2187              		.loc 1 706 37 is_stmt 0 view .LVU758
 2188 0070 C360     		str	r3, [r0, #12]
 707:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 2189              		.loc 1 707 5 is_stmt 1 view .LVU759
 707:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 2190              		.loc 1 707 37 is_stmt 0 view .LVU760
 2191 0072 4FF48063 		mov	r3, #1024
 2192 0076 0361     		str	r3, [r0, #16]
 708:HW/SDCard/SDCard_sdio.c **** 
 2193              		.loc 1 708 5 is_stmt 1 view .LVU761
 2194 0078 FFF7FEFF 		bl	SDIO_SendCommand
 2195              	.LVL187:
 710:HW/SDCard/SDCard_sdio.c **** 
 2196              		.loc 1 710 5 view .LVU762
 710:HW/SDCard/SDCard_sdio.c **** 
 2197              		.loc 1 710 19 is_stmt 0 view .LVU763
 2198 007c FFF7FEFF 		bl	CmdResp2Error
 2199              	.LVL188:
 712:HW/SDCard/SDCard_sdio.c ****     {
 2200              		.loc 1 712 5 is_stmt 1 view .LVU764
 712:HW/SDCard/SDCard_sdio.c ****     {
 2201              		.loc 1 712 8 is_stmt 0 view .LVU765
 2202 0080 0446     		mov	r4, r0
 2203 0082 0028     		cmp	r0, #0
 2204 0084 EAD1     		bne	.L148
 717:HW/SDCard/SDCard_sdio.c ****     CID_Tab[1] = SDIO_GetResponse(SDIO_RESP2);
 2205              		.loc 1 717 5 is_stmt 1 view .LVU766
 717:HW/SDCard/SDCard_sdio.c ****     CID_Tab[1] = SDIO_GetResponse(SDIO_RESP2);
 2206              		.loc 1 717 18 is_stmt 0 view .LVU767
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 95


 2207 0086 FFF7FEFF 		bl	SDIO_GetResponse
 2208              	.LVL189:
 717:HW/SDCard/SDCard_sdio.c ****     CID_Tab[1] = SDIO_GetResponse(SDIO_RESP2);
 2209              		.loc 1 717 16 view .LVU768
 2210 008a 1E4C     		ldr	r4, .L157+8
 2211 008c 2060     		str	r0, [r4]
 718:HW/SDCard/SDCard_sdio.c ****     CID_Tab[2] = SDIO_GetResponse(SDIO_RESP3);
 2212              		.loc 1 718 5 is_stmt 1 view .LVU769
 718:HW/SDCard/SDCard_sdio.c ****     CID_Tab[2] = SDIO_GetResponse(SDIO_RESP3);
 2213              		.loc 1 718 18 is_stmt 0 view .LVU770
 2214 008e 0420     		movs	r0, #4
 2215 0090 FFF7FEFF 		bl	SDIO_GetResponse
 2216              	.LVL190:
 718:HW/SDCard/SDCard_sdio.c ****     CID_Tab[2] = SDIO_GetResponse(SDIO_RESP3);
 2217              		.loc 1 718 16 view .LVU771
 2218 0094 6060     		str	r0, [r4, #4]
 719:HW/SDCard/SDCard_sdio.c ****     CID_Tab[3] = SDIO_GetResponse(SDIO_RESP4);
 2219              		.loc 1 719 5 is_stmt 1 view .LVU772
 719:HW/SDCard/SDCard_sdio.c ****     CID_Tab[3] = SDIO_GetResponse(SDIO_RESP4);
 2220              		.loc 1 719 18 is_stmt 0 view .LVU773
 2221 0096 0820     		movs	r0, #8
 2222 0098 FFF7FEFF 		bl	SDIO_GetResponse
 2223              	.LVL191:
 719:HW/SDCard/SDCard_sdio.c ****     CID_Tab[3] = SDIO_GetResponse(SDIO_RESP4);
 2224              		.loc 1 719 16 view .LVU774
 2225 009c A060     		str	r0, [r4, #8]
 720:HW/SDCard/SDCard_sdio.c ****   }
 2226              		.loc 1 720 5 is_stmt 1 view .LVU775
 720:HW/SDCard/SDCard_sdio.c ****   }
 2227              		.loc 1 720 18 is_stmt 0 view .LVU776
 2228 009e 0C20     		movs	r0, #12
 2229 00a0 FFF7FEFF 		bl	SDIO_GetResponse
 2230              	.LVL192:
 720:HW/SDCard/SDCard_sdio.c ****   }
 2231              		.loc 1 720 16 view .LVU777
 2232 00a4 E060     		str	r0, [r4, #12]
 2233 00a6 B8E7     		b	.L149
 2234              	.LVL193:
 2235              	.L156:
 745:HW/SDCard/SDCard_sdio.c ****     /* ËØªÂèñSDÂç°ÁöÑCSDÂØÑÂ≠òÂô®ÔºàCSD‰∏≠‰øùÂ≠òÁùÄSDÂç°ÁöÑÁ°¨‰ª∂‰ø°ÊÅØÔºâ */
 2236              		.loc 1 745 5 is_stmt 1 view .LVU778
 745:HW/SDCard/SDCard_sdio.c ****     /* ËØªÂèñSDÂç°ÁöÑCSDÂØÑÂ≠òÂô®ÔºàCSD‰∏≠‰øùÂ≠òÁùÄSDÂç°ÁöÑÁ°¨‰ª∂‰ø°ÊÅØÔºâ */
 2237              		.loc 1 745 9 is_stmt 0 view .LVU779
 2238 00a8 BDF80630 		ldrh	r3, [sp, #6]
 2239 00ac 164A     		ldr	r2, .L157+12
 2240 00ae 1360     		str	r3, [r2]
 748:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SEND_CSD;
 2241              		.loc 1 748 5 is_stmt 1 view .LVU780
 748:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SEND_CSD;
 2242              		.loc 1 748 43 is_stmt 0 view .LVU781
 2243 00b0 1B04     		lsls	r3, r3, #16
 748:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SEND_CSD;
 2244              		.loc 1 748 41 view .LVU782
 2245 00b2 1348     		ldr	r0, .L157+4
 2246 00b4 0360     		str	r3, [r0]
 749:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Long;
 2247              		.loc 1 749 5 is_stmt 1 view .LVU783
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 96


 749:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Long;
 2248              		.loc 1 749 41 is_stmt 0 view .LVU784
 2249 00b6 0923     		movs	r3, #9
 2250 00b8 4360     		str	r3, [r0, #4]
 750:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2251              		.loc 1 750 5 is_stmt 1 view .LVU785
 750:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2252              		.loc 1 750 41 is_stmt 0 view .LVU786
 2253 00ba C023     		movs	r3, #192
 2254 00bc 8360     		str	r3, [r0, #8]
 751:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2255              		.loc 1 751 5 is_stmt 1 view .LVU787
 751:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2256              		.loc 1 751 37 is_stmt 0 view .LVU788
 2257 00be 0023     		movs	r3, #0
 2258 00c0 C360     		str	r3, [r0, #12]
 752:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 2259              		.loc 1 752 5 is_stmt 1 view .LVU789
 752:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 2260              		.loc 1 752 37 is_stmt 0 view .LVU790
 2261 00c2 4FF48063 		mov	r3, #1024
 2262 00c6 0361     		str	r3, [r0, #16]
 753:HW/SDCard/SDCard_sdio.c **** 
 2263              		.loc 1 753 5 is_stmt 1 view .LVU791
 2264 00c8 FFF7FEFF 		bl	SDIO_SendCommand
 2265              	.LVL194:
 755:HW/SDCard/SDCard_sdio.c **** 
 2266              		.loc 1 755 5 view .LVU792
 755:HW/SDCard/SDCard_sdio.c **** 
 2267              		.loc 1 755 19 is_stmt 0 view .LVU793
 2268 00cc FFF7FEFF 		bl	CmdResp2Error
 2269              	.LVL195:
 757:HW/SDCard/SDCard_sdio.c ****     {
 2270              		.loc 1 757 5 is_stmt 1 view .LVU794
 757:HW/SDCard/SDCard_sdio.c ****     {
 2271              		.loc 1 757 8 is_stmt 0 view .LVU795
 2272 00d0 0446     		mov	r4, r0
 2273 00d2 0028     		cmp	r0, #0
 2274 00d4 C2D1     		bne	.L148
 762:HW/SDCard/SDCard_sdio.c ****     CSD_Tab[1] = SDIO_GetResponse(SDIO_RESP2);
 2275              		.loc 1 762 5 is_stmt 1 view .LVU796
 762:HW/SDCard/SDCard_sdio.c ****     CSD_Tab[1] = SDIO_GetResponse(SDIO_RESP2);
 2276              		.loc 1 762 18 is_stmt 0 view .LVU797
 2277 00d6 FFF7FEFF 		bl	SDIO_GetResponse
 2278              	.LVL196:
 762:HW/SDCard/SDCard_sdio.c ****     CSD_Tab[1] = SDIO_GetResponse(SDIO_RESP2);
 2279              		.loc 1 762 16 view .LVU798
 2280 00da 0C4D     		ldr	r5, .L157+16
 2281 00dc 2860     		str	r0, [r5]
 763:HW/SDCard/SDCard_sdio.c ****     CSD_Tab[2] = SDIO_GetResponse(SDIO_RESP3);
 2282              		.loc 1 763 5 is_stmt 1 view .LVU799
 763:HW/SDCard/SDCard_sdio.c ****     CSD_Tab[2] = SDIO_GetResponse(SDIO_RESP3);
 2283              		.loc 1 763 18 is_stmt 0 view .LVU800
 2284 00de 0420     		movs	r0, #4
 2285 00e0 FFF7FEFF 		bl	SDIO_GetResponse
 2286              	.LVL197:
 763:HW/SDCard/SDCard_sdio.c ****     CSD_Tab[2] = SDIO_GetResponse(SDIO_RESP3);
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 97


 2287              		.loc 1 763 16 view .LVU801
 2288 00e4 6860     		str	r0, [r5, #4]
 764:HW/SDCard/SDCard_sdio.c ****     CSD_Tab[3] = SDIO_GetResponse(SDIO_RESP4);
 2289              		.loc 1 764 5 is_stmt 1 view .LVU802
 764:HW/SDCard/SDCard_sdio.c ****     CSD_Tab[3] = SDIO_GetResponse(SDIO_RESP4);
 2290              		.loc 1 764 18 is_stmt 0 view .LVU803
 2291 00e6 0820     		movs	r0, #8
 2292 00e8 FFF7FEFF 		bl	SDIO_GetResponse
 2293              	.LVL198:
 764:HW/SDCard/SDCard_sdio.c ****     CSD_Tab[3] = SDIO_GetResponse(SDIO_RESP4);
 2294              		.loc 1 764 16 view .LVU804
 2295 00ec A860     		str	r0, [r5, #8]
 765:HW/SDCard/SDCard_sdio.c ****   }
 2296              		.loc 1 765 5 is_stmt 1 view .LVU805
 765:HW/SDCard/SDCard_sdio.c ****   }
 2297              		.loc 1 765 18 is_stmt 0 view .LVU806
 2298 00ee 0C20     		movs	r0, #12
 2299 00f0 FFF7FEFF 		bl	SDIO_GetResponse
 2300              	.LVL199:
 765:HW/SDCard/SDCard_sdio.c ****   }
 2301              		.loc 1 765 16 view .LVU807
 2302 00f4 E860     		str	r0, [r5, #12]
 2303 00f6 B1E7     		b	.L148
 2304              	.LVL200:
 2305              	.L152:
 696:HW/SDCard/SDCard_sdio.c ****   }
 2306              		.loc 1 696 11 view .LVU808
 2307 00f8 2524     		movs	r4, #37
 2308 00fa AFE7     		b	.L148
 2309              	.L158:
 2310              		.align	2
 2311              	.L157:
 2312 00fc 00000000 		.word	CardType
 2313 0100 00000000 		.word	SDIO_CmdInitStructure
 2314 0104 00000000 		.word	CID_Tab
 2315 0108 00000000 		.word	RCA
 2316 010c 00000000 		.word	CSD_Tab
 2317              		.cfi_endproc
 2318              	.LFE36:
 2320              		.section	.text.SD_GetCardInfo,"ax",%progbits
 2321              		.align	1
 2322              		.global	SD_GetCardInfo
 2323              		.syntax unified
 2324              		.thumb
 2325              		.thumb_func
 2327              	SD_GetCardInfo:
 2328              	.LVL201:
 2329              	.LFB37:
 780:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 2330              		.loc 1 780 1 is_stmt 1 view -0
 2331              		.cfi_startproc
 2332              		@ args = 0, pretend = 0, frame = 0
 2333              		@ frame_needed = 0, uses_anonymous_args = 0
 780:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 2334              		.loc 1 780 1 is_stmt 0 view .LVU810
 2335 0000 30B5     		push	{r4, r5, lr}
 2336              	.LCFI29:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 98


 2337              		.cfi_def_cfa_offset 12
 2338              		.cfi_offset 4, -12
 2339              		.cfi_offset 5, -8
 2340              		.cfi_offset 14, -4
 2341 0002 0346     		mov	r3, r0
 781:HW/SDCard/SDCard_sdio.c ****   uint8_t tmp = 0;
 2342              		.loc 1 781 3 is_stmt 1 view .LVU811
 2343              	.LVL202:
 782:HW/SDCard/SDCard_sdio.c **** 
 2344              		.loc 1 782 3 view .LVU812
 784:HW/SDCard/SDCard_sdio.c ****   cardinfo->RCA = (uint16_t)RCA;
 2345              		.loc 1 784 3 view .LVU813
 784:HW/SDCard/SDCard_sdio.c ****   cardinfo->RCA = (uint16_t)RCA;
 2346              		.loc 1 784 24 is_stmt 0 view .LVU814
 2347 0004 9A4A     		ldr	r2, .L164
 2348 0006 1068     		ldr	r0, [r2]
 2349              	.LVL203:
 784:HW/SDCard/SDCard_sdio.c ****   cardinfo->RCA = (uint16_t)RCA;
 2350              		.loc 1 784 22 view .LVU815
 2351 0008 83F84E00 		strb	r0, [r3, #78]
 785:HW/SDCard/SDCard_sdio.c **** 
 2352              		.loc 1 785 3 is_stmt 1 view .LVU816
 785:HW/SDCard/SDCard_sdio.c **** 
 2353              		.loc 1 785 19 is_stmt 0 view .LVU817
 2354 000c 994A     		ldr	r2, .L164+4
 2355 000e 1288     		ldrh	r2, [r2]
 785:HW/SDCard/SDCard_sdio.c **** 
 2356              		.loc 1 785 17 view .LVU818
 2357 0010 A3F84C20 		strh	r2, [r3, #76]	@ movhi
 788:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.CSDStruct = (tmp & 0xC0) >> 6;
 2358              		.loc 1 788 3 is_stmt 1 view .LVU819
 788:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.CSDStruct = (tmp & 0xC0) >> 6;
 2359              		.loc 1 788 27 is_stmt 0 view .LVU820
 2360 0014 9849     		ldr	r1, .L164+8
 2361 0016 0A68     		ldr	r2, [r1]
 2362              	.LVL204:
 789:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.SysSpecVersion = (tmp & 0x3C) >> 2;
 2363              		.loc 1 789 3 is_stmt 1 view .LVU821
 789:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.SysSpecVersion = (tmp & 0x3C) >> 2;
 2364              		.loc 1 789 45 is_stmt 0 view .LVU822
 2365 0018 940F     		lsrs	r4, r2, #30
 789:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.SysSpecVersion = (tmp & 0x3C) >> 2;
 2366              		.loc 1 789 30 view .LVU823
 2367 001a 1C70     		strb	r4, [r3]
 790:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.Reserved1 = tmp & 0x03;
 2368              		.loc 1 790 3 is_stmt 1 view .LVU824
 790:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.Reserved1 = tmp & 0x03;
 2369              		.loc 1 790 50 is_stmt 0 view .LVU825
 2370 001c C2F38364 		ubfx	r4, r2, #26, #4
 790:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.Reserved1 = tmp & 0x03;
 2371              		.loc 1 790 35 view .LVU826
 2372 0020 5C70     		strb	r4, [r3, #1]
 791:HW/SDCard/SDCard_sdio.c **** 
 2373              		.loc 1 791 3 is_stmt 1 view .LVU827
 791:HW/SDCard/SDCard_sdio.c **** 
 2374              		.loc 1 791 36 is_stmt 0 view .LVU828
 2375 0022 C2F30164 		ubfx	r4, r2, #24, #2
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 99


 791:HW/SDCard/SDCard_sdio.c **** 
 2376              		.loc 1 791 30 view .LVU829
 2377 0026 9C70     		strb	r4, [r3, #2]
 794:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.TAAC = tmp;
 2378              		.loc 1 794 3 is_stmt 1 view .LVU830
 794:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.TAAC = tmp;
 2379              		.loc 1 794 7 is_stmt 0 view .LVU831
 2380 0028 C2F30744 		ubfx	r4, r2, #16, #8
 2381              	.LVL205:
 795:HW/SDCard/SDCard_sdio.c **** 
 2382              		.loc 1 795 3 is_stmt 1 view .LVU832
 795:HW/SDCard/SDCard_sdio.c **** 
 2383              		.loc 1 795 25 is_stmt 0 view .LVU833
 2384 002c DC70     		strb	r4, [r3, #3]
 798:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.NSAC = tmp;
 2385              		.loc 1 798 3 is_stmt 1 view .LVU834
 798:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.NSAC = tmp;
 2386              		.loc 1 798 7 is_stmt 0 view .LVU835
 2387 002e C2F30724 		ubfx	r4, r2, #8, #8
 2388              	.LVL206:
 799:HW/SDCard/SDCard_sdio.c **** 
 2389              		.loc 1 799 3 is_stmt 1 view .LVU836
 799:HW/SDCard/SDCard_sdio.c **** 
 2390              		.loc 1 799 25 is_stmt 0 view .LVU837
 2391 0032 1C71     		strb	r4, [r3, #4]
 802:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.MaxBusClkFrec = tmp;
 2392              		.loc 1 802 3 is_stmt 1 view .LVU838
 802:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.MaxBusClkFrec = tmp;
 2393              		.loc 1 802 7 is_stmt 0 view .LVU839
 2394 0034 D2B2     		uxtb	r2, r2
 2395              	.LVL207:
 803:HW/SDCard/SDCard_sdio.c **** 
 2396              		.loc 1 803 3 is_stmt 1 view .LVU840
 803:HW/SDCard/SDCard_sdio.c **** 
 2397              		.loc 1 803 34 is_stmt 0 view .LVU841
 2398 0036 5A71     		strb	r2, [r3, #5]
 806:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.CardComdClasses = tmp << 4;
 2399              		.loc 1 806 3 is_stmt 1 view .LVU842
 806:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.CardComdClasses = tmp << 4;
 2400              		.loc 1 806 27 is_stmt 0 view .LVU843
 2401 0038 4A68     		ldr	r2, [r1, #4]
 2402              	.LVL208:
 806:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.CardComdClasses = tmp << 4;
 2403              		.loc 1 806 7 view .LVU844
 2404 003a 110E     		lsrs	r1, r2, #24
 2405              	.LVL209:
 807:HW/SDCard/SDCard_sdio.c **** 
 2406              		.loc 1 807 3 is_stmt 1 view .LVU845
 807:HW/SDCard/SDCard_sdio.c **** 
 2407              		.loc 1 807 42 is_stmt 0 view .LVU846
 2408 003c 0901     		lsls	r1, r1, #4
 2409              	.LVL210:
 807:HW/SDCard/SDCard_sdio.c **** 
 2410              		.loc 1 807 36 view .LVU847
 2411 003e D980     		strh	r1, [r3, #6]	@ movhi
 810:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.CardComdClasses |= (tmp & 0xF0) >> 4;
 2412              		.loc 1 810 3 is_stmt 1 view .LVU848
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 100


 2413              	.LVL211:
 811:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.RdBlockLen = tmp & 0x0F;
 2414              		.loc 1 811 3 view .LVU849
 811:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.RdBlockLen = tmp & 0x0F;
 2415              		.loc 1 811 19 is_stmt 0 view .LVU850
 2416 0040 D988     		ldrh	r1, [r3, #6]
 2417 0042 89B2     		uxth	r1, r1
 811:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.RdBlockLen = tmp & 0x0F;
 2418              		.loc 1 811 52 view .LVU851
 2419 0044 C2F30354 		ubfx	r4, r2, #20, #4
 811:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.RdBlockLen = tmp & 0x0F;
 2420              		.loc 1 811 36 view .LVU852
 2421 0048 2143     		orrs	r1, r1, r4
 2422 004a D980     		strh	r1, [r3, #6]	@ movhi
 812:HW/SDCard/SDCard_sdio.c **** 
 2423              		.loc 1 812 3 is_stmt 1 view .LVU853
 812:HW/SDCard/SDCard_sdio.c **** 
 2424              		.loc 1 812 37 is_stmt 0 view .LVU854
 2425 004c C2F30341 		ubfx	r1, r2, #16, #4
 812:HW/SDCard/SDCard_sdio.c **** 
 2426              		.loc 1 812 31 view .LVU855
 2427 0050 1972     		strb	r1, [r3, #8]
 815:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.PartBlockRead = (tmp & 0x80) >> 7;
 2428              		.loc 1 815 3 is_stmt 1 view .LVU856
 815:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.PartBlockRead = (tmp & 0x80) >> 7;
 2429              		.loc 1 815 7 is_stmt 0 view .LVU857
 2430 0052 C2F30721 		ubfx	r1, r2, #8, #8
 2431              	.LVL212:
 816:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WrBlockMisalign = (tmp & 0x40) >> 6;
 2432              		.loc 1 816 3 is_stmt 1 view .LVU858
 816:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WrBlockMisalign = (tmp & 0x40) >> 6;
 2433              		.loc 1 816 49 is_stmt 0 view .LVU859
 2434 0056 C2F3C034 		ubfx	r4, r2, #15, #1
 816:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WrBlockMisalign = (tmp & 0x40) >> 6;
 2435              		.loc 1 816 34 view .LVU860
 2436 005a 5C72     		strb	r4, [r3, #9]
 817:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.RdBlockMisalign = (tmp & 0x20) >> 5;
 2437              		.loc 1 817 3 is_stmt 1 view .LVU861
 817:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.RdBlockMisalign = (tmp & 0x20) >> 5;
 2438              		.loc 1 817 51 is_stmt 0 view .LVU862
 2439 005c C2F38034 		ubfx	r4, r2, #14, #1
 817:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.RdBlockMisalign = (tmp & 0x20) >> 5;
 2440              		.loc 1 817 36 view .LVU863
 2441 0060 9C72     		strb	r4, [r3, #10]
 818:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.DSRImpl = (tmp & 0x10) >> 4;
 2442              		.loc 1 818 3 is_stmt 1 view .LVU864
 818:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.DSRImpl = (tmp & 0x10) >> 4;
 2443              		.loc 1 818 51 is_stmt 0 view .LVU865
 2444 0062 C2F34034 		ubfx	r4, r2, #13, #1
 818:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.DSRImpl = (tmp & 0x10) >> 4;
 2445              		.loc 1 818 36 view .LVU866
 2446 0066 DC72     		strb	r4, [r3, #11]
 819:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.Reserved2 = 0; /*!< Reserved */
 2447              		.loc 1 819 3 is_stmt 1 view .LVU867
 819:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.Reserved2 = 0; /*!< Reserved */
 2448              		.loc 1 819 43 is_stmt 0 view .LVU868
 2449 0068 C2F30034 		ubfx	r4, r2, #12, #1
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 101


 819:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.Reserved2 = 0; /*!< Reserved */
 2450              		.loc 1 819 28 view .LVU869
 2451 006c 1C73     		strb	r4, [r3, #12]
 820:HW/SDCard/SDCard_sdio.c **** 
 2452              		.loc 1 820 3 is_stmt 1 view .LVU870
 820:HW/SDCard/SDCard_sdio.c **** 
 2453              		.loc 1 820 30 is_stmt 0 view .LVU871
 2454 006e 0024     		movs	r4, #0
 2455 0070 5C73     		strb	r4, [r3, #13]
 822:HW/SDCard/SDCard_sdio.c ****   {
 2456              		.loc 1 822 3 is_stmt 1 view .LVU872
 822:HW/SDCard/SDCard_sdio.c ****   {
 2457              		.loc 1 822 6 is_stmt 0 view .LVU873
 2458 0072 0128     		cmp	r0, #1
 2459 0074 1CD9     		bls	.L163
 851:HW/SDCard/SDCard_sdio.c ****   {
 2460              		.loc 1 851 8 is_stmt 1 view .LVU874
 851:HW/SDCard/SDCard_sdio.c ****   {
 2461              		.loc 1 851 11 is_stmt 0 view .LVU875
 2462 0076 0228     		cmp	r0, #2
 2463 0078 4FD1     		bne	.L161
 854:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.DeviceSize = (tmp & 0x3F) << 16;
 2464              		.loc 1 854 5 is_stmt 1 view .LVU876
 2465              	.LVL213:
 855:HW/SDCard/SDCard_sdio.c **** 
 2466              		.loc 1 855 5 view .LVU877
 855:HW/SDCard/SDCard_sdio.c **** 
 2467              		.loc 1 855 48 is_stmt 0 view .LVU878
 2468 007a D2B2     		uxtb	r2, r2
 855:HW/SDCard/SDCard_sdio.c **** 
 2469              		.loc 1 855 48 view .LVU879
 2470 007c 1204     		lsls	r2, r2, #16
 2471              	.LVL214:
 855:HW/SDCard/SDCard_sdio.c **** 
 2472              		.loc 1 855 48 view .LVU880
 2473 007e 02F47C12 		and	r2, r2, #4128768
 855:HW/SDCard/SDCard_sdio.c **** 
 2474              		.loc 1 855 33 view .LVU881
 2475 0082 1A61     		str	r2, [r3, #16]
 858:HW/SDCard/SDCard_sdio.c **** 
 2476              		.loc 1 858 5 is_stmt 1 view .LVU882
 858:HW/SDCard/SDCard_sdio.c **** 
 2477              		.loc 1 858 29 is_stmt 0 view .LVU883
 2478 0084 7C4A     		ldr	r2, .L164+8
 2479 0086 9168     		ldr	r1, [r2, #8]
 858:HW/SDCard/SDCard_sdio.c **** 
 2480              		.loc 1 858 47 view .LVU884
 2481 0088 080E     		lsrs	r0, r1, #24
 2482              	.LVL215:
 860:HW/SDCard/SDCard_sdio.c **** 
 2483              		.loc 1 860 5 is_stmt 1 view .LVU885
 860:HW/SDCard/SDCard_sdio.c **** 
 2484              		.loc 1 860 21 is_stmt 0 view .LVU886
 2485 008a 1A69     		ldr	r2, [r3, #16]
 860:HW/SDCard/SDCard_sdio.c **** 
 2486              		.loc 1 860 33 view .LVU887
 2487 008c 42EA0022 		orr	r2, r2, r0, lsl #8
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 102


 2488 0090 1A61     		str	r2, [r3, #16]
 863:HW/SDCard/SDCard_sdio.c **** 
 2489              		.loc 1 863 5 is_stmt 1 view .LVU888
 2490              	.LVL216:
 865:HW/SDCard/SDCard_sdio.c **** 
 2491              		.loc 1 865 5 view .LVU889
 865:HW/SDCard/SDCard_sdio.c **** 
 2492              		.loc 1 865 21 is_stmt 0 view .LVU890
 2493 0092 1869     		ldr	r0, [r3, #16]
 865:HW/SDCard/SDCard_sdio.c **** 
 2494              		.loc 1 865 33 view .LVU891
 2495 0094 C1F30742 		ubfx	r2, r1, #16, #8
 2496 0098 0243     		orrs	r2, r2, r0
 2497 009a 1A61     		str	r2, [r3, #16]
 868:HW/SDCard/SDCard_sdio.c ****     
 2498              		.loc 1 868 5 is_stmt 1 view .LVU892
 868:HW/SDCard/SDCard_sdio.c ****     
 2499              		.loc 1 868 9 is_stmt 0 view .LVU893
 2500 009c C1F30721 		ubfx	r1, r1, #8, #8
 2501              	.LVL217:
 870:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardBlockSize = 512;    
 2502              		.loc 1 870 5 is_stmt 1 view .LVU894
 870:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardBlockSize = 512;    
 2503              		.loc 1 870 47 is_stmt 0 view .LVU895
 2504 00a0 1A69     		ldr	r2, [r3, #16]
 870:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardBlockSize = 512;    
 2505              		.loc 1 870 59 view .LVU896
 2506 00a2 0132     		adds	r2, r2, #1
 870:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardBlockSize = 512;    
 2507              		.loc 1 870 70 view .LVU897
 2508 00a4 D204     		lsls	r2, r2, #19
 870:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardBlockSize = 512;    
 2509              		.loc 1 870 28 view .LVU898
 2510 00a6 5A64     		str	r2, [r3, #68]
 871:HW/SDCard/SDCard_sdio.c ****   }
 2511              		.loc 1 871 5 is_stmt 1 view .LVU899
 871:HW/SDCard/SDCard_sdio.c ****   }
 2512              		.loc 1 871 29 is_stmt 0 view .LVU900
 2513 00a8 4FF40072 		mov	r2, #512
 2514 00ac 9A64     		str	r2, [r3, #72]
 2515 00ae 34E0     		b	.L161
 2516              	.L163:
 824:HW/SDCard/SDCard_sdio.c **** 
 2517              		.loc 1 824 5 is_stmt 1 view .LVU901
 824:HW/SDCard/SDCard_sdio.c **** 
 2518              		.loc 1 824 48 is_stmt 0 view .LVU902
 2519 00b0 8902     		lsls	r1, r1, #10
 2520              	.LVL218:
 824:HW/SDCard/SDCard_sdio.c **** 
 2521              		.loc 1 824 48 view .LVU903
 2522 00b2 01F44061 		and	r1, r1, #3072
 824:HW/SDCard/SDCard_sdio.c **** 
 2523              		.loc 1 824 33 view .LVU904
 2524 00b6 1961     		str	r1, [r3, #16]
 827:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.DeviceSize |= (tmp) << 2;
 2525              		.loc 1 827 5 is_stmt 1 view .LVU905
 2526              	.LVL219:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 103


 828:HW/SDCard/SDCard_sdio.c **** 
 2527              		.loc 1 828 5 view .LVU906
 828:HW/SDCard/SDCard_sdio.c **** 
 2528              		.loc 1 828 21 is_stmt 0 view .LVU907
 2529 00b8 1969     		ldr	r1, [r3, #16]
 828:HW/SDCard/SDCard_sdio.c **** 
 2530              		.loc 1 828 42 view .LVU908
 2531 00ba D2B2     		uxtb	r2, r2
 828:HW/SDCard/SDCard_sdio.c **** 
 2532              		.loc 1 828 33 view .LVU909
 2533 00bc 41EA8202 		orr	r2, r1, r2, lsl #2
 2534              	.LVL220:
 828:HW/SDCard/SDCard_sdio.c **** 
 2535              		.loc 1 828 33 view .LVU910
 2536 00c0 1A61     		str	r2, [r3, #16]
 831:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.DeviceSize |= (tmp & 0xC0) >> 6;
 2537              		.loc 1 831 5 is_stmt 1 view .LVU911
 831:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.DeviceSize |= (tmp & 0xC0) >> 6;
 2538              		.loc 1 831 29 is_stmt 0 view .LVU912
 2539 00c2 6D4A     		ldr	r2, .L164+8
 2540 00c4 9268     		ldr	r2, [r2, #8]
 2541              	.LVL221:
 832:HW/SDCard/SDCard_sdio.c **** 
 2542              		.loc 1 832 5 is_stmt 1 view .LVU913
 832:HW/SDCard/SDCard_sdio.c **** 
 2543              		.loc 1 832 21 is_stmt 0 view .LVU914
 2544 00c6 1969     		ldr	r1, [r3, #16]
 832:HW/SDCard/SDCard_sdio.c **** 
 2545              		.loc 1 832 33 view .LVU915
 2546 00c8 41EA9271 		orr	r1, r1, r2, lsr #30
 2547 00cc 1961     		str	r1, [r3, #16]
 834:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.MaxRdCurrentVDDMax = (tmp & 0x07);
 2548              		.loc 1 834 5 is_stmt 1 view .LVU916
 834:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.MaxRdCurrentVDDMax = (tmp & 0x07);
 2549              		.loc 1 834 56 is_stmt 0 view .LVU917
 2550 00ce C2F3C261 		ubfx	r1, r2, #27, #3
 834:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.MaxRdCurrentVDDMax = (tmp & 0x07);
 2551              		.loc 1 834 41 view .LVU918
 2552 00d2 1975     		strb	r1, [r3, #20]
 835:HW/SDCard/SDCard_sdio.c **** 
 2553              		.loc 1 835 5 is_stmt 1 view .LVU919
 835:HW/SDCard/SDCard_sdio.c **** 
 2554              		.loc 1 835 48 is_stmt 0 view .LVU920
 2555 00d4 C2F30261 		ubfx	r1, r2, #24, #3
 835:HW/SDCard/SDCard_sdio.c **** 
 2556              		.loc 1 835 41 view .LVU921
 2557 00d8 5975     		strb	r1, [r3, #21]
 838:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.MaxWrCurrentVDDMin = (tmp & 0xE0) >> 5;
 2558              		.loc 1 838 5 is_stmt 1 view .LVU922
 838:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.MaxWrCurrentVDDMin = (tmp & 0xE0) >> 5;
 2559              		.loc 1 838 47 is_stmt 0 view .LVU923
 2560 00da 110C     		lsrs	r1, r2, #16
 2561              	.LVL222:
 839:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.MaxWrCurrentVDDMax = (tmp & 0x1C) >> 2;
 2562              		.loc 1 839 5 is_stmt 1 view .LVU924
 839:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.MaxWrCurrentVDDMax = (tmp & 0x1C) >> 2;
 2563              		.loc 1 839 56 is_stmt 0 view .LVU925
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 104


 2564 00dc C2F34250 		ubfx	r0, r2, #21, #3
 839:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.MaxWrCurrentVDDMax = (tmp & 0x1C) >> 2;
 2565              		.loc 1 839 41 view .LVU926
 2566 00e0 9875     		strb	r0, [r3, #22]
 840:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.DeviceSizeMul = (tmp & 0x03) << 1;
 2567              		.loc 1 840 5 is_stmt 1 view .LVU927
 840:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.DeviceSizeMul = (tmp & 0x03) << 1;
 2568              		.loc 1 840 56 is_stmt 0 view .LVU928
 2569 00e2 C2F38240 		ubfx	r0, r2, #18, #3
 840:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.DeviceSizeMul = (tmp & 0x03) << 1;
 2570              		.loc 1 840 41 view .LVU929
 2571 00e6 D875     		strb	r0, [r3, #23]
 841:HW/SDCard/SDCard_sdio.c ****     /*!< Byte 10 */
 2572              		.loc 1 841 5 is_stmt 1 view .LVU930
 841:HW/SDCard/SDCard_sdio.c ****     /*!< Byte 10 */
 2573              		.loc 1 841 51 is_stmt 0 view .LVU931
 2574 00e8 4900     		lsls	r1, r1, #1
 2575 00ea 01F00601 		and	r1, r1, #6
 841:HW/SDCard/SDCard_sdio.c ****     /*!< Byte 10 */
 2576              		.loc 1 841 36 view .LVU932
 2577 00ee 1976     		strb	r1, [r3, #24]
 843:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.DeviceSizeMul |= (tmp & 0x80) >> 7;
 2578              		.loc 1 843 5 is_stmt 1 view .LVU933
 843:HW/SDCard/SDCard_sdio.c ****     cardinfo->SD_csd.DeviceSizeMul |= (tmp & 0x80) >> 7;
 2579              		.loc 1 843 9 is_stmt 0 view .LVU934
 2580 00f0 C2F30721 		ubfx	r1, r2, #8, #8
 2581              	.LVL223:
 844:HW/SDCard/SDCard_sdio.c ****     
 2582              		.loc 1 844 5 is_stmt 1 view .LVU935
 844:HW/SDCard/SDCard_sdio.c ****     
 2583              		.loc 1 844 21 is_stmt 0 view .LVU936
 2584 00f4 187E     		ldrb	r0, [r3, #24]	@ zero_extendqisi2
 844:HW/SDCard/SDCard_sdio.c ****     
 2585              		.loc 1 844 52 view .LVU937
 2586 00f6 C2F3C032 		ubfx	r2, r2, #15, #1
 844:HW/SDCard/SDCard_sdio.c ****     
 2587              		.loc 1 844 36 view .LVU938
 2588 00fa 0243     		orrs	r2, r2, r0
 2589 00fc 1A76     		strb	r2, [r3, #24]
 846:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardCapacity *= (1 << (cardinfo->SD_csd.DeviceSizeMul + 2));
 2590              		.loc 1 846 5 is_stmt 1 view .LVU939
 846:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardCapacity *= (1 << (cardinfo->SD_csd.DeviceSizeMul + 2));
 2591              		.loc 1 846 47 is_stmt 0 view .LVU940
 2592 00fe 1A69     		ldr	r2, [r3, #16]
 846:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardCapacity *= (1 << (cardinfo->SD_csd.DeviceSizeMul + 2));
 2593              		.loc 1 846 59 view .LVU941
 2594 0100 0132     		adds	r2, r2, #1
 846:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardCapacity *= (1 << (cardinfo->SD_csd.DeviceSizeMul + 2));
 2595              		.loc 1 846 28 view .LVU942
 2596 0102 5A64     		str	r2, [r3, #68]
 847:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardBlockSize = 1 << (cardinfo->SD_csd.RdBlockLen);
 2597              		.loc 1 847 5 is_stmt 1 view .LVU943
 847:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardBlockSize = 1 << (cardinfo->SD_csd.RdBlockLen);
 2598              		.loc 1 847 54 is_stmt 0 view .LVU944
 2599 0104 187E     		ldrb	r0, [r3, #24]	@ zero_extendqisi2
 847:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardBlockSize = 1 << (cardinfo->SD_csd.RdBlockLen);
 2600              		.loc 1 847 69 view .LVU945
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 105


 2601 0106 0230     		adds	r0, r0, #2
 847:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardBlockSize = 1 << (cardinfo->SD_csd.RdBlockLen);
 2602              		.loc 1 847 28 view .LVU946
 2603 0108 8240     		lsls	r2, r2, r0
 2604 010a 5A64     		str	r2, [r3, #68]
 848:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardCapacity *= cardinfo->CardBlockSize;
 2605              		.loc 1 848 5 is_stmt 1 view .LVU947
 848:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardCapacity *= cardinfo->CardBlockSize;
 2606              		.loc 1 848 53 is_stmt 0 view .LVU948
 2607 010c 187A     		ldrb	r0, [r3, #8]	@ zero_extendqisi2
 2608 010e C0B2     		uxtb	r0, r0
 848:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardCapacity *= cardinfo->CardBlockSize;
 2609              		.loc 1 848 33 view .LVU949
 2610 0110 0124     		movs	r4, #1
 2611 0112 8440     		lsls	r4, r4, r0
 848:HW/SDCard/SDCard_sdio.c ****     cardinfo->CardCapacity *= cardinfo->CardBlockSize;
 2612              		.loc 1 848 29 view .LVU950
 2613 0114 9C64     		str	r4, [r3, #72]
 849:HW/SDCard/SDCard_sdio.c ****   }
 2614              		.loc 1 849 5 is_stmt 1 view .LVU951
 849:HW/SDCard/SDCard_sdio.c ****   }
 2615              		.loc 1 849 28 is_stmt 0 view .LVU952
 2616 0116 8240     		lsls	r2, r2, r0
 2617 0118 5A64     		str	r2, [r3, #68]
 2618              	.L161:
 875:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.EraseGrMul = (tmp & 0x3F) << 1;
 2619              		.loc 1 875 3 is_stmt 1 view .LVU953
 875:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.EraseGrMul = (tmp & 0x3F) << 1;
 2620              		.loc 1 875 47 is_stmt 0 view .LVU954
 2621 011a C1F38012 		ubfx	r2, r1, #6, #1
 875:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.EraseGrMul = (tmp & 0x3F) << 1;
 2622              		.loc 1 875 32 view .LVU955
 2623 011e 5A76     		strb	r2, [r3, #25]
 876:HW/SDCard/SDCard_sdio.c **** 
 2624              		.loc 1 876 3 is_stmt 1 view .LVU956
 876:HW/SDCard/SDCard_sdio.c **** 
 2625              		.loc 1 876 46 is_stmt 0 view .LVU957
 2626 0120 4900     		lsls	r1, r1, #1
 2627              	.LVL224:
 876:HW/SDCard/SDCard_sdio.c **** 
 2628              		.loc 1 876 46 view .LVU958
 2629 0122 01F07E01 		and	r1, r1, #126
 876:HW/SDCard/SDCard_sdio.c **** 
 2630              		.loc 1 876 31 view .LVU959
 2631 0126 9976     		strb	r1, [r3, #26]
 879:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.EraseGrMul |= (tmp & 0x80) >> 7;
 2632              		.loc 1 879 3 is_stmt 1 view .LVU960
 879:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.EraseGrMul |= (tmp & 0x80) >> 7;
 2633              		.loc 1 879 26 is_stmt 0 view .LVU961
 2634 0128 5348     		ldr	r0, .L164+8
 879:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.EraseGrMul |= (tmp & 0x80) >> 7;
 2635              		.loc 1 879 7 view .LVU962
 2636 012a 027A     		ldrb	r2, [r0, #8]	@ zero_extendqisi2
 2637              	.LVL225:
 880:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WrProtectGrSize = (tmp & 0x7F);
 2638              		.loc 1 880 3 is_stmt 1 view .LVU963
 880:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WrProtectGrSize = (tmp & 0x7F);
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 106


 2639              		.loc 1 880 19 is_stmt 0 view .LVU964
 2640 012c 997E     		ldrb	r1, [r3, #26]	@ zero_extendqisi2
 880:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WrProtectGrSize = (tmp & 0x7F);
 2641              		.loc 1 880 31 view .LVU965
 2642 012e 41EAD211 		orr	r1, r1, r2, lsr #7
 2643 0132 9976     		strb	r1, [r3, #26]
 881:HW/SDCard/SDCard_sdio.c **** 
 2644              		.loc 1 881 3 is_stmt 1 view .LVU966
 881:HW/SDCard/SDCard_sdio.c **** 
 2645              		.loc 1 881 43 is_stmt 0 view .LVU967
 2646 0134 02F07F02 		and	r2, r2, #127
 2647              	.LVL226:
 881:HW/SDCard/SDCard_sdio.c **** 
 2648              		.loc 1 881 36 view .LVU968
 2649 0138 DA76     		strb	r2, [r3, #27]
 884:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WrProtectGrEnable = (tmp & 0x80) >> 7;
 2650              		.loc 1 884 3 is_stmt 1 view .LVU969
 884:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WrProtectGrEnable = (tmp & 0x80) >> 7;
 2651              		.loc 1 884 27 is_stmt 0 view .LVU970
 2652 013a C268     		ldr	r2, [r0, #12]
 884:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WrProtectGrEnable = (tmp & 0x80) >> 7;
 2653              		.loc 1 884 45 view .LVU971
 2654 013c 110E     		lsrs	r1, r2, #24
 2655              	.LVL227:
 885:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.ManDeflECC = (tmp & 0x60) >> 5;
 2656              		.loc 1 885 3 is_stmt 1 view .LVU972
 885:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.ManDeflECC = (tmp & 0x60) >> 5;
 2657              		.loc 1 885 53 is_stmt 0 view .LVU973
 2658 013e D00F     		lsrs	r0, r2, #31
 885:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.ManDeflECC = (tmp & 0x60) >> 5;
 2659              		.loc 1 885 38 view .LVU974
 2660 0140 1877     		strb	r0, [r3, #28]
 886:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WrSpeedFact = (tmp & 0x1C) >> 2;
 2661              		.loc 1 886 3 is_stmt 1 view .LVU975
 886:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WrSpeedFact = (tmp & 0x1C) >> 2;
 2662              		.loc 1 886 46 is_stmt 0 view .LVU976
 2663 0142 C2F34170 		ubfx	r0, r2, #29, #2
 886:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WrSpeedFact = (tmp & 0x1C) >> 2;
 2664              		.loc 1 886 31 view .LVU977
 2665 0146 5877     		strb	r0, [r3, #29]
 887:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.MaxWrBlockLen = (tmp & 0x03) << 2;
 2666              		.loc 1 887 3 is_stmt 1 view .LVU978
 887:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.MaxWrBlockLen = (tmp & 0x03) << 2;
 2667              		.loc 1 887 47 is_stmt 0 view .LVU979
 2668 0148 C2F38260 		ubfx	r0, r2, #26, #3
 887:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.MaxWrBlockLen = (tmp & 0x03) << 2;
 2669              		.loc 1 887 32 view .LVU980
 2670 014c 9877     		strb	r0, [r3, #30]
 888:HW/SDCard/SDCard_sdio.c **** 
 2671              		.loc 1 888 3 is_stmt 1 view .LVU981
 888:HW/SDCard/SDCard_sdio.c **** 
 2672              		.loc 1 888 49 is_stmt 0 view .LVU982
 2673 014e 8900     		lsls	r1, r1, #2
 2674 0150 01F00C01 		and	r1, r1, #12
 888:HW/SDCard/SDCard_sdio.c **** 
 2675              		.loc 1 888 34 view .LVU983
 2676 0154 D977     		strb	r1, [r3, #31]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 107


 891:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.MaxWrBlockLen |= (tmp & 0xC0) >> 6;
 2677              		.loc 1 891 3 is_stmt 1 view .LVU984
 2678              	.LVL228:
 892:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20) >> 5;
 2679              		.loc 1 892 3 view .LVU985
 892:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20) >> 5;
 2680              		.loc 1 892 19 is_stmt 0 view .LVU986
 2681 0156 D97F     		ldrb	r1, [r3, #31]	@ zero_extendqisi2
 892:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20) >> 5;
 2682              		.loc 1 892 50 view .LVU987
 2683 0158 C2F38150 		ubfx	r0, r2, #22, #2
 892:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20) >> 5;
 2684              		.loc 1 892 34 view .LVU988
 2685 015c 0143     		orrs	r1, r1, r0
 2686 015e D977     		strb	r1, [r3, #31]
 893:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.Reserved3 = 0;
 2687              		.loc 1 893 3 is_stmt 1 view .LVU989
 893:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.Reserved3 = 0;
 2688              		.loc 1 893 55 is_stmt 0 view .LVU990
 2689 0160 C2F34051 		ubfx	r1, r2, #21, #1
 893:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.Reserved3 = 0;
 2690              		.loc 1 893 40 view .LVU991
 2691 0164 83F82010 		strb	r1, [r3, #32]
 894:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.ContentProtectAppli = (tmp & 0x01);
 2692              		.loc 1 894 3 is_stmt 1 view .LVU992
 894:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.ContentProtectAppli = (tmp & 0x01);
 2693              		.loc 1 894 30 is_stmt 0 view .LVU993
 2694 0168 0020     		movs	r0, #0
 2695 016a 83F82100 		strb	r0, [r3, #33]
 895:HW/SDCard/SDCard_sdio.c **** 
 2696              		.loc 1 895 3 is_stmt 1 view .LVU994
 895:HW/SDCard/SDCard_sdio.c **** 
 2697              		.loc 1 895 47 is_stmt 0 view .LVU995
 2698 016e C2F30041 		ubfx	r1, r2, #16, #1
 895:HW/SDCard/SDCard_sdio.c **** 
 2699              		.loc 1 895 40 view .LVU996
 2700 0172 83F82210 		strb	r1, [r3, #34]
 898:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.FileFormatGrouop = (tmp & 0x80) >> 7;
 2701              		.loc 1 898 3 is_stmt 1 view .LVU997
 2702              	.LVL229:
 899:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.CopyFlag = (tmp & 0x40) >> 6;
 2703              		.loc 1 899 3 view .LVU998
 899:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.CopyFlag = (tmp & 0x40) >> 6;
 2704              		.loc 1 899 52 is_stmt 0 view .LVU999
 2705 0176 C2F3C031 		ubfx	r1, r2, #15, #1
 899:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.CopyFlag = (tmp & 0x40) >> 6;
 2706              		.loc 1 899 37 view .LVU1000
 2707 017a 83F82310 		strb	r1, [r3, #35]
 900:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.PermWrProtect = (tmp & 0x20) >> 5;
 2708              		.loc 1 900 3 is_stmt 1 view .LVU1001
 900:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.PermWrProtect = (tmp & 0x20) >> 5;
 2709              		.loc 1 900 44 is_stmt 0 view .LVU1002
 2710 017e C2F38031 		ubfx	r1, r2, #14, #1
 900:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.PermWrProtect = (tmp & 0x20) >> 5;
 2711              		.loc 1 900 29 view .LVU1003
 2712 0182 83F82410 		strb	r1, [r3, #36]
 901:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.TempWrProtect = (tmp & 0x10) >> 4;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 108


 2713              		.loc 1 901 3 is_stmt 1 view .LVU1004
 901:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.TempWrProtect = (tmp & 0x10) >> 4;
 2714              		.loc 1 901 49 is_stmt 0 view .LVU1005
 2715 0186 C2F34031 		ubfx	r1, r2, #13, #1
 901:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.TempWrProtect = (tmp & 0x10) >> 4;
 2716              		.loc 1 901 34 view .LVU1006
 2717 018a 83F82510 		strb	r1, [r3, #37]
 902:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.FileFormat = (tmp & 0x0C) >> 2;
 2718              		.loc 1 902 3 is_stmt 1 view .LVU1007
 902:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.FileFormat = (tmp & 0x0C) >> 2;
 2719              		.loc 1 902 49 is_stmt 0 view .LVU1008
 2720 018e C2F30031 		ubfx	r1, r2, #12, #1
 902:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.FileFormat = (tmp & 0x0C) >> 2;
 2721              		.loc 1 902 34 view .LVU1009
 2722 0192 83F82610 		strb	r1, [r3, #38]
 903:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.ECC = (tmp & 0x03);
 2723              		.loc 1 903 3 is_stmt 1 view .LVU1010
 903:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.ECC = (tmp & 0x03);
 2724              		.loc 1 903 46 is_stmt 0 view .LVU1011
 2725 0196 C2F38121 		ubfx	r1, r2, #10, #2
 903:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.ECC = (tmp & 0x03);
 2726              		.loc 1 903 31 view .LVU1012
 2727 019a 83F82710 		strb	r1, [r3, #39]
 904:HW/SDCard/SDCard_sdio.c **** 
 2728              		.loc 1 904 3 is_stmt 1 view .LVU1013
 904:HW/SDCard/SDCard_sdio.c **** 
 2729              		.loc 1 904 31 is_stmt 0 view .LVU1014
 2730 019e C2F30121 		ubfx	r1, r2, #8, #2
 904:HW/SDCard/SDCard_sdio.c **** 
 2731              		.loc 1 904 24 view .LVU1015
 2732 01a2 83F82810 		strb	r1, [r3, #40]
 907:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.CSD_CRC = (tmp & 0xFE) >> 1;
 2733              		.loc 1 907 3 is_stmt 1 view .LVU1016
 2734              	.LVL230:
 908:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.Reserved4 = 1;
 2735              		.loc 1 908 3 view .LVU1017
 908:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.Reserved4 = 1;
 2736              		.loc 1 908 43 is_stmt 0 view .LVU1018
 2737 01a6 C2F34602 		ubfx	r2, r2, #1, #7
 2738              	.LVL231:
 908:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_csd.Reserved4 = 1;
 2739              		.loc 1 908 28 view .LVU1019
 2740 01aa 83F82920 		strb	r2, [r3, #41]
 909:HW/SDCard/SDCard_sdio.c **** 
 2741              		.loc 1 909 3 is_stmt 1 view .LVU1020
 909:HW/SDCard/SDCard_sdio.c **** 
 2742              		.loc 1 909 30 is_stmt 0 view .LVU1021
 2743 01ae 4FF0010C 		mov	ip, #1
 2744 01b2 83F82AC0 		strb	ip, [r3, #42]
 913:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ManufacturerID = tmp;
 2745              		.loc 1 913 3 is_stmt 1 view .LVU1022
 913:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ManufacturerID = tmp;
 2746              		.loc 1 913 27 is_stmt 0 view .LVU1023
 2747 01b6 3149     		ldr	r1, .L164+12
 2748 01b8 0A68     		ldr	r2, [r1]
 913:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ManufacturerID = tmp;
 2749              		.loc 1 913 7 view .LVU1024
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 109


 2750 01ba 140E     		lsrs	r4, r2, #24
 2751              	.LVL232:
 914:HW/SDCard/SDCard_sdio.c **** 
 2752              		.loc 1 914 3 is_stmt 1 view .LVU1025
 914:HW/SDCard/SDCard_sdio.c **** 
 2753              		.loc 1 914 35 is_stmt 0 view .LVU1026
 2754 01bc 83F82C40 		strb	r4, [r3, #44]
 917:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.OEM_AppliID = tmp << 8;
 2755              		.loc 1 917 3 is_stmt 1 view .LVU1027
 917:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.OEM_AppliID = tmp << 8;
 2756              		.loc 1 917 7 is_stmt 0 view .LVU1028
 2757 01c0 C2F30744 		ubfx	r4, r2, #16, #8
 2758              	.LVL233:
 918:HW/SDCard/SDCard_sdio.c **** 
 2759              		.loc 1 918 3 is_stmt 1 view .LVU1029
 918:HW/SDCard/SDCard_sdio.c **** 
 2760              		.loc 1 918 38 is_stmt 0 view .LVU1030
 2761 01c4 2402     		lsls	r4, r4, #8
 2762              	.LVL234:
 918:HW/SDCard/SDCard_sdio.c **** 
 2763              		.loc 1 918 32 view .LVU1031
 2764 01c6 DC85     		strh	r4, [r3, #46]	@ movhi
 921:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.OEM_AppliID |= tmp;
 2765              		.loc 1 921 3 is_stmt 1 view .LVU1032
 921:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.OEM_AppliID |= tmp;
 2766              		.loc 1 921 7 is_stmt 0 view .LVU1033
 2767 01c8 C2F30724 		ubfx	r4, r2, #8, #8
 2768              	.LVL235:
 922:HW/SDCard/SDCard_sdio.c **** 
 2769              		.loc 1 922 3 is_stmt 1 view .LVU1034
 922:HW/SDCard/SDCard_sdio.c **** 
 2770              		.loc 1 922 19 is_stmt 0 view .LVU1035
 2771 01cc B3F82EE0 		ldrh	lr, [r3, #46]
 2772 01d0 1FFA8EFE 		uxth	lr, lr
 922:HW/SDCard/SDCard_sdio.c **** 
 2773              		.loc 1 922 32 view .LVU1036
 2774 01d4 44EA0E04 		orr	r4, r4, lr
 2775              	.LVL236:
 922:HW/SDCard/SDCard_sdio.c **** 
 2776              		.loc 1 922 32 view .LVU1037
 2777 01d8 DC85     		strh	r4, [r3, #46]	@ movhi
 925:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdName1 = tmp << 24;
 2778              		.loc 1 925 3 is_stmt 1 view .LVU1038
 2779              	.LVL237:
 926:HW/SDCard/SDCard_sdio.c **** 
 2780              		.loc 1 926 3 view .LVU1039
 926:HW/SDCard/SDCard_sdio.c **** 
 2781              		.loc 1 926 36 is_stmt 0 view .LVU1040
 2782 01da 1206     		lsls	r2, r2, #24
 2783              	.LVL238:
 926:HW/SDCard/SDCard_sdio.c **** 
 2784              		.loc 1 926 30 view .LVU1041
 2785 01dc 1A63     		str	r2, [r3, #48]
 929:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdName1 |= tmp << 16;
 2786              		.loc 1 929 3 is_stmt 1 view .LVU1042
 929:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdName1 |= tmp << 16;
 2787              		.loc 1 929 27 is_stmt 0 view .LVU1043
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 110


 2788 01de 4A68     		ldr	r2, [r1, #4]
 929:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdName1 |= tmp << 16;
 2789              		.loc 1 929 45 view .LVU1044
 2790 01e0 150E     		lsrs	r5, r2, #24
 2791              	.LVL239:
 930:HW/SDCard/SDCard_sdio.c **** 
 2792              		.loc 1 930 3 is_stmt 1 view .LVU1045
 930:HW/SDCard/SDCard_sdio.c **** 
 2793              		.loc 1 930 19 is_stmt 0 view .LVU1046
 2794 01e2 1C6B     		ldr	r4, [r3, #48]
 930:HW/SDCard/SDCard_sdio.c **** 
 2795              		.loc 1 930 30 view .LVU1047
 2796 01e4 44EA0544 		orr	r4, r4, r5, lsl #16
 2797 01e8 1C63     		str	r4, [r3, #48]
 933:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdName1 |= tmp << 8;
 2798              		.loc 1 933 3 is_stmt 1 view .LVU1048
 2799              	.LVL240:
 934:HW/SDCard/SDCard_sdio.c **** 
 2800              		.loc 1 934 3 view .LVU1049
 934:HW/SDCard/SDCard_sdio.c **** 
 2801              		.loc 1 934 19 is_stmt 0 view .LVU1050
 2802 01ea 1C6B     		ldr	r4, [r3, #48]
 934:HW/SDCard/SDCard_sdio.c **** 
 2803              		.loc 1 934 37 view .LVU1051
 2804 01ec C2F30745 		ubfx	r5, r2, #16, #8
 934:HW/SDCard/SDCard_sdio.c **** 
 2805              		.loc 1 934 30 view .LVU1052
 2806 01f0 44EA0524 		orr	r4, r4, r5, lsl #8
 2807 01f4 1C63     		str	r4, [r3, #48]
 937:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdName1 |= tmp;
 2808              		.loc 1 937 3 is_stmt 1 view .LVU1053
 2809              	.LVL241:
 938:HW/SDCard/SDCard_sdio.c **** 
 2810              		.loc 1 938 3 view .LVU1054
 938:HW/SDCard/SDCard_sdio.c **** 
 2811              		.loc 1 938 19 is_stmt 0 view .LVU1055
 2812 01f6 1D6B     		ldr	r5, [r3, #48]
 938:HW/SDCard/SDCard_sdio.c **** 
 2813              		.loc 1 938 30 view .LVU1056
 2814 01f8 C2F30724 		ubfx	r4, r2, #8, #8
 2815 01fc 2C43     		orrs	r4, r4, r5
 2816 01fe 1C63     		str	r4, [r3, #48]
 941:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdName2 = tmp;
 2817              		.loc 1 941 3 is_stmt 1 view .LVU1057
 941:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdName2 = tmp;
 2818              		.loc 1 941 7 is_stmt 0 view .LVU1058
 2819 0200 D2B2     		uxtb	r2, r2
 2820              	.LVL242:
 942:HW/SDCard/SDCard_sdio.c **** 
 2821              		.loc 1 942 3 is_stmt 1 view .LVU1059
 942:HW/SDCard/SDCard_sdio.c **** 
 2822              		.loc 1 942 30 is_stmt 0 view .LVU1060
 2823 0202 83F83420 		strb	r2, [r3, #52]
 945:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdRev = tmp;
 2824              		.loc 1 945 3 is_stmt 1 view .LVU1061
 945:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdRev = tmp;
 2825              		.loc 1 945 27 is_stmt 0 view .LVU1062
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 111


 2826 0206 8A68     		ldr	r2, [r1, #8]
 2827              	.LVL243:
 945:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdRev = tmp;
 2828              		.loc 1 945 7 view .LVU1063
 2829 0208 140E     		lsrs	r4, r2, #24
 2830              	.LVL244:
 946:HW/SDCard/SDCard_sdio.c **** 
 2831              		.loc 1 946 3 is_stmt 1 view .LVU1064
 946:HW/SDCard/SDCard_sdio.c **** 
 2832              		.loc 1 946 28 is_stmt 0 view .LVU1065
 2833 020a 83F83540 		strb	r4, [r3, #53]
 949:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdSN = tmp << 24;
 2834              		.loc 1 949 3 is_stmt 1 view .LVU1066
 2835              	.LVL245:
 950:HW/SDCard/SDCard_sdio.c **** 
 2836              		.loc 1 950 3 view .LVU1067
 950:HW/SDCard/SDCard_sdio.c **** 
 2837              		.loc 1 950 33 is_stmt 0 view .LVU1068
 2838 020e C2F30744 		ubfx	r4, r2, #16, #8
 2839 0212 2406     		lsls	r4, r4, #24
 950:HW/SDCard/SDCard_sdio.c **** 
 2840              		.loc 1 950 27 view .LVU1069
 2841 0214 9C63     		str	r4, [r3, #56]
 953:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdSN |= tmp << 16;
 2842              		.loc 1 953 3 is_stmt 1 view .LVU1070
 2843              	.LVL246:
 954:HW/SDCard/SDCard_sdio.c **** 
 2844              		.loc 1 954 3 view .LVU1071
 954:HW/SDCard/SDCard_sdio.c **** 
 2845              		.loc 1 954 19 is_stmt 0 view .LVU1072
 2846 0216 9C6B     		ldr	r4, [r3, #56]
 954:HW/SDCard/SDCard_sdio.c **** 
 2847              		.loc 1 954 34 view .LVU1073
 2848 0218 C2F3072E 		ubfx	lr, r2, #8, #8
 954:HW/SDCard/SDCard_sdio.c **** 
 2849              		.loc 1 954 27 view .LVU1074
 2850 021c 44EA0E44 		orr	r4, r4, lr, lsl #16
 2851 0220 9C63     		str	r4, [r3, #56]
 957:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdSN |= tmp << 8;
 2852              		.loc 1 957 3 is_stmt 1 view .LVU1075
 2853              	.LVL247:
 958:HW/SDCard/SDCard_sdio.c **** 
 2854              		.loc 1 958 3 view .LVU1076
 958:HW/SDCard/SDCard_sdio.c **** 
 2855              		.loc 1 958 19 is_stmt 0 view .LVU1077
 2856 0222 9C6B     		ldr	r4, [r3, #56]
 958:HW/SDCard/SDCard_sdio.c **** 
 2857              		.loc 1 958 34 view .LVU1078
 2858 0224 D2B2     		uxtb	r2, r2
 958:HW/SDCard/SDCard_sdio.c **** 
 2859              		.loc 1 958 27 view .LVU1079
 2860 0226 44EA0222 		orr	r2, r4, r2, lsl #8
 2861              	.LVL248:
 958:HW/SDCard/SDCard_sdio.c **** 
 2862              		.loc 1 958 27 view .LVU1080
 2863 022a 9A63     		str	r2, [r3, #56]
 961:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdSN |= tmp;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 112


 2864              		.loc 1 961 3 is_stmt 1 view .LVU1081
 961:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ProdSN |= tmp;
 2865              		.loc 1 961 27 is_stmt 0 view .LVU1082
 2866 022c CA68     		ldr	r2, [r1, #12]
 2867              	.LVL249:
 962:HW/SDCard/SDCard_sdio.c **** 
 2868              		.loc 1 962 3 is_stmt 1 view .LVU1083
 962:HW/SDCard/SDCard_sdio.c **** 
 2869              		.loc 1 962 19 is_stmt 0 view .LVU1084
 2870 022e 996B     		ldr	r1, [r3, #56]
 962:HW/SDCard/SDCard_sdio.c **** 
 2871              		.loc 1 962 27 view .LVU1085
 2872 0230 41EA1261 		orr	r1, r1, r2, lsr #24
 2873 0234 9963     		str	r1, [r3, #56]
 965:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.Reserved1 |= (tmp & 0xF0) >> 4;
 2874              		.loc 1 965 3 is_stmt 1 view .LVU1086
 965:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.Reserved1 |= (tmp & 0xF0) >> 4;
 2875              		.loc 1 965 45 is_stmt 0 view .LVU1087
 2876 0236 110C     		lsrs	r1, r2, #16
 2877              	.LVL250:
 966:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ManufactDate = (tmp & 0x0F) << 8;
 2878              		.loc 1 966 3 is_stmt 1 view .LVU1088
 966:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ManufactDate = (tmp & 0x0F) << 8;
 2879              		.loc 1 966 19 is_stmt 0 view .LVU1089
 2880 0238 93F83CE0 		ldrb	lr, [r3, #60]	@ zero_extendqisi2
 966:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ManufactDate = (tmp & 0x0F) << 8;
 2881              		.loc 1 966 46 view .LVU1090
 2882 023c C2F30354 		ubfx	r4, r2, #20, #4
 966:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ManufactDate = (tmp & 0x0F) << 8;
 2883              		.loc 1 966 30 view .LVU1091
 2884 0240 4EEA040E 		orr	lr, lr, r4
 2885 0244 83F83CE0 		strb	lr, [r3, #60]
 967:HW/SDCard/SDCard_sdio.c **** 
 2886              		.loc 1 967 3 is_stmt 1 view .LVU1092
 967:HW/SDCard/SDCard_sdio.c **** 
 2887              		.loc 1 967 48 is_stmt 0 view .LVU1093
 2888 0248 0902     		lsls	r1, r1, #8
 2889 024a 01F47061 		and	r1, r1, #3840
 967:HW/SDCard/SDCard_sdio.c **** 
 2890              		.loc 1 967 33 view .LVU1094
 2891 024e D987     		strh	r1, [r3, #62]	@ movhi
 970:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ManufactDate |= tmp;
 2892              		.loc 1 970 3 is_stmt 1 view .LVU1095
 970:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.ManufactDate |= tmp;
 2893              		.loc 1 970 7 is_stmt 0 view .LVU1096
 2894 0250 C2F30721 		ubfx	r1, r2, #8, #8
 2895              	.LVL251:
 971:HW/SDCard/SDCard_sdio.c **** 
 2896              		.loc 1 971 3 is_stmt 1 view .LVU1097
 971:HW/SDCard/SDCard_sdio.c **** 
 2897              		.loc 1 971 19 is_stmt 0 view .LVU1098
 2898 0254 B3F83EE0 		ldrh	lr, [r3, #62]
 2899 0258 1FFA8EFE 		uxth	lr, lr
 971:HW/SDCard/SDCard_sdio.c **** 
 2900              		.loc 1 971 33 view .LVU1099
 2901 025c 41EA0E01 		orr	r1, r1, lr
 2902              	.LVL252:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 113


 971:HW/SDCard/SDCard_sdio.c **** 
 2903              		.loc 1 971 33 view .LVU1100
 2904 0260 D987     		strh	r1, [r3, #62]	@ movhi
 974:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.CID_CRC = (tmp & 0xFE) >> 1;
 2905              		.loc 1 974 3 is_stmt 1 view .LVU1101
 2906              	.LVL253:
 975:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.Reserved2 = 1;
 2907              		.loc 1 975 3 view .LVU1102
 975:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.Reserved2 = 1;
 2908              		.loc 1 975 43 is_stmt 0 view .LVU1103
 2909 0262 C2F34602 		ubfx	r2, r2, #1, #7
 2910              	.LVL254:
 975:HW/SDCard/SDCard_sdio.c ****   cardinfo->SD_cid.Reserved2 = 1;
 2911              		.loc 1 975 28 view .LVU1104
 2912 0266 83F84020 		strb	r2, [r3, #64]
 976:HW/SDCard/SDCard_sdio.c ****   
 2913              		.loc 1 976 3 is_stmt 1 view .LVU1105
 976:HW/SDCard/SDCard_sdio.c ****   
 2914              		.loc 1 976 30 is_stmt 0 view .LVU1106
 2915 026a 83F841C0 		strb	ip, [r3, #65]
 978:HW/SDCard/SDCard_sdio.c **** }
 2916              		.loc 1 978 3 is_stmt 1 view .LVU1107
 979:HW/SDCard/SDCard_sdio.c **** 
 2917              		.loc 1 979 1 is_stmt 0 view .LVU1108
 2918 026e 30BD     		pop	{r4, r5, pc}
 2919              	.L165:
 2920              		.align	2
 2921              	.L164:
 2922 0270 00000000 		.word	CardType
 2923 0274 00000000 		.word	RCA
 2924 0278 00000000 		.word	CSD_Tab
 2925 027c 00000000 		.word	CID_Tab
 2926              		.cfi_endproc
 2927              	.LFE37:
 2929              		.section	.text.SD_EnableWideBusOperation,"ax",%progbits
 2930              		.align	1
 2931              		.global	SD_EnableWideBusOperation
 2932              		.syntax unified
 2933              		.thumb
 2934              		.thumb_func
 2936              	SD_EnableWideBusOperation:
 2937              	.LVL255:
 2938              	.LFB39:
1077:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 2939              		.loc 1 1077 1 is_stmt 1 view -0
 2940              		.cfi_startproc
 2941              		@ args = 0, pretend = 0, frame = 0
 2942              		@ frame_needed = 0, uses_anonymous_args = 0
1077:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 2943              		.loc 1 1077 1 is_stmt 0 view .LVU1110
 2944 0000 10B5     		push	{r4, lr}
 2945              	.LCFI30:
 2946              		.cfi_def_cfa_offset 8
 2947              		.cfi_offset 4, -8
 2948              		.cfi_offset 14, -4
1078:HW/SDCard/SDCard_sdio.c **** 
 2949              		.loc 1 1078 3 is_stmt 1 view .LVU1111
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 114


 2950              	.LVL256:
1081:HW/SDCard/SDCard_sdio.c ****   {
 2951              		.loc 1 1081 3 view .LVU1112
1081:HW/SDCard/SDCard_sdio.c ****   {
 2952              		.loc 1 1081 28 is_stmt 0 view .LVU1113
 2953 0002 1B4B     		ldr	r3, .L174
 2954 0004 1B68     		ldr	r3, [r3]
1081:HW/SDCard/SDCard_sdio.c ****   {
 2955              		.loc 1 1081 6 view .LVU1114
 2956 0006 032B     		cmp	r3, #3
 2957 0008 2BD0     		beq	.L169
1086:HW/SDCard/SDCard_sdio.c ****   {
 2958              		.loc 1 1086 8 is_stmt 1 view .LVU1115
1086:HW/SDCard/SDCard_sdio.c ****   {
 2959              		.loc 1 1086 11 is_stmt 0 view .LVU1116
 2960 000a 022B     		cmp	r3, #2
 2961 000c 2BD8     		bhi	.L170
1088:HW/SDCard/SDCard_sdio.c ****     {
 2962              		.loc 1 1088 5 is_stmt 1 view .LVU1117
1088:HW/SDCard/SDCard_sdio.c ****     {
 2963              		.loc 1 1088 8 is_stmt 0 view .LVU1118
 2964 000e B0F5805F 		cmp	r0, #4096
 2965 0012 2BD0     		beq	.L171
1093:HW/SDCard/SDCard_sdio.c ****     {
 2966              		.loc 1 1093 10 is_stmt 1 view .LVU1119
1093:HW/SDCard/SDCard_sdio.c ****     {
 2967              		.loc 1 1093 13 is_stmt 0 view .LVU1120
 2968 0014 B0F5006F 		cmp	r0, #2048
 2969 0018 10D0     		beq	.L173
1111:HW/SDCard/SDCard_sdio.c **** 
 2970              		.loc 1 1111 7 is_stmt 1 view .LVU1121
1111:HW/SDCard/SDCard_sdio.c **** 
 2971              		.loc 1 1111 21 is_stmt 0 view .LVU1122
 2972 001a 0020     		movs	r0, #0
 2973              	.LVL257:
1111:HW/SDCard/SDCard_sdio.c **** 
 2974              		.loc 1 1111 21 view .LVU1123
 2975 001c FFF7FEFF 		bl	SDEnWideBus
 2976              	.LVL258:
1113:HW/SDCard/SDCard_sdio.c ****       {
 2977              		.loc 1 1113 7 is_stmt 1 view .LVU1124
1113:HW/SDCard/SDCard_sdio.c ****       {
 2978              		.loc 1 1113 10 is_stmt 0 view .LVU1125
 2979 0020 0446     		mov	r4, r0
 2980 0022 08BB     		cbnz	r0, .L167
1116:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 2981              		.loc 1 1116 9 is_stmt 1 view .LVU1126
1116:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 2982              		.loc 1 1116 42 is_stmt 0 view .LVU1127
 2983 0024 1348     		ldr	r0, .L174+4
 2984              	.LVL259:
1116:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 2985              		.loc 1 1116 42 view .LVU1128
 2986 0026 0323     		movs	r3, #3
 2987 0028 0375     		strb	r3, [r0, #20]
1117:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
 2988              		.loc 1 1117 9 is_stmt 1 view .LVU1129
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 115


1117:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
 2989              		.loc 1 1117 43 is_stmt 0 view .LVU1130
 2990 002a 0023     		movs	r3, #0
 2991 002c 0360     		str	r3, [r0]
1118:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
 2992              		.loc 1 1118 9 is_stmt 1 view .LVU1131
1118:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
 2993              		.loc 1 1118 45 is_stmt 0 view .LVU1132
 2994 002e 4360     		str	r3, [r0, #4]
1119:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_1b;
 2995              		.loc 1 1119 9 is_stmt 1 view .LVU1133
1119:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_1b;
 2996              		.loc 1 1119 48 is_stmt 0 view .LVU1134
 2997 0030 8360     		str	r3, [r0, #8]
1120:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
 2998              		.loc 1 1120 9 is_stmt 1 view .LVU1135
1120:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
 2999              		.loc 1 1120 41 is_stmt 0 view .LVU1136
 3000 0032 C360     		str	r3, [r0, #12]
1121:HW/SDCard/SDCard_sdio.c ****         SDIO_Init(&SDIO_InitStructure);
 3001              		.loc 1 1121 9 is_stmt 1 view .LVU1137
1121:HW/SDCard/SDCard_sdio.c ****         SDIO_Init(&SDIO_InitStructure);
 3002              		.loc 1 1121 53 is_stmt 0 view .LVU1138
 3003 0034 0361     		str	r3, [r0, #16]
1122:HW/SDCard/SDCard_sdio.c ****       }
 3004              		.loc 1 1122 9 is_stmt 1 view .LVU1139
 3005 0036 FFF7FEFF 		bl	SDIO_Init
 3006              	.LVL260:
 3007 003a 15E0     		b	.L167
 3008              	.LVL261:
 3009              	.L173:
1095:HW/SDCard/SDCard_sdio.c **** 
 3010              		.loc 1 1095 7 view .LVU1140
1095:HW/SDCard/SDCard_sdio.c **** 
 3011              		.loc 1 1095 21 is_stmt 0 view .LVU1141
 3012 003c 0120     		movs	r0, #1
 3013              	.LVL262:
1095:HW/SDCard/SDCard_sdio.c **** 
 3014              		.loc 1 1095 21 view .LVU1142
 3015 003e FFF7FEFF 		bl	SDEnWideBus
 3016              	.LVL263:
1097:HW/SDCard/SDCard_sdio.c ****       {
 3017              		.loc 1 1097 7 is_stmt 1 view .LVU1143
1097:HW/SDCard/SDCard_sdio.c ****       {
 3018              		.loc 1 1097 10 is_stmt 0 view .LVU1144
 3019 0042 0446     		mov	r4, r0
 3020 0044 80B9     		cbnz	r0, .L167
1100:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 3021              		.loc 1 1100 9 is_stmt 1 view .LVU1145
1100:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 3022              		.loc 1 1100 42 is_stmt 0 view .LVU1146
 3023 0046 0B48     		ldr	r0, .L174+4
 3024              	.LVL264:
1100:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 3025              		.loc 1 1100 42 view .LVU1147
 3026 0048 0323     		movs	r3, #3
 3027 004a 0375     		strb	r3, [r0, #20]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 116


1101:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
 3028              		.loc 1 1101 9 is_stmt 1 view .LVU1148
1101:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
 3029              		.loc 1 1101 43 is_stmt 0 view .LVU1149
 3030 004c 0023     		movs	r3, #0
 3031 004e 0360     		str	r3, [r0]
1102:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
 3032              		.loc 1 1102 9 is_stmt 1 view .LVU1150
1102:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
 3033              		.loc 1 1102 45 is_stmt 0 view .LVU1151
 3034 0050 4360     		str	r3, [r0, #4]
1103:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_4b;
 3035              		.loc 1 1103 9 is_stmt 1 view .LVU1152
1103:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_4b;
 3036              		.loc 1 1103 48 is_stmt 0 view .LVU1153
 3037 0052 8360     		str	r3, [r0, #8]
1104:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
 3038              		.loc 1 1104 9 is_stmt 1 view .LVU1154
1104:HW/SDCard/SDCard_sdio.c ****         SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
 3039              		.loc 1 1104 41 is_stmt 0 view .LVU1155
 3040 0054 4FF40062 		mov	r2, #2048
 3041 0058 C260     		str	r2, [r0, #12]
1105:HW/SDCard/SDCard_sdio.c ****         SDIO_Init(&SDIO_InitStructure);
 3042              		.loc 1 1105 9 is_stmt 1 view .LVU1156
1105:HW/SDCard/SDCard_sdio.c ****         SDIO_Init(&SDIO_InitStructure);
 3043              		.loc 1 1105 53 is_stmt 0 view .LVU1157
 3044 005a 0361     		str	r3, [r0, #16]
1106:HW/SDCard/SDCard_sdio.c ****       }
 3045              		.loc 1 1106 9 is_stmt 1 view .LVU1158
 3046 005c FFF7FEFF 		bl	SDIO_Init
 3047              	.LVL265:
 3048 0060 02E0     		b	.L167
 3049              	.LVL266:
 3050              	.L169:
1084:HW/SDCard/SDCard_sdio.c ****   }
 3051              		.loc 1 1084 11 is_stmt 0 view .LVU1159
 3052 0062 2724     		movs	r4, #39
 3053 0064 00E0     		b	.L167
 3054              	.L170:
1078:HW/SDCard/SDCard_sdio.c **** 
 3055              		.loc 1 1078 12 view .LVU1160
 3056 0066 0024     		movs	r4, #0
 3057              	.LVL267:
 3058              	.L167:
1128:HW/SDCard/SDCard_sdio.c **** 
 3059              		.loc 1 1128 1 view .LVU1161
 3060 0068 2046     		mov	r0, r4
 3061 006a 10BD     		pop	{r4, pc}
 3062              	.LVL268:
 3063              	.L171:
1091:HW/SDCard/SDCard_sdio.c ****     }
 3064              		.loc 1 1091 13 view .LVU1162
 3065 006c 2724     		movs	r4, #39
 3066 006e FBE7     		b	.L167
 3067              	.L175:
 3068              		.align	2
 3069              	.L174:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 117


 3070 0070 00000000 		.word	CardType
 3071 0074 00000000 		.word	SDIO_InitStructure
 3072              		.cfi_endproc
 3073              	.LFE39:
 3075              		.section	.text.SD_SelectDeselect,"ax",%progbits
 3076              		.align	1
 3077              		.global	SD_SelectDeselect
 3078              		.syntax unified
 3079              		.thumb
 3080              		.thumb_func
 3082              	SD_SelectDeselect:
 3083              	.LVL269:
 3084              	.LFB40:
1136:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 3085              		.loc 1 1136 1 is_stmt 1 view -0
 3086              		.cfi_startproc
 3087              		@ args = 0, pretend = 0, frame = 0
 3088              		@ frame_needed = 0, uses_anonymous_args = 0
1136:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 3089              		.loc 1 1136 1 is_stmt 0 view .LVU1164
 3090 0000 10B5     		push	{r4, lr}
 3091              	.LCFI31:
 3092              		.cfi_def_cfa_offset 8
 3093              		.cfi_offset 4, -8
 3094              		.cfi_offset 14, -4
1137:HW/SDCard/SDCard_sdio.c **** 
 3095              		.loc 1 1137 3 is_stmt 1 view .LVU1165
 3096              	.LVL270:
1140:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SEL_DESEL_CARD;
 3097              		.loc 1 1140 3 view .LVU1166
1140:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SEL_DESEL_CARD;
 3098              		.loc 1 1140 39 is_stmt 0 view .LVU1167
 3099 0002 094B     		ldr	r3, .L178
 3100 0004 1860     		str	r0, [r3]
1141:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3101              		.loc 1 1141 3 is_stmt 1 view .LVU1168
1141:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3102              		.loc 1 1141 39 is_stmt 0 view .LVU1169
 3103 0006 0724     		movs	r4, #7
 3104 0008 5C60     		str	r4, [r3, #4]
1142:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3105              		.loc 1 1142 3 is_stmt 1 view .LVU1170
1142:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3106              		.loc 1 1142 39 is_stmt 0 view .LVU1171
 3107 000a 4022     		movs	r2, #64
 3108 000c 9A60     		str	r2, [r3, #8]
1143:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3109              		.loc 1 1143 3 is_stmt 1 view .LVU1172
1143:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3110              		.loc 1 1143 35 is_stmt 0 view .LVU1173
 3111 000e 0022     		movs	r2, #0
 3112 0010 DA60     		str	r2, [r3, #12]
1144:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 3113              		.loc 1 1144 3 is_stmt 1 view .LVU1174
1144:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 3114              		.loc 1 1144 35 is_stmt 0 view .LVU1175
 3115 0012 4FF48062 		mov	r2, #1024
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 118


 3116 0016 1A61     		str	r2, [r3, #16]
1145:HW/SDCard/SDCard_sdio.c **** 
 3117              		.loc 1 1145 3 is_stmt 1 view .LVU1176
 3118 0018 1846     		mov	r0, r3
 3119              	.LVL271:
1145:HW/SDCard/SDCard_sdio.c **** 
 3120              		.loc 1 1145 3 is_stmt 0 view .LVU1177
 3121 001a FFF7FEFF 		bl	SDIO_SendCommand
 3122              	.LVL272:
1147:HW/SDCard/SDCard_sdio.c **** 
 3123              		.loc 1 1147 3 is_stmt 1 view .LVU1178
1147:HW/SDCard/SDCard_sdio.c **** 
 3124              		.loc 1 1147 17 is_stmt 0 view .LVU1179
 3125 001e 2046     		mov	r0, r4
 3126 0020 FFF7FEFF 		bl	CmdResp1Error
 3127              	.LVL273:
1149:HW/SDCard/SDCard_sdio.c **** }
 3128              		.loc 1 1149 3 is_stmt 1 view .LVU1180
1150:HW/SDCard/SDCard_sdio.c **** 
 3129              		.loc 1 1150 1 is_stmt 0 view .LVU1181
 3130 0024 10BD     		pop	{r4, pc}
 3131              	.L179:
 3132 0026 00BF     		.align	2
 3133              	.L178:
 3134 0028 00000000 		.word	SDIO_CmdInitStructure
 3135              		.cfi_endproc
 3136              	.LFE40:
 3138              		.section	.text.SD_WaitReadOperation,"ax",%progbits
 3139              		.align	1
 3140              		.global	SD_WaitReadOperation
 3141              		.syntax unified
 3142              		.thumb
 3143              		.thumb_func
 3145              	SD_WaitReadOperation:
 3146              	.LFB43:
1350:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 3147              		.loc 1 1350 1 is_stmt 1 view -0
 3148              		.cfi_startproc
 3149              		@ args = 0, pretend = 0, frame = 0
 3150              		@ frame_needed = 0, uses_anonymous_args = 0
 3151 0000 08B5     		push	{r3, lr}
 3152              	.LCFI32:
 3153              		.cfi_def_cfa_offset 8
 3154              		.cfi_offset 3, -8
 3155              		.cfi_offset 14, -4
 3156              	.L182:
 3157              	.LBB2:
1354:HW/SDCard/SDCard_sdio.c **** 
 3158              		.loc 1 1354 4 discriminator 3 view .LVU1183
1353:HW/SDCard/SDCard_sdio.c ****   {}
 3159              		.loc 1 1353 71 discriminator 3 view .LVU1184
1353:HW/SDCard/SDCard_sdio.c ****   {}
 3160              		.loc 1 1353 11 is_stmt 0 discriminator 3 view .LVU1185
 3161 0002 FFF7FEFF 		bl	SD_DMAEndOfTransferStatus
 3162              	.LVL274:
1353:HW/SDCard/SDCard_sdio.c ****   {}
 3163              		.loc 1 1353 71 discriminator 3 view .LVU1186
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 119


 3164 0006 30B9     		cbnz	r0, .L181
1353:HW/SDCard/SDCard_sdio.c ****   {}
 3165              		.loc 1 1353 65 discriminator 1 view .LVU1187
 3166 0008 084B     		ldr	r3, .L186
 3167 000a 1B68     		ldr	r3, [r3]
1353:HW/SDCard/SDCard_sdio.c ****   {}
 3168              		.loc 1 1353 49 discriminator 1 view .LVU1188
 3169 000c 1BB9     		cbnz	r3, .L181
1353:HW/SDCard/SDCard_sdio.c ****   {}
 3170              		.loc 1 1353 89 discriminator 2 view .LVU1189
 3171 000e 084B     		ldr	r3, .L186+4
 3172 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1353:HW/SDCard/SDCard_sdio.c ****   {}
 3173              		.loc 1 1353 71 discriminator 2 view .LVU1190
 3174 0012 002B     		cmp	r3, #0
 3175 0014 F5D0     		beq	.L182
 3176              	.L181:
 3177              	.LBE2:
1356:HW/SDCard/SDCard_sdio.c ****   {
 3178              		.loc 1 1356 3 is_stmt 1 view .LVU1191
1356:HW/SDCard/SDCard_sdio.c ****   {
 3179              		.loc 1 1356 21 is_stmt 0 view .LVU1192
 3180 0016 064B     		ldr	r3, .L186+4
 3181 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1356:HW/SDCard/SDCard_sdio.c ****   {
 3182              		.loc 1 1356 6 view .LVU1193
 3183 001a 03F0FF00 		and	r0, r3, #255
 3184 001e 03B9     		cbnz	r3, .L185
 3185              	.L183:
1362:HW/SDCard/SDCard_sdio.c **** 
 3186              		.loc 1 1362 1 view .LVU1194
 3187 0020 08BD     		pop	{r3, pc}
 3188              	.L185:
1358:HW/SDCard/SDCard_sdio.c ****   }
 3189              		.loc 1 1358 5 is_stmt 1 view .LVU1195
1358:HW/SDCard/SDCard_sdio.c ****   }
 3190              		.loc 1 1358 11 is_stmt 0 view .LVU1196
 3191 0022 034B     		ldr	r3, .L186+4
 3192 0024 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 3193 0026 C0B2     		uxtb	r0, r0
 3194 0028 FAE7     		b	.L183
 3195              	.L187:
 3196 002a 00BF     		.align	2
 3197              	.L186:
 3198 002c 00000000 		.word	TransferEnd
 3199 0030 00000000 		.word	TransferError
 3200              		.cfi_endproc
 3201              	.LFE43:
 3203              		.section	.text.SD_WaitWriteOperation,"ax",%progbits
 3204              		.align	1
 3205              		.global	SD_WaitWriteOperation
 3206              		.syntax unified
 3207              		.thumb
 3208              		.thumb_func
 3210              	SD_WaitWriteOperation:
 3211              	.LFB46:
1583:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 120


 3212              		.loc 1 1583 1 is_stmt 1 view -0
 3213              		.cfi_startproc
 3214              		@ args = 0, pretend = 0, frame = 0
 3215              		@ frame_needed = 0, uses_anonymous_args = 0
 3216 0000 10B5     		push	{r4, lr}
 3217              	.LCFI33:
 3218              		.cfi_def_cfa_offset 8
 3219              		.cfi_offset 4, -8
 3220              		.cfi_offset 14, -4
 3221              	.L190:
 3222              	.LBB3:
1587:HW/SDCard/SDCard_sdio.c **** 
 3223              		.loc 1 1587 4 discriminator 3 view .LVU1198
1586:HW/SDCard/SDCard_sdio.c ****   {}
 3224              		.loc 1 1586 71 discriminator 3 view .LVU1199
1586:HW/SDCard/SDCard_sdio.c ****   {}
 3225              		.loc 1 1586 11 is_stmt 0 discriminator 3 view .LVU1200
 3226 0002 FFF7FEFF 		bl	SD_DMAEndOfTransferStatus
 3227              	.LVL275:
1586:HW/SDCard/SDCard_sdio.c ****   {}
 3228              		.loc 1 1586 71 discriminator 3 view .LVU1201
 3229 0006 30B9     		cbnz	r0, .L189
1586:HW/SDCard/SDCard_sdio.c ****   {}
 3230              		.loc 1 1586 65 discriminator 1 view .LVU1202
 3231 0008 0A4B     		ldr	r3, .L194
 3232 000a 1B68     		ldr	r3, [r3]
1586:HW/SDCard/SDCard_sdio.c ****   {}
 3233              		.loc 1 1586 49 discriminator 1 view .LVU1203
 3234 000c 1BB9     		cbnz	r3, .L189
1586:HW/SDCard/SDCard_sdio.c ****   {}
 3235              		.loc 1 1586 89 discriminator 2 view .LVU1204
 3236 000e 0A4B     		ldr	r3, .L194+4
 3237 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1586:HW/SDCard/SDCard_sdio.c ****   {}
 3238              		.loc 1 1586 71 discriminator 2 view .LVU1205
 3239 0012 002B     		cmp	r3, #0
 3240 0014 F5D0     		beq	.L190
 3241              	.L189:
 3242              	.LBE3:
1589:HW/SDCard/SDCard_sdio.c ****   {
 3243              		.loc 1 1589 3 is_stmt 1 view .LVU1206
1589:HW/SDCard/SDCard_sdio.c ****   {
 3244              		.loc 1 1589 21 is_stmt 0 view .LVU1207
 3245 0016 084B     		ldr	r3, .L194+4
 3246 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1589:HW/SDCard/SDCard_sdio.c ****   {
 3247              		.loc 1 1589 6 view .LVU1208
 3248 001a 03F0FF04 		and	r4, r3, #255
 3249 001e 23B1     		cbz	r3, .L191
1591:HW/SDCard/SDCard_sdio.c ****   }
 3250              		.loc 1 1591 5 is_stmt 1 view .LVU1209
1591:HW/SDCard/SDCard_sdio.c ****   }
 3251              		.loc 1 1591 11 is_stmt 0 view .LVU1210
 3252 0020 054B     		ldr	r3, .L194+4
 3253 0022 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 3254 0024 E4B2     		uxtb	r4, r4
 3255              	.L192:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 121


1598:HW/SDCard/SDCard_sdio.c **** 
 3256              		.loc 1 1598 1 view .LVU1211
 3257 0026 2046     		mov	r0, r4
 3258 0028 10BD     		pop	{r4, pc}
 3259              	.L191:
1595:HW/SDCard/SDCard_sdio.c **** 
 3260              		.loc 1 1595 3 is_stmt 1 view .LVU1212
 3261 002a 40F2FF50 		movw	r0, #1535
 3262 002e FFF7FEFF 		bl	SDIO_ClearFlag
 3263              	.LVL276:
1597:HW/SDCard/SDCard_sdio.c **** }
 3264              		.loc 1 1597 3 view .LVU1213
1597:HW/SDCard/SDCard_sdio.c **** }
 3265              		.loc 1 1597 9 is_stmt 0 view .LVU1214
 3266 0032 F8E7     		b	.L192
 3267              	.L195:
 3268              		.align	2
 3269              	.L194:
 3270 0034 00000000 		.word	TransferEnd
 3271 0038 00000000 		.word	TransferError
 3272              		.cfi_endproc
 3273              	.LFE46:
 3275              		.section	.text.SD_GetTransferState,"ax",%progbits
 3276              		.align	1
 3277              		.global	SD_GetTransferState
 3278              		.syntax unified
 3279              		.thumb
 3280              		.thumb_func
 3282              	SD_GetTransferState:
 3283              	.LFB47:
1609:HW/SDCard/SDCard_sdio.c ****   if (SDIO->STA & (SDIO_FLAG_TXACT | SDIO_FLAG_RXACT))
 3284              		.loc 1 1609 1 is_stmt 1 view -0
 3285              		.cfi_startproc
 3286              		@ args = 0, pretend = 0, frame = 0
 3287              		@ frame_needed = 0, uses_anonymous_args = 0
 3288              		@ link register save eliminated.
1610:HW/SDCard/SDCard_sdio.c ****   {
 3289              		.loc 1 1610 3 view .LVU1216
1610:HW/SDCard/SDCard_sdio.c ****   {
 3290              		.loc 1 1610 11 is_stmt 0 view .LVU1217
 3291 0000 044B     		ldr	r3, .L199
 3292 0002 5B6B     		ldr	r3, [r3, #52]
1610:HW/SDCard/SDCard_sdio.c ****   {
 3293              		.loc 1 1610 6 view .LVU1218
 3294 0004 13F4405F 		tst	r3, #12288
 3295 0008 01D0     		beq	.L198
1612:HW/SDCard/SDCard_sdio.c ****   }
 3296              		.loc 1 1612 11 view .LVU1219
 3297 000a 0120     		movs	r0, #1
 3298 000c 7047     		bx	lr
 3299              	.L198:
1616:HW/SDCard/SDCard_sdio.c ****   }
 3300              		.loc 1 1616 11 view .LVU1220
 3301 000e 0020     		movs	r0, #0
1618:HW/SDCard/SDCard_sdio.c **** 
 3302              		.loc 1 1618 1 view .LVU1221
 3303 0010 7047     		bx	lr
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 122


 3304              	.L200:
 3305 0012 00BF     		.align	2
 3306              	.L199:
 3307 0014 00800140 		.word	1073840128
 3308              		.cfi_endproc
 3309              	.LFE47:
 3311              		.section	.text.SD_StopTransfer,"ax",%progbits
 3312              		.align	1
 3313              		.global	SD_StopTransfer
 3314              		.syntax unified
 3315              		.thumb
 3316              		.thumb_func
 3318              	SD_StopTransfer:
 3319              	.LFB48:
1626:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 3320              		.loc 1 1626 1 is_stmt 1 view -0
 3321              		.cfi_startproc
 3322              		@ args = 0, pretend = 0, frame = 0
 3323              		@ frame_needed = 0, uses_anonymous_args = 0
 3324 0000 08B5     		push	{r3, lr}
 3325              	.LCFI34:
 3326              		.cfi_def_cfa_offset 8
 3327              		.cfi_offset 3, -8
 3328              		.cfi_offset 14, -4
1627:HW/SDCard/SDCard_sdio.c **** 
 3329              		.loc 1 1627 3 view .LVU1223
 3330              	.LVL277:
1630:HW/SDCard/SDCard_sdio.c ****   SDIO->CMD = 0x44C;
 3331              		.loc 1 1630 3 view .LVU1224
1630:HW/SDCard/SDCard_sdio.c ****   SDIO->CMD = 0x44C;
 3332              		.loc 1 1630 13 is_stmt 0 view .LVU1225
 3333 0002 054B     		ldr	r3, .L203
 3334 0004 0022     		movs	r2, #0
 3335 0006 9A60     		str	r2, [r3, #8]
1631:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_STOP_TRANSMISSION);
 3336              		.loc 1 1631 3 is_stmt 1 view .LVU1226
1631:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_STOP_TRANSMISSION);
 3337              		.loc 1 1631 13 is_stmt 0 view .LVU1227
 3338 0008 40F24C42 		movw	r2, #1100
 3339 000c DA60     		str	r2, [r3, #12]
1632:HW/SDCard/SDCard_sdio.c **** 
 3340              		.loc 1 1632 3 is_stmt 1 view .LVU1228
1632:HW/SDCard/SDCard_sdio.c **** 
 3341              		.loc 1 1632 17 is_stmt 0 view .LVU1229
 3342 000e 0C20     		movs	r0, #12
 3343 0010 FFF7FEFF 		bl	CmdResp1Error
 3344              	.LVL278:
1634:HW/SDCard/SDCard_sdio.c **** }
 3345              		.loc 1 1634 3 is_stmt 1 view .LVU1230
1635:HW/SDCard/SDCard_sdio.c **** 
 3346              		.loc 1 1635 1 is_stmt 0 view .LVU1231
 3347 0014 08BD     		pop	{r3, pc}
 3348              	.L204:
 3349 0016 00BF     		.align	2
 3350              	.L203:
 3351 0018 00800140 		.word	1073840128
 3352              		.cfi_endproc
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 123


 3353              	.LFE48:
 3355              		.section	.text.SD_Erase,"ax",%progbits
 3356              		.align	1
 3357              		.global	SD_Erase
 3358              		.syntax unified
 3359              		.thumb
 3360              		.thumb_func
 3362              	SD_Erase:
 3363              	.LVL279:
 3364              	.LFB49:
1644:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 3365              		.loc 1 1644 1 is_stmt 1 view -0
 3366              		.cfi_startproc
 3367              		@ args = 0, pretend = 0, frame = 8
 3368              		@ frame_needed = 0, uses_anonymous_args = 0
1644:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 3369              		.loc 1 1644 1 is_stmt 0 view .LVU1233
 3370 0000 70B5     		push	{r4, r5, r6, lr}
 3371              	.LCFI35:
 3372              		.cfi_def_cfa_offset 16
 3373              		.cfi_offset 4, -16
 3374              		.cfi_offset 5, -12
 3375              		.cfi_offset 6, -8
 3376              		.cfi_offset 14, -4
 3377 0002 82B0     		sub	sp, sp, #8
 3378              	.LCFI36:
 3379              		.cfi_def_cfa_offset 24
1645:HW/SDCard/SDCard_sdio.c ****   uint32_t delay = 0;
 3380              		.loc 1 1645 3 is_stmt 1 view .LVU1234
 3381              	.LVL280:
1646:HW/SDCard/SDCard_sdio.c ****   __IO uint32_t maxdelay = 0;
 3382              		.loc 1 1646 3 view .LVU1235
1647:HW/SDCard/SDCard_sdio.c ****   uint8_t cardstate = 0;
 3383              		.loc 1 1647 3 view .LVU1236
1647:HW/SDCard/SDCard_sdio.c ****   uint8_t cardstate = 0;
 3384              		.loc 1 1647 17 is_stmt 0 view .LVU1237
 3385 0004 0023     		movs	r3, #0
 3386 0006 0193     		str	r3, [sp, #4]
1648:HW/SDCard/SDCard_sdio.c **** 
 3387              		.loc 1 1648 3 is_stmt 1 view .LVU1238
1648:HW/SDCard/SDCard_sdio.c **** 
 3388              		.loc 1 1648 11 is_stmt 0 view .LVU1239
 3389 0008 8DF80330 		strb	r3, [sp, #3]
1651:HW/SDCard/SDCard_sdio.c ****   {
 3390              		.loc 1 1651 3 is_stmt 1 view .LVU1240
1651:HW/SDCard/SDCard_sdio.c ****   {
 3391              		.loc 1 1651 16 is_stmt 0 view .LVU1241
 3392 000c 354B     		ldr	r3, .L217
 3393 000e 5B68     		ldr	r3, [r3, #4]
1651:HW/SDCard/SDCard_sdio.c ****   {
 3394              		.loc 1 1651 6 view .LVU1242
 3395 0010 13F0007F 		tst	r3, #33554432
 3396 0014 61D0     		beq	.L213
 3397 0016 0546     		mov	r5, r0
 3398 0018 0E46     		mov	r6, r1
1657:HW/SDCard/SDCard_sdio.c **** 
 3399              		.loc 1 1657 3 is_stmt 1 view .LVU1243
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 124


1657:HW/SDCard/SDCard_sdio.c **** 
 3400              		.loc 1 1657 29 is_stmt 0 view .LVU1244
 3401 001a 334B     		ldr	r3, .L217+4
 3402 001c 5B68     		ldr	r3, [r3, #4]
1657:HW/SDCard/SDCard_sdio.c **** 
 3403              		.loc 1 1657 37 view .LVU1245
 3404 001e DBB2     		uxtb	r3, r3
1657:HW/SDCard/SDCard_sdio.c **** 
 3405              		.loc 1 1657 45 view .LVU1246
 3406 0020 0233     		adds	r3, r3, #2
1657:HW/SDCard/SDCard_sdio.c **** 
 3407              		.loc 1 1657 21 view .LVU1247
 3408 0022 324A     		ldr	r2, .L217+8
 3409 0024 B2FBF3F3 		udiv	r3, r2, r3
1657:HW/SDCard/SDCard_sdio.c **** 
 3410              		.loc 1 1657 12 view .LVU1248
 3411 0028 0193     		str	r3, [sp, #4]
1659:HW/SDCard/SDCard_sdio.c ****   {
 3412              		.loc 1 1659 3 is_stmt 1 view .LVU1249
1659:HW/SDCard/SDCard_sdio.c ****   {
 3413              		.loc 1 1659 7 is_stmt 0 view .LVU1250
 3414 002a 0020     		movs	r0, #0
 3415              	.LVL281:
1659:HW/SDCard/SDCard_sdio.c ****   {
 3416              		.loc 1 1659 7 view .LVU1251
 3417 002c FFF7FEFF 		bl	SDIO_GetResponse
 3418              	.LVL282:
1659:HW/SDCard/SDCard_sdio.c ****   {
 3419              		.loc 1 1659 6 view .LVU1252
 3420 0030 10F00074 		ands	r4, r0, #33554432
 3421 0034 54D1     		bne	.L214
1665:HW/SDCard/SDCard_sdio.c ****   {
 3422              		.loc 1 1665 3 is_stmt 1 view .LVU1253
1665:HW/SDCard/SDCard_sdio.c ****   {
 3423              		.loc 1 1665 16 is_stmt 0 view .LVU1254
 3424 0036 2E4B     		ldr	r3, .L217+12
 3425 0038 1B68     		ldr	r3, [r3]
1665:HW/SDCard/SDCard_sdio.c ****   {
 3426              		.loc 1 1665 6 view .LVU1255
 3427 003a 022B     		cmp	r3, #2
 3428 003c 36D0     		beq	.L216
 3429              	.L207:
1672:HW/SDCard/SDCard_sdio.c ****   {
 3430              		.loc 1 1672 3 is_stmt 1 view .LVU1256
1672:HW/SDCard/SDCard_sdio.c ****   {
 3431              		.loc 1 1672 6 is_stmt 0 view .LVU1257
 3432 003e 022B     		cmp	r3, #2
 3433 0040 22D8     		bhi	.L208
1675:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_ERASE_GRP_START;
 3434              		.loc 1 1675 5 is_stmt 1 view .LVU1258
1675:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_ERASE_GRP_START;
 3435              		.loc 1 1675 41 is_stmt 0 view .LVU1259
 3436 0042 2C48     		ldr	r0, .L217+16
 3437 0044 0560     		str	r5, [r0]
1676:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3438              		.loc 1 1676 5 is_stmt 1 view .LVU1260
1676:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 125


 3439              		.loc 1 1676 41 is_stmt 0 view .LVU1261
 3440 0046 2025     		movs	r5, #32
 3441              	.LVL283:
1676:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3442              		.loc 1 1676 41 view .LVU1262
 3443 0048 4560     		str	r5, [r0, #4]
1677:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3444              		.loc 1 1677 5 is_stmt 1 view .LVU1263
1677:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3445              		.loc 1 1677 41 is_stmt 0 view .LVU1264
 3446 004a 4023     		movs	r3, #64
 3447 004c 8360     		str	r3, [r0, #8]
1678:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3448              		.loc 1 1678 5 is_stmt 1 view .LVU1265
1678:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3449              		.loc 1 1678 37 is_stmt 0 view .LVU1266
 3450 004e 0023     		movs	r3, #0
 3451 0050 C360     		str	r3, [r0, #12]
1679:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 3452              		.loc 1 1679 5 is_stmt 1 view .LVU1267
1679:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 3453              		.loc 1 1679 37 is_stmt 0 view .LVU1268
 3454 0052 4FF48063 		mov	r3, #1024
 3455 0056 0361     		str	r3, [r0, #16]
1680:HW/SDCard/SDCard_sdio.c **** 
 3456              		.loc 1 1680 5 is_stmt 1 view .LVU1269
 3457 0058 FFF7FEFF 		bl	SDIO_SendCommand
 3458              	.LVL284:
1682:HW/SDCard/SDCard_sdio.c ****     if (errorstatus != SD_OK)
 3459              		.loc 1 1682 5 view .LVU1270
1682:HW/SDCard/SDCard_sdio.c ****     if (errorstatus != SD_OK)
 3460              		.loc 1 1682 19 is_stmt 0 view .LVU1271
 3461 005c 2846     		mov	r0, r5
 3462 005e FFF7FEFF 		bl	CmdResp1Error
 3463              	.LVL285:
1683:HW/SDCard/SDCard_sdio.c ****     {
 3464              		.loc 1 1683 5 is_stmt 1 view .LVU1272
1683:HW/SDCard/SDCard_sdio.c ****     {
 3465              		.loc 1 1683 8 is_stmt 0 view .LVU1273
 3466 0062 0028     		cmp	r0, #0
 3467 0064 3AD1     		bne	.L206
1689:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_ERASE_GRP_END;
 3468              		.loc 1 1689 5 is_stmt 1 view .LVU1274
1689:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_ERASE_GRP_END;
 3469              		.loc 1 1689 41 is_stmt 0 view .LVU1275
 3470 0066 2348     		ldr	r0, .L217+16
 3471              	.LVL286:
1689:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_ERASE_GRP_END;
 3472              		.loc 1 1689 41 view .LVU1276
 3473 0068 0660     		str	r6, [r0]
1690:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3474              		.loc 1 1690 5 is_stmt 1 view .LVU1277
1690:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3475              		.loc 1 1690 41 is_stmt 0 view .LVU1278
 3476 006a 2125     		movs	r5, #33
 3477 006c 4560     		str	r5, [r0, #4]
1691:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 126


 3478              		.loc 1 1691 5 is_stmt 1 view .LVU1279
1691:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3479              		.loc 1 1691 41 is_stmt 0 view .LVU1280
 3480 006e 4023     		movs	r3, #64
 3481 0070 8360     		str	r3, [r0, #8]
1692:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3482              		.loc 1 1692 5 is_stmt 1 view .LVU1281
1692:HW/SDCard/SDCard_sdio.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3483              		.loc 1 1692 37 is_stmt 0 view .LVU1282
 3484 0072 0023     		movs	r3, #0
 3485 0074 C360     		str	r3, [r0, #12]
1693:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 3486              		.loc 1 1693 5 is_stmt 1 view .LVU1283
1693:HW/SDCard/SDCard_sdio.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 3487              		.loc 1 1693 37 is_stmt 0 view .LVU1284
 3488 0076 4FF48063 		mov	r3, #1024
 3489 007a 0361     		str	r3, [r0, #16]
1694:HW/SDCard/SDCard_sdio.c **** 
 3490              		.loc 1 1694 5 is_stmt 1 view .LVU1285
 3491 007c FFF7FEFF 		bl	SDIO_SendCommand
 3492              	.LVL287:
1696:HW/SDCard/SDCard_sdio.c ****     if (errorstatus != SD_OK)
 3493              		.loc 1 1696 5 view .LVU1286
1696:HW/SDCard/SDCard_sdio.c ****     if (errorstatus != SD_OK)
 3494              		.loc 1 1696 19 is_stmt 0 view .LVU1287
 3495 0080 2846     		mov	r0, r5
 3496 0082 FFF7FEFF 		bl	CmdResp1Error
 3497              	.LVL288:
1697:HW/SDCard/SDCard_sdio.c ****     {
 3498              		.loc 1 1697 5 is_stmt 1 view .LVU1288
1697:HW/SDCard/SDCard_sdio.c ****     {
 3499              		.loc 1 1697 8 is_stmt 0 view .LVU1289
 3500 0086 48BB     		cbnz	r0, .L206
 3501              	.LVL289:
 3502              	.L208:
1704:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_ERASE;
 3503              		.loc 1 1704 3 is_stmt 1 view .LVU1290
1704:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_ERASE;
 3504              		.loc 1 1704 39 is_stmt 0 view .LVU1291
 3505 0088 1A48     		ldr	r0, .L217+16
 3506 008a 0023     		movs	r3, #0
 3507 008c 0360     		str	r3, [r0]
1705:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3508              		.loc 1 1705 3 is_stmt 1 view .LVU1292
1705:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3509              		.loc 1 1705 39 is_stmt 0 view .LVU1293
 3510 008e 2625     		movs	r5, #38
 3511 0090 4560     		str	r5, [r0, #4]
1706:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3512              		.loc 1 1706 3 is_stmt 1 view .LVU1294
1706:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3513              		.loc 1 1706 39 is_stmt 0 view .LVU1295
 3514 0092 4022     		movs	r2, #64
 3515 0094 8260     		str	r2, [r0, #8]
1707:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3516              		.loc 1 1707 3 is_stmt 1 view .LVU1296
1707:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 127


 3517              		.loc 1 1707 35 is_stmt 0 view .LVU1297
 3518 0096 C360     		str	r3, [r0, #12]
1708:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 3519              		.loc 1 1708 3 is_stmt 1 view .LVU1298
1708:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 3520              		.loc 1 1708 35 is_stmt 0 view .LVU1299
 3521 0098 4FF48063 		mov	r3, #1024
 3522 009c 0361     		str	r3, [r0, #16]
1709:HW/SDCard/SDCard_sdio.c **** 
 3523              		.loc 1 1709 3 is_stmt 1 view .LVU1300
 3524 009e FFF7FEFF 		bl	SDIO_SendCommand
 3525              	.LVL290:
1711:HW/SDCard/SDCard_sdio.c **** 
 3526              		.loc 1 1711 3 view .LVU1301
1711:HW/SDCard/SDCard_sdio.c **** 
 3527              		.loc 1 1711 17 is_stmt 0 view .LVU1302
 3528 00a2 2846     		mov	r0, r5
 3529 00a4 FFF7FEFF 		bl	CmdResp1Error
 3530              	.LVL291:
1713:HW/SDCard/SDCard_sdio.c ****   {
 3531              		.loc 1 1713 3 is_stmt 1 view .LVU1303
1713:HW/SDCard/SDCard_sdio.c ****   {
 3532              		.loc 1 1713 6 is_stmt 0 view .LVU1304
 3533 00a8 20B1     		cbz	r0, .L209
 3534 00aa 17E0     		b	.L206
 3535              	.LVL292:
 3536              	.L216:
1667:HW/SDCard/SDCard_sdio.c ****     endaddr /= 512;
 3537              		.loc 1 1667 5 is_stmt 1 view .LVU1305
1667:HW/SDCard/SDCard_sdio.c ****     endaddr /= 512;
 3538              		.loc 1 1667 15 is_stmt 0 view .LVU1306
 3539 00ac 6D0A     		lsrs	r5, r5, #9
 3540              	.LVL293:
1668:HW/SDCard/SDCard_sdio.c ****   }
 3541              		.loc 1 1668 5 is_stmt 1 view .LVU1307
1668:HW/SDCard/SDCard_sdio.c ****   }
 3542              		.loc 1 1668 13 is_stmt 0 view .LVU1308
 3543 00ae 760A     		lsrs	r6, r6, #9
 3544              	.LVL294:
1668:HW/SDCard/SDCard_sdio.c ****   }
 3545              		.loc 1 1668 13 view .LVU1309
 3546 00b0 C5E7     		b	.L207
 3547              	.LVL295:
 3548              	.L210:
1719:HW/SDCard/SDCard_sdio.c **** 
 3549              		.loc 1 1719 4 is_stmt 1 discriminator 3 view .LVU1310
1718:HW/SDCard/SDCard_sdio.c ****   {}
 3550              		.loc 1 1718 42 discriminator 3 view .LVU1311
 3551 00b2 0134     		adds	r4, r4, #1
 3552              	.LVL296:
 3553              	.L209:
1718:HW/SDCard/SDCard_sdio.c ****   {}
 3554              		.loc 1 1718 25 discriminator 1 view .LVU1312
 3555 00b4 019B     		ldr	r3, [sp, #4]
 3556 00b6 A342     		cmp	r3, r4
 3557 00b8 FBD8     		bhi	.L210
1722:HW/SDCard/SDCard_sdio.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 128


 3558              		.loc 1 1722 3 view .LVU1313
1722:HW/SDCard/SDCard_sdio.c **** 
 3559              		.loc 1 1722 17 is_stmt 0 view .LVU1314
 3560 00ba 0DF10300 		add	r0, sp, #3
 3561              	.LVL297:
1722:HW/SDCard/SDCard_sdio.c **** 
 3562              		.loc 1 1722 17 view .LVU1315
 3563 00be FFF7FEFF 		bl	IsCardProgramming
 3564              	.LVL298:
1724:HW/SDCard/SDCard_sdio.c ****   {
 3565              		.loc 1 1724 3 is_stmt 1 view .LVU1316
 3566              	.L211:
1724:HW/SDCard/SDCard_sdio.c ****   {
 3567              		.loc 1 1724 33 view .LVU1317
 3568 00c2 58B9     		cbnz	r0, .L206
1724:HW/SDCard/SDCard_sdio.c ****   {
 3569              		.loc 1 1724 72 is_stmt 0 discriminator 1 view .LVU1318
 3570 00c4 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 3571 00c8 063B     		subs	r3, r3, #6
 3572 00ca DBB2     		uxtb	r3, r3
1724:HW/SDCard/SDCard_sdio.c ****   {
 3573              		.loc 1 1724 33 discriminator 1 view .LVU1319
 3574 00cc 012B     		cmp	r3, #1
 3575 00ce 05D8     		bhi	.L206
1726:HW/SDCard/SDCard_sdio.c ****   }
 3576              		.loc 1 1726 5 is_stmt 1 view .LVU1320
1726:HW/SDCard/SDCard_sdio.c ****   }
 3577              		.loc 1 1726 19 is_stmt 0 view .LVU1321
 3578 00d0 0DF10300 		add	r0, sp, #3
 3579              	.LVL299:
1726:HW/SDCard/SDCard_sdio.c ****   }
 3580              		.loc 1 1726 19 view .LVU1322
 3581 00d4 FFF7FEFF 		bl	IsCardProgramming
 3582              	.LVL300:
1726:HW/SDCard/SDCard_sdio.c ****   }
 3583              		.loc 1 1726 19 view .LVU1323
 3584 00d8 F3E7     		b	.L211
 3585              	.LVL301:
 3586              	.L213:
1654:HW/SDCard/SDCard_sdio.c ****   }
 3587              		.loc 1 1654 11 view .LVU1324
 3588 00da 2520     		movs	r0, #37
 3589              	.LVL302:
 3590              	.L206:
1730:HW/SDCard/SDCard_sdio.c **** 
 3591              		.loc 1 1730 1 view .LVU1325
 3592 00dc 02B0     		add	sp, sp, #8
 3593              	.LCFI37:
 3594              		.cfi_remember_state
 3595              		.cfi_def_cfa_offset 16
 3596              		@ sp needed
 3597 00de 70BD     		pop	{r4, r5, r6, pc}
 3598              	.LVL303:
 3599              	.L214:
 3600              	.LCFI38:
 3601              		.cfi_restore_state
1662:HW/SDCard/SDCard_sdio.c ****   }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 129


 3602              		.loc 1 1662 11 view .LVU1326
 3603 00e0 0E20     		movs	r0, #14
 3604 00e2 FBE7     		b	.L206
 3605              	.L218:
 3606              		.align	2
 3607              	.L217:
 3608 00e4 00000000 		.word	CSD_Tab
 3609 00e8 00800140 		.word	1073840128
 3610 00ec C0D40100 		.word	120000
 3611 00f0 00000000 		.word	CardType
 3612 00f4 00000000 		.word	SDIO_CmdInitStructure
 3613              		.cfi_endproc
 3614              	.LFE49:
 3616              		.section	.text.SD_SendStatus,"ax",%progbits
 3617              		.align	1
 3618              		.global	SD_SendStatus
 3619              		.syntax unified
 3620              		.thumb
 3621              		.thumb_func
 3623              	SD_SendStatus:
 3624              	.LVL304:
 3625              	.LFB50:
1739:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 3626              		.loc 1 1739 1 is_stmt 1 view -0
 3627              		.cfi_startproc
 3628              		@ args = 0, pretend = 0, frame = 0
 3629              		@ frame_needed = 0, uses_anonymous_args = 0
1739:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 3630              		.loc 1 1739 1 is_stmt 0 view .LVU1328
 3631 0000 10B5     		push	{r4, lr}
 3632              	.LCFI39:
 3633              		.cfi_def_cfa_offset 8
 3634              		.cfi_offset 4, -8
 3635              		.cfi_offset 14, -4
 3636 0002 0446     		mov	r4, r0
1740:HW/SDCard/SDCard_sdio.c **** 
 3637              		.loc 1 1740 3 is_stmt 1 view .LVU1329
 3638              	.LVL305:
1742:HW/SDCard/SDCard_sdio.c ****   SDIO->CMD = 0x44D;
 3639              		.loc 1 1742 3 view .LVU1330
1742:HW/SDCard/SDCard_sdio.c ****   SDIO->CMD = 0x44D;
 3640              		.loc 1 1742 15 is_stmt 0 view .LVU1331
 3641 0004 074B     		ldr	r3, .L222
 3642 0006 1B68     		ldr	r3, [r3]
1742:HW/SDCard/SDCard_sdio.c ****   SDIO->CMD = 0x44D;
 3643              		.loc 1 1742 30 view .LVU1332
 3644 0008 1B04     		lsls	r3, r3, #16
1742:HW/SDCard/SDCard_sdio.c ****   SDIO->CMD = 0x44D;
 3645              		.loc 1 1742 13 view .LVU1333
 3646 000a 074A     		ldr	r2, .L222+4
 3647 000c 9360     		str	r3, [r2, #8]
1743:HW/SDCard/SDCard_sdio.c ****   
 3648              		.loc 1 1743 3 is_stmt 1 view .LVU1334
1743:HW/SDCard/SDCard_sdio.c ****   
 3649              		.loc 1 1743 13 is_stmt 0 view .LVU1335
 3650 000e 40F24D43 		movw	r3, #1101
 3651 0012 D360     		str	r3, [r2, #12]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 130


1745:HW/SDCard/SDCard_sdio.c **** 
 3652              		.loc 1 1745 3 is_stmt 1 view .LVU1336
1745:HW/SDCard/SDCard_sdio.c **** 
 3653              		.loc 1 1745 17 is_stmt 0 view .LVU1337
 3654 0014 0D20     		movs	r0, #13
 3655              	.LVL306:
1745:HW/SDCard/SDCard_sdio.c **** 
 3656              		.loc 1 1745 17 view .LVU1338
 3657 0016 FFF7FEFF 		bl	CmdResp1Error
 3658              	.LVL307:
1747:HW/SDCard/SDCard_sdio.c ****   {
 3659              		.loc 1 1747 3 is_stmt 1 view .LVU1339
1747:HW/SDCard/SDCard_sdio.c ****   {
 3660              		.loc 1 1747 6 is_stmt 0 view .LVU1340
 3661 001a 10B9     		cbnz	r0, .L220
1752:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
 3662              		.loc 1 1752 3 is_stmt 1 view .LVU1341
1752:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
 3663              		.loc 1 1752 22 is_stmt 0 view .LVU1342
 3664 001c 024B     		ldr	r3, .L222+4
 3665 001e 5B69     		ldr	r3, [r3, #20]
1752:HW/SDCard/SDCard_sdio.c ****   return(errorstatus);
 3666              		.loc 1 1752 16 view .LVU1343
 3667 0020 2360     		str	r3, [r4]
1753:HW/SDCard/SDCard_sdio.c **** }
 3668              		.loc 1 1753 3 is_stmt 1 view .LVU1344
 3669              	.L220:
1754:HW/SDCard/SDCard_sdio.c **** 
 3670              		.loc 1 1754 1 is_stmt 0 view .LVU1345
 3671 0022 10BD     		pop	{r4, pc}
 3672              	.LVL308:
 3673              	.L223:
1754:HW/SDCard/SDCard_sdio.c **** 
 3674              		.loc 1 1754 1 view .LVU1346
 3675              		.align	2
 3676              	.L222:
 3677 0024 00000000 		.word	RCA
 3678 0028 00800140 		.word	1073840128
 3679              		.cfi_endproc
 3680              	.LFE50:
 3682              		.section	.text.SD_GetState,"ax",%progbits
 3683              		.align	1
 3684              		.global	SD_GetState
 3685              		.syntax unified
 3686              		.thumb
 3687              		.thumb_func
 3689              	SD_GetState:
 3690              	.LFB32:
 474:HW/SDCard/SDCard_sdio.c ****   uint32_t resp1 = 0;
 3691              		.loc 1 474 1 is_stmt 1 view -0
 3692              		.cfi_startproc
 3693              		@ args = 0, pretend = 0, frame = 8
 3694              		@ frame_needed = 0, uses_anonymous_args = 0
 3695 0000 00B5     		push	{lr}
 3696              	.LCFI40:
 3697              		.cfi_def_cfa_offset 4
 3698              		.cfi_offset 14, -4
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 131


 3699 0002 83B0     		sub	sp, sp, #12
 3700              	.LCFI41:
 3701              		.cfi_def_cfa_offset 16
 475:HW/SDCard/SDCard_sdio.c ****   
 3702              		.loc 1 475 3 view .LVU1348
 475:HW/SDCard/SDCard_sdio.c ****   
 3703              		.loc 1 475 12 is_stmt 0 view .LVU1349
 3704 0004 0023     		movs	r3, #0
 3705 0006 0193     		str	r3, [sp, #4]
 477:HW/SDCard/SDCard_sdio.c ****   {
 3706              		.loc 1 477 3 is_stmt 1 view .LVU1350
 477:HW/SDCard/SDCard_sdio.c ****   {
 3707              		.loc 1 477 6 is_stmt 0 view .LVU1351
 3708 0008 FFF7FEFF 		bl	SD_Detect
 3709              	.LVL309:
 477:HW/SDCard/SDCard_sdio.c ****   {
 3710              		.loc 1 477 5 view .LVU1352
 3711 000c 0128     		cmp	r0, #1
 3712 000e 03D0     		beq	.L229
 490:HW/SDCard/SDCard_sdio.c ****   }
 3713              		.loc 1 490 12 view .LVU1353
 3714 0010 FF20     		movs	r0, #255
 3715              	.L225:
 492:HW/SDCard/SDCard_sdio.c **** 
 3716              		.loc 1 492 1 view .LVU1354
 3717 0012 03B0     		add	sp, sp, #12
 3718              	.LCFI42:
 3719              		.cfi_remember_state
 3720              		.cfi_def_cfa_offset 4
 3721              		@ sp needed
 3722 0014 5DF804FB 		ldr	pc, [sp], #4
 3723              	.L229:
 3724              	.LCFI43:
 3725              		.cfi_restore_state
 479:HW/SDCard/SDCard_sdio.c ****     {
 3726              		.loc 1 479 5 is_stmt 1 view .LVU1355
 479:HW/SDCard/SDCard_sdio.c ****     {
 3727              		.loc 1 479 9 is_stmt 0 view .LVU1356
 3728 0018 01A8     		add	r0, sp, #4
 3729 001a FFF7FEFF 		bl	SD_SendStatus
 3730              	.LVL310:
 479:HW/SDCard/SDCard_sdio.c ****     {
 3731              		.loc 1 479 8 view .LVU1357
 3732 001e 18B9     		cbnz	r0, .L227
 485:HW/SDCard/SDCard_sdio.c ****     }
 3733              		.loc 1 485 7 is_stmt 1 view .LVU1358
 485:HW/SDCard/SDCard_sdio.c ****     }
 3734              		.loc 1 485 14 is_stmt 0 view .LVU1359
 3735 0020 0198     		ldr	r0, [sp, #4]
 3736 0022 C0F34320 		ubfx	r0, r0, #9, #4
 3737 0026 F4E7     		b	.L225
 3738              	.L227:
 481:HW/SDCard/SDCard_sdio.c ****     }
 3739              		.loc 1 481 14 view .LVU1360
 3740 0028 FF20     		movs	r0, #255
 3741 002a F2E7     		b	.L225
 3742              		.cfi_endproc
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 132


 3743              	.LFE32:
 3745              		.section	.text.SD_GetStatus,"ax",%progbits
 3746              		.align	1
 3747              		.global	SD_GetStatus
 3748              		.syntax unified
 3749              		.thumb
 3750              		.thumb_func
 3752              	SD_GetStatus:
 3753              	.LFB31:
 449:HW/SDCard/SDCard_sdio.c ****   SDCardState cardstate =  SD_CARD_TRANSFER;
 3754              		.loc 1 449 1 is_stmt 1 view -0
 3755              		.cfi_startproc
 3756              		@ args = 0, pretend = 0, frame = 0
 3757              		@ frame_needed = 0, uses_anonymous_args = 0
 3758 0000 08B5     		push	{r3, lr}
 3759              	.LCFI44:
 3760              		.cfi_def_cfa_offset 8
 3761              		.cfi_offset 3, -8
 3762              		.cfi_offset 14, -4
 450:HW/SDCard/SDCard_sdio.c **** 
 3763              		.loc 1 450 3 view .LVU1362
 3764              	.LVL311:
 452:HW/SDCard/SDCard_sdio.c ****   
 3765              		.loc 1 452 3 view .LVU1363
 452:HW/SDCard/SDCard_sdio.c ****   
 3766              		.loc 1 452 15 is_stmt 0 view .LVU1364
 3767 0002 FFF7FEFF 		bl	SD_GetState
 3768              	.LVL312:
 454:HW/SDCard/SDCard_sdio.c ****   {
 3769              		.loc 1 454 3 is_stmt 1 view .LVU1365
 454:HW/SDCard/SDCard_sdio.c ****   {
 3770              		.loc 1 454 6 is_stmt 0 view .LVU1366
 3771 0006 0428     		cmp	r0, #4
 3772 0008 05D0     		beq	.L232
 458:HW/SDCard/SDCard_sdio.c ****   {
 3773              		.loc 1 458 8 is_stmt 1 view .LVU1367
 458:HW/SDCard/SDCard_sdio.c ****   {
 3774              		.loc 1 458 10 is_stmt 0 view .LVU1368
 3775 000a FF28     		cmp	r0, #255
 3776 000c 01D0     		beq	.L235
 464:HW/SDCard/SDCard_sdio.c ****   }
 3777              		.loc 1 464 11 view .LVU1369
 3778 000e 0120     		movs	r0, #1
 3779              	.LVL313:
 3780              	.L231:
 466:HW/SDCard/SDCard_sdio.c **** 
 3781              		.loc 1 466 1 view .LVU1370
 3782 0010 08BD     		pop	{r3, pc}
 3783              	.LVL314:
 3784              	.L235:
 460:HW/SDCard/SDCard_sdio.c ****   }
 3785              		.loc 1 460 12 view .LVU1371
 3786 0012 0220     		movs	r0, #2
 3787              	.LVL315:
 460:HW/SDCard/SDCard_sdio.c ****   }
 3788              		.loc 1 460 12 view .LVU1372
 3789 0014 FCE7     		b	.L231
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 133


 3790              	.LVL316:
 3791              	.L232:
 456:HW/SDCard/SDCard_sdio.c ****   }
 3792              		.loc 1 456 11 view .LVU1373
 3793 0016 0020     		movs	r0, #0
 3794              	.LVL317:
 456:HW/SDCard/SDCard_sdio.c ****   }
 3795              		.loc 1 456 11 view .LVU1374
 3796 0018 FAE7     		b	.L231
 3797              		.cfi_endproc
 3798              	.LFE31:
 3800              		.section	.text.SD_SendSDStatus,"ax",%progbits
 3801              		.align	1
 3802              		.global	SD_SendSDStatus
 3803              		.syntax unified
 3804              		.thumb
 3805              		.thumb_func
 3807              	SD_SendSDStatus:
 3808              	.LVL318:
 3809              	.LFB51:
1763:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 3810              		.loc 1 1763 1 is_stmt 1 view -0
 3811              		.cfi_startproc
 3812              		@ args = 0, pretend = 0, frame = 0
 3813              		@ frame_needed = 0, uses_anonymous_args = 0
1763:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 3814              		.loc 1 1763 1 is_stmt 0 view .LVU1376
 3815 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3816              	.LCFI45:
 3817              		.cfi_def_cfa_offset 24
 3818              		.cfi_offset 3, -24
 3819              		.cfi_offset 4, -20
 3820              		.cfi_offset 5, -16
 3821              		.cfi_offset 6, -12
 3822              		.cfi_offset 7, -8
 3823              		.cfi_offset 14, -4
 3824 0002 0546     		mov	r5, r0
1764:HW/SDCard/SDCard_sdio.c ****   uint32_t count = 0;
 3825              		.loc 1 1764 3 is_stmt 1 view .LVU1377
 3826              	.LVL319:
1765:HW/SDCard/SDCard_sdio.c **** 
 3827              		.loc 1 1765 3 view .LVU1378
1767:HW/SDCard/SDCard_sdio.c ****   {
 3828              		.loc 1 1767 3 view .LVU1379
1767:HW/SDCard/SDCard_sdio.c ****   {
 3829              		.loc 1 1767 7 is_stmt 0 view .LVU1380
 3830 0004 0020     		movs	r0, #0
 3831              	.LVL320:
1767:HW/SDCard/SDCard_sdio.c ****   {
 3832              		.loc 1 1767 7 view .LVU1381
 3833 0006 FFF7FEFF 		bl	SDIO_GetResponse
 3834              	.LVL321:
1767:HW/SDCard/SDCard_sdio.c ****   {
 3835              		.loc 1 1767 6 view .LVU1382
 3836 000a 10F0007F 		tst	r0, #33554432
 3837 000e 40F09680 		bne	.L248
1774:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCKLEN;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 134


 3838              		.loc 1 1774 3 is_stmt 1 view .LVU1383
1774:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCKLEN;
 3839              		.loc 1 1774 39 is_stmt 0 view .LVU1384
 3840 0012 4C48     		ldr	r0, .L254
 3841 0014 4023     		movs	r3, #64
 3842 0016 0360     		str	r3, [r0]
1775:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3843              		.loc 1 1775 3 is_stmt 1 view .LVU1385
1775:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3844              		.loc 1 1775 39 is_stmt 0 view .LVU1386
 3845 0018 1024     		movs	r4, #16
 3846 001a 4460     		str	r4, [r0, #4]
1776:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3847              		.loc 1 1776 3 is_stmt 1 view .LVU1387
1776:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3848              		.loc 1 1776 39 is_stmt 0 view .LVU1388
 3849 001c 8360     		str	r3, [r0, #8]
1777:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3850              		.loc 1 1777 3 is_stmt 1 view .LVU1389
1777:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3851              		.loc 1 1777 35 is_stmt 0 view .LVU1390
 3852 001e 0023     		movs	r3, #0
 3853 0020 C360     		str	r3, [r0, #12]
1778:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 3854              		.loc 1 1778 3 is_stmt 1 view .LVU1391
1778:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 3855              		.loc 1 1778 35 is_stmt 0 view .LVU1392
 3856 0022 4FF48063 		mov	r3, #1024
 3857 0026 0361     		str	r3, [r0, #16]
1779:HW/SDCard/SDCard_sdio.c **** 
 3858              		.loc 1 1779 3 is_stmt 1 view .LVU1393
 3859 0028 FFF7FEFF 		bl	SDIO_SendCommand
 3860              	.LVL322:
1781:HW/SDCard/SDCard_sdio.c **** 
 3861              		.loc 1 1781 3 view .LVU1394
1781:HW/SDCard/SDCard_sdio.c **** 
 3862              		.loc 1 1781 17 is_stmt 0 view .LVU1395
 3863 002c 2046     		mov	r0, r4
 3864 002e FFF7FEFF 		bl	CmdResp1Error
 3865              	.LVL323:
1783:HW/SDCard/SDCard_sdio.c ****   {
 3866              		.loc 1 1783 3 is_stmt 1 view .LVU1396
1783:HW/SDCard/SDCard_sdio.c ****   {
 3867              		.loc 1 1783 6 is_stmt 0 view .LVU1397
 3868 0032 0646     		mov	r6, r0
 3869 0034 0028     		cmp	r0, #0
 3870 0036 40F08380 		bne	.L237
1789:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 3871              		.loc 1 1789 3 is_stmt 1 view .LVU1398
1789:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 3872              		.loc 1 1789 41 is_stmt 0 view .LVU1399
 3873 003a 434B     		ldr	r3, .L254+4
 3874 003c 1B68     		ldr	r3, [r3]
1789:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 3875              		.loc 1 1789 56 view .LVU1400
 3876 003e A340     		lsls	r3, r3, r4
1789:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 135


 3877              		.loc 1 1789 39 view .LVU1401
 3878 0040 4048     		ldr	r0, .L254
 3879              	.LVL324:
1789:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 3880              		.loc 1 1789 39 view .LVU1402
 3881 0042 0360     		str	r3, [r0]
1790:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3882              		.loc 1 1790 3 is_stmt 1 view .LVU1403
1790:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3883              		.loc 1 1790 39 is_stmt 0 view .LVU1404
 3884 0044 3724     		movs	r4, #55
 3885 0046 4460     		str	r4, [r0, #4]
1791:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3886              		.loc 1 1791 3 is_stmt 1 view .LVU1405
1791:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3887              		.loc 1 1791 39 is_stmt 0 view .LVU1406
 3888 0048 4023     		movs	r3, #64
 3889 004a 8360     		str	r3, [r0, #8]
1792:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3890              		.loc 1 1792 3 is_stmt 1 view .LVU1407
1792:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3891              		.loc 1 1792 35 is_stmt 0 view .LVU1408
 3892 004c 0023     		movs	r3, #0
 3893 004e C360     		str	r3, [r0, #12]
1793:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 3894              		.loc 1 1793 3 is_stmt 1 view .LVU1409
1793:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 3895              		.loc 1 1793 35 is_stmt 0 view .LVU1410
 3896 0050 4FF48063 		mov	r3, #1024
 3897 0054 0361     		str	r3, [r0, #16]
1794:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
 3898              		.loc 1 1794 3 is_stmt 1 view .LVU1411
 3899 0056 FFF7FEFF 		bl	SDIO_SendCommand
 3900              	.LVL325:
1795:HW/SDCard/SDCard_sdio.c **** 
 3901              		.loc 1 1795 3 view .LVU1412
1795:HW/SDCard/SDCard_sdio.c **** 
 3902              		.loc 1 1795 17 is_stmt 0 view .LVU1413
 3903 005a 2046     		mov	r0, r4
 3904 005c FFF7FEFF 		bl	CmdResp1Error
 3905              	.LVL326:
1797:HW/SDCard/SDCard_sdio.c ****   {
 3906              		.loc 1 1797 3 is_stmt 1 view .LVU1414
1797:HW/SDCard/SDCard_sdio.c ****   {
 3907              		.loc 1 1797 6 is_stmt 0 view .LVU1415
 3908 0060 0646     		mov	r6, r0
 3909 0062 0028     		cmp	r0, #0
 3910 0064 6CD1     		bne	.L237
1802:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = 64;
 3911              		.loc 1 1802 3 is_stmt 1 view .LVU1416
1802:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = 64;
 3912              		.loc 1 1802 43 is_stmt 0 view .LVU1417
 3913 0066 3948     		ldr	r0, .L254+8
 3914              	.LVL327:
1802:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = 64;
 3915              		.loc 1 1802 43 view .LVU1418
 3916 0068 4FF0FF33 		mov	r3, #-1
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 136


 3917 006c 0360     		str	r3, [r0]
1803:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = SDIO_DataBlockSize_64b;
 3918              		.loc 1 1803 3 is_stmt 1 view .LVU1419
1803:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = SDIO_DataBlockSize_64b;
 3919              		.loc 1 1803 42 is_stmt 0 view .LVU1420
 3920 006e 4027     		movs	r7, #64
 3921 0070 4760     		str	r7, [r0, #4]
1804:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
 3922              		.loc 1 1804 3 is_stmt 1 view .LVU1421
1804:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
 3923              		.loc 1 1804 45 is_stmt 0 view .LVU1422
 3924 0072 6023     		movs	r3, #96
 3925 0074 8360     		str	r3, [r0, #8]
1805:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 3926              		.loc 1 1805 3 is_stmt 1 view .LVU1423
1805:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 3927              		.loc 1 1805 43 is_stmt 0 view .LVU1424
 3928 0076 0223     		movs	r3, #2
 3929 0078 C360     		str	r3, [r0, #12]
1806:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 3930              		.loc 1 1806 3 is_stmt 1 view .LVU1425
1806:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 3931              		.loc 1 1806 44 is_stmt 0 view .LVU1426
 3932 007a 0024     		movs	r4, #0
 3933 007c 0461     		str	r4, [r0, #16]
1807:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 3934              		.loc 1 1807 3 is_stmt 1 view .LVU1427
1807:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 3935              		.loc 1 1807 36 is_stmt 0 view .LVU1428
 3936 007e 0123     		movs	r3, #1
 3937 0080 4361     		str	r3, [r0, #20]
1808:HW/SDCard/SDCard_sdio.c **** 
 3938              		.loc 1 1808 3 is_stmt 1 view .LVU1429
 3939 0082 FFF7FEFF 		bl	SDIO_DataConfig
 3940              	.LVL328:
1811:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_STAUS;
 3941              		.loc 1 1811 3 view .LVU1430
1811:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_STAUS;
 3942              		.loc 1 1811 39 is_stmt 0 view .LVU1431
 3943 0086 2F48     		ldr	r0, .L254
 3944 0088 0460     		str	r4, [r0]
1812:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3945              		.loc 1 1812 3 is_stmt 1 view .LVU1432
1812:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3946              		.loc 1 1812 39 is_stmt 0 view .LVU1433
 3947 008a 0D26     		movs	r6, #13
 3948 008c 4660     		str	r6, [r0, #4]
1813:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3949              		.loc 1 1813 3 is_stmt 1 view .LVU1434
1813:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3950              		.loc 1 1813 39 is_stmt 0 view .LVU1435
 3951 008e 8760     		str	r7, [r0, #8]
1814:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3952              		.loc 1 1814 3 is_stmt 1 view .LVU1436
1814:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3953              		.loc 1 1814 35 is_stmt 0 view .LVU1437
 3954 0090 C460     		str	r4, [r0, #12]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 137


1815:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 3955              		.loc 1 1815 3 is_stmt 1 view .LVU1438
1815:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 3956              		.loc 1 1815 35 is_stmt 0 view .LVU1439
 3957 0092 4FF48063 		mov	r3, #1024
 3958 0096 0361     		str	r3, [r0, #16]
1816:HW/SDCard/SDCard_sdio.c ****   errorstatus = CmdResp1Error(SD_CMD_SD_APP_STAUS);
 3959              		.loc 1 1816 3 is_stmt 1 view .LVU1440
 3960 0098 FFF7FEFF 		bl	SDIO_SendCommand
 3961              	.LVL329:
1817:HW/SDCard/SDCard_sdio.c **** 
 3962              		.loc 1 1817 3 view .LVU1441
1817:HW/SDCard/SDCard_sdio.c **** 
 3963              		.loc 1 1817 17 is_stmt 0 view .LVU1442
 3964 009c 3046     		mov	r0, r6
 3965 009e FFF7FEFF 		bl	CmdResp1Error
 3966              	.LVL330:
1819:HW/SDCard/SDCard_sdio.c ****   {
 3967              		.loc 1 1819 3 is_stmt 1 view .LVU1443
1819:HW/SDCard/SDCard_sdio.c ****   {
 3968              		.loc 1 1819 6 is_stmt 0 view .LVU1444
 3969 00a2 0646     		mov	r6, r0
 3970 00a4 0028     		cmp	r0, #0
 3971 00a6 4BD1     		bne	.L237
 3972              	.LVL331:
 3973              	.L240:
1824:HW/SDCard/SDCard_sdio.c ****   {
 3974              		.loc 1 1824 10 is_stmt 1 view .LVU1445
1824:HW/SDCard/SDCard_sdio.c ****   {
 3975              		.loc 1 1824 16 is_stmt 0 view .LVU1446
 3976 00a8 294B     		ldr	r3, .L254+12
 3977 00aa 5C6B     		ldr	r4, [r3, #52]
1824:HW/SDCard/SDCard_sdio.c ****   {
 3978              		.loc 1 1824 22 view .LVU1447
 3979 00ac 40F22A62 		movw	r2, #1578
1824:HW/SDCard/SDCard_sdio.c ****   {
 3980              		.loc 1 1824 10 view .LVU1448
 3981 00b0 1440     		ands	r4, r4, r2
 3982 00b2 0FD1     		bne	.L250
1826:HW/SDCard/SDCard_sdio.c ****     {
 3983              		.loc 1 1826 5 is_stmt 1 view .LVU1449
1826:HW/SDCard/SDCard_sdio.c ****     {
 3984              		.loc 1 1826 9 is_stmt 0 view .LVU1450
 3985 00b4 4FF40040 		mov	r0, #32768
 3986 00b8 FFF7FEFF 		bl	SDIO_GetFlagStatus
 3987              	.LVL332:
1826:HW/SDCard/SDCard_sdio.c ****     {
 3988              		.loc 1 1826 8 view .LVU1451
 3989 00bc 0028     		cmp	r0, #0
 3990 00be F3D0     		beq	.L240
 3991 00c0 04E0     		b	.L239
 3992              	.LVL333:
 3993              	.L241:
1830:HW/SDCard/SDCard_sdio.c ****       }
 3994              		.loc 1 1830 9 is_stmt 1 discriminator 3 view .LVU1452
1830:HW/SDCard/SDCard_sdio.c ****       }
 3995              		.loc 1 1830 32 is_stmt 0 discriminator 3 view .LVU1453
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 138


 3996 00c2 FFF7FEFF 		bl	SDIO_ReadData
 3997              	.LVL334:
1830:HW/SDCard/SDCard_sdio.c ****       }
 3998              		.loc 1 1830 30 discriminator 3 view .LVU1454
 3999 00c6 45F82400 		str	r0, [r5, r4, lsl #2]
1828:HW/SDCard/SDCard_sdio.c ****       {
 4000              		.loc 1 1828 39 is_stmt 1 discriminator 3 view .LVU1455
 4001 00ca 0134     		adds	r4, r4, #1
 4002              	.LVL335:
 4003              	.L239:
1828:HW/SDCard/SDCard_sdio.c ****       {
 4004              		.loc 1 1828 29 discriminator 1 view .LVU1456
 4005 00cc 072C     		cmp	r4, #7
 4006 00ce F8D9     		bls	.L241
1832:HW/SDCard/SDCard_sdio.c ****     }
 4007              		.loc 1 1832 7 view .LVU1457
1832:HW/SDCard/SDCard_sdio.c ****     }
 4008              		.loc 1 1832 17 is_stmt 0 view .LVU1458
 4009 00d0 2035     		adds	r5, r5, #32
 4010              	.LVL336:
1832:HW/SDCard/SDCard_sdio.c ****     }
 4011              		.loc 1 1832 17 view .LVU1459
 4012 00d2 E9E7     		b	.L240
 4013              	.LVL337:
 4014              	.L250:
1836:HW/SDCard/SDCard_sdio.c ****   {
 4015              		.loc 1 1836 3 is_stmt 1 view .LVU1460
1836:HW/SDCard/SDCard_sdio.c ****   {
 4016              		.loc 1 1836 7 is_stmt 0 view .LVU1461
 4017 00d4 0820     		movs	r0, #8
 4018 00d6 FFF7FEFF 		bl	SDIO_GetFlagStatus
 4019              	.LVL338:
1836:HW/SDCard/SDCard_sdio.c ****   {
 4020              		.loc 1 1836 6 view .LVU1462
 4021 00da 90B9     		cbnz	r0, .L251
1842:HW/SDCard/SDCard_sdio.c ****   {
 4022              		.loc 1 1842 8 is_stmt 1 view .LVU1463
1842:HW/SDCard/SDCard_sdio.c ****   {
 4023              		.loc 1 1842 12 is_stmt 0 view .LVU1464
 4024 00dc 0220     		movs	r0, #2
 4025 00de FFF7FEFF 		bl	SDIO_GetFlagStatus
 4026              	.LVL339:
1842:HW/SDCard/SDCard_sdio.c ****   {
 4027              		.loc 1 1842 11 view .LVU1465
 4028 00e2 98B9     		cbnz	r0, .L252
1848:HW/SDCard/SDCard_sdio.c ****   {
 4029              		.loc 1 1848 8 is_stmt 1 view .LVU1466
1848:HW/SDCard/SDCard_sdio.c ****   {
 4030              		.loc 1 1848 12 is_stmt 0 view .LVU1467
 4031 00e4 2020     		movs	r0, #32
 4032 00e6 FFF7FEFF 		bl	SDIO_GetFlagStatus
 4033              	.LVL340:
1848:HW/SDCard/SDCard_sdio.c ****   {
 4034              		.loc 1 1848 11 view .LVU1468
 4035 00ea A0B9     		cbnz	r0, .L253
1854:HW/SDCard/SDCard_sdio.c ****   {
 4036              		.loc 1 1854 8 is_stmt 1 view .LVU1469
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 139


1854:HW/SDCard/SDCard_sdio.c ****   {
 4037              		.loc 1 1854 12 is_stmt 0 view .LVU1470
 4038 00ec 4FF40070 		mov	r0, #512
 4039 00f0 FFF7FEFF 		bl	SDIO_GetFlagStatus
 4040              	.LVL341:
1854:HW/SDCard/SDCard_sdio.c ****   {
 4041              		.loc 1 1854 11 view .LVU1471
 4042 00f4 C0B1     		cbz	r0, .L246
1856:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_START_BIT_ERR;
 4043              		.loc 1 1856 5 is_stmt 1 view .LVU1472
 4044 00f6 4FF40070 		mov	r0, #512
 4045 00fa FFF7FEFF 		bl	SDIO_ClearFlag
 4046              	.LVL342:
1857:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 4047              		.loc 1 1857 5 view .LVU1473
1858:HW/SDCard/SDCard_sdio.c ****   }
 4048              		.loc 1 1858 5 view .LVU1474
1858:HW/SDCard/SDCard_sdio.c ****   }
 4049              		.loc 1 1858 11 is_stmt 0 view .LVU1475
 4050 00fe 0726     		movs	r6, #7
 4051 0100 1EE0     		b	.L237
 4052              	.LVL343:
 4053              	.L251:
1838:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_DATA_TIMEOUT;
 4054              		.loc 1 1838 5 is_stmt 1 view .LVU1476
 4055 0102 0820     		movs	r0, #8
 4056 0104 FFF7FEFF 		bl	SDIO_ClearFlag
 4057              	.LVL344:
1839:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 4058              		.loc 1 1839 5 view .LVU1477
1840:HW/SDCard/SDCard_sdio.c ****   }
 4059              		.loc 1 1840 5 view .LVU1478
1840:HW/SDCard/SDCard_sdio.c ****   }
 4060              		.loc 1 1840 11 is_stmt 0 view .LVU1479
 4061 0108 0426     		movs	r6, #4
 4062 010a 19E0     		b	.L237
 4063              	.LVL345:
 4064              	.L252:
1844:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_DATA_CRC_FAIL;
 4065              		.loc 1 1844 5 is_stmt 1 view .LVU1480
 4066 010c 0220     		movs	r0, #2
 4067 010e FFF7FEFF 		bl	SDIO_ClearFlag
 4068              	.LVL346:
1845:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 4069              		.loc 1 1845 5 view .LVU1481
1846:HW/SDCard/SDCard_sdio.c ****   }
 4070              		.loc 1 1846 5 view .LVU1482
1846:HW/SDCard/SDCard_sdio.c ****   }
 4071              		.loc 1 1846 11 is_stmt 0 view .LVU1483
 4072 0112 0226     		movs	r6, #2
 4073 0114 14E0     		b	.L237
 4074              	.LVL347:
 4075              	.L253:
1850:HW/SDCard/SDCard_sdio.c ****     errorstatus = SD_RX_OVERRUN;
 4076              		.loc 1 1850 5 is_stmt 1 view .LVU1484
 4077 0116 2020     		movs	r0, #32
 4078 0118 FFF7FEFF 		bl	SDIO_ClearFlag
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 140


 4079              	.LVL348:
1851:HW/SDCard/SDCard_sdio.c ****     return(errorstatus);
 4080              		.loc 1 1851 5 view .LVU1485
1852:HW/SDCard/SDCard_sdio.c ****   }
 4081              		.loc 1 1852 5 view .LVU1486
1852:HW/SDCard/SDCard_sdio.c ****   }
 4082              		.loc 1 1852 11 is_stmt 0 view .LVU1487
 4083 011c 0626     		movs	r6, #6
 4084 011e 0FE0     		b	.L237
 4085              	.LVL349:
 4086              	.L247:
1863:HW/SDCard/SDCard_sdio.c ****     psdstatus++;
 4087              		.loc 1 1863 5 is_stmt 1 view .LVU1488
1863:HW/SDCard/SDCard_sdio.c ****     psdstatus++;
 4088              		.loc 1 1863 18 is_stmt 0 view .LVU1489
 4089 0120 FFF7FEFF 		bl	SDIO_ReadData
 4090              	.LVL350:
1863:HW/SDCard/SDCard_sdio.c ****     psdstatus++;
 4091              		.loc 1 1863 16 view .LVU1490
 4092 0124 45F8040B 		str	r0, [r5], #4
 4093              	.LVL351:
1864:HW/SDCard/SDCard_sdio.c ****   }
 4094              		.loc 1 1864 5 is_stmt 1 view .LVU1491
 4095              	.L246:
1861:HW/SDCard/SDCard_sdio.c ****   {
 4096              		.loc 1 1861 47 view .LVU1492
1861:HW/SDCard/SDCard_sdio.c ****   {
 4097              		.loc 1 1861 10 is_stmt 0 view .LVU1493
 4098 0128 4FF40010 		mov	r0, #2097152
 4099 012c FFF7FEFF 		bl	SDIO_GetFlagStatus
 4100              	.LVL352:
1861:HW/SDCard/SDCard_sdio.c ****   {
 4101              		.loc 1 1861 47 view .LVU1494
 4102 0130 0028     		cmp	r0, #0
 4103 0132 F5D1     		bne	.L247
1868:HW/SDCard/SDCard_sdio.c **** 
 4104              		.loc 1 1868 3 is_stmt 1 view .LVU1495
 4105 0134 40F2FF50 		movw	r0, #1535
 4106 0138 FFF7FEFF 		bl	SDIO_ClearFlag
 4107              	.LVL353:
1870:HW/SDCard/SDCard_sdio.c **** }
 4108              		.loc 1 1870 3 view .LVU1496
1870:HW/SDCard/SDCard_sdio.c **** }
 4109              		.loc 1 1870 9 is_stmt 0 view .LVU1497
 4110 013c 00E0     		b	.L237
 4111              	.LVL354:
 4112              	.L248:
1770:HW/SDCard/SDCard_sdio.c ****   }
 4113              		.loc 1 1770 11 view .LVU1498
 4114 013e 0E26     		movs	r6, #14
 4115              	.LVL355:
 4116              	.L237:
1871:HW/SDCard/SDCard_sdio.c **** 
 4117              		.loc 1 1871 1 view .LVU1499
 4118 0140 3046     		mov	r0, r6
 4119 0142 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4120              	.LVL356:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 141


 4121              	.L255:
1871:HW/SDCard/SDCard_sdio.c **** 
 4122              		.loc 1 1871 1 view .LVU1500
 4123              		.align	2
 4124              	.L254:
 4125 0144 00000000 		.word	SDIO_CmdInitStructure
 4126 0148 00000000 		.word	RCA
 4127 014c 00000000 		.word	SDIO_DataInitStructure
 4128 0150 00800140 		.word	1073840128
 4129              		.cfi_endproc
 4130              	.LFE51:
 4132              		.section	.text.SD_GetCardStatus,"ax",%progbits
 4133              		.align	1
 4134              		.global	SD_GetCardStatus
 4135              		.syntax unified
 4136              		.thumb
 4137              		.thumb_func
 4139              	SD_GetCardStatus:
 4140              	.LVL357:
 4141              	.LFB38:
 992:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 4142              		.loc 1 992 1 is_stmt 1 view -0
 4143              		.cfi_startproc
 4144              		@ args = 0, pretend = 0, frame = 0
 4145              		@ frame_needed = 0, uses_anonymous_args = 0
 992:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 4146              		.loc 1 992 1 is_stmt 0 view .LVU1502
 4147 0000 10B5     		push	{r4, lr}
 4148              	.LCFI46:
 4149              		.cfi_def_cfa_offset 8
 4150              		.cfi_offset 4, -8
 4151              		.cfi_offset 14, -4
 4152 0002 0446     		mov	r4, r0
 993:HW/SDCard/SDCard_sdio.c ****   uint8_t tmp = 0;
 4153              		.loc 1 993 3 is_stmt 1 view .LVU1503
 4154              	.LVL358:
 994:HW/SDCard/SDCard_sdio.c **** 
 4155              		.loc 1 994 3 view .LVU1504
 996:HW/SDCard/SDCard_sdio.c **** 
 4156              		.loc 1 996 3 view .LVU1505
 996:HW/SDCard/SDCard_sdio.c **** 
 4157              		.loc 1 996 17 is_stmt 0 view .LVU1506
 4158 0004 1D48     		ldr	r0, .L259
 4159              	.LVL359:
 996:HW/SDCard/SDCard_sdio.c **** 
 4160              		.loc 1 996 17 view .LVU1507
 4161 0006 FFF7FEFF 		bl	SD_SendSDStatus
 4162              	.LVL360:
 998:HW/SDCard/SDCard_sdio.c ****   {
 4163              		.loc 1 998 3 is_stmt 1 view .LVU1508
 998:HW/SDCard/SDCard_sdio.c ****   {
 4164              		.loc 1 998 6 is_stmt 0 view .LVU1509
 4165 000a 0028     		cmp	r0, #0
 4166 000c 35D1     		bne	.L257
1004:HW/SDCard/SDCard_sdio.c ****   cardstatus->DAT_BUS_WIDTH = tmp;
 4167              		.loc 1 1004 3 is_stmt 1 view .LVU1510
1004:HW/SDCard/SDCard_sdio.c ****   cardstatus->DAT_BUS_WIDTH = tmp;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 142


 4168              		.loc 1 1004 32 is_stmt 0 view .LVU1511
 4169 000e 1B4B     		ldr	r3, .L259
 4170 0010 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
1004:HW/SDCard/SDCard_sdio.c ****   cardstatus->DAT_BUS_WIDTH = tmp;
 4171              		.loc 1 1004 7 view .LVU1512
 4172 0012 9209     		lsrs	r2, r2, #6
 4173              	.LVL361:
1005:HW/SDCard/SDCard_sdio.c **** 
 4174              		.loc 1 1005 3 is_stmt 1 view .LVU1513
1005:HW/SDCard/SDCard_sdio.c **** 
 4175              		.loc 1 1005 29 is_stmt 0 view .LVU1514
 4176 0014 2270     		strb	r2, [r4]
1008:HW/SDCard/SDCard_sdio.c ****   cardstatus->SECURED_MODE = tmp;
 4177              		.loc 1 1008 3 is_stmt 1 view .LVU1515
1008:HW/SDCard/SDCard_sdio.c ****   cardstatus->SECURED_MODE = tmp;
 4178              		.loc 1 1008 32 is_stmt 0 view .LVU1516
 4179 0016 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 4180              	.LVL362:
1008:HW/SDCard/SDCard_sdio.c ****   cardstatus->SECURED_MODE = tmp;
 4181              		.loc 1 1008 7 view .LVU1517
 4182 0018 C2F34012 		ubfx	r2, r2, #5, #1
 4183              	.LVL363:
1009:HW/SDCard/SDCard_sdio.c **** 
 4184              		.loc 1 1009 3 is_stmt 1 view .LVU1518
1009:HW/SDCard/SDCard_sdio.c **** 
 4185              		.loc 1 1009 28 is_stmt 0 view .LVU1519
 4186 001c 6270     		strb	r2, [r4, #1]
1012:HW/SDCard/SDCard_sdio.c ****   cardstatus->SD_CARD_TYPE = tmp << 8;
 4187              		.loc 1 1012 3 is_stmt 1 view .LVU1520
1012:HW/SDCard/SDCard_sdio.c ****   cardstatus->SD_CARD_TYPE = tmp << 8;
 4188              		.loc 1 1012 7 is_stmt 0 view .LVU1521
 4189 001e 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 4190              	.LVL364:
1013:HW/SDCard/SDCard_sdio.c **** 
 4191              		.loc 1 1013 3 is_stmt 1 view .LVU1522
1013:HW/SDCard/SDCard_sdio.c **** 
 4192              		.loc 1 1013 34 is_stmt 0 view .LVU1523
 4193 0020 1202     		lsls	r2, r2, #8
1013:HW/SDCard/SDCard_sdio.c **** 
 4194              		.loc 1 1013 28 view .LVU1524
 4195 0022 6280     		strh	r2, [r4, #2]	@ movhi
 4196              	.LVL365:
1016:HW/SDCard/SDCard_sdio.c ****   cardstatus->SD_CARD_TYPE |= tmp;
 4197              		.loc 1 1016 3 is_stmt 1 view .LVU1525
1016:HW/SDCard/SDCard_sdio.c ****   cardstatus->SD_CARD_TYPE |= tmp;
 4198              		.loc 1 1016 7 is_stmt 0 view .LVU1526
 4199 0024 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 4200              	.LVL366:
1017:HW/SDCard/SDCard_sdio.c **** 
 4201              		.loc 1 1017 3 is_stmt 1 view .LVU1527
1017:HW/SDCard/SDCard_sdio.c **** 
 4202              		.loc 1 1017 13 is_stmt 0 view .LVU1528
 4203 0026 6188     		ldrh	r1, [r4, #2]
 4204 0028 89B2     		uxth	r1, r1
1017:HW/SDCard/SDCard_sdio.c **** 
 4205              		.loc 1 1017 28 view .LVU1529
 4206 002a 0A43     		orrs	r2, r2, r1
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 143


 4207 002c 6280     		strh	r2, [r4, #2]	@ movhi
 4208              	.LVL367:
1020:HW/SDCard/SDCard_sdio.c ****   cardstatus->SIZE_OF_PROTECTED_AREA = tmp << 24;
 4209              		.loc 1 1020 3 is_stmt 1 view .LVU1530
1020:HW/SDCard/SDCard_sdio.c ****   cardstatus->SIZE_OF_PROTECTED_AREA = tmp << 24;
 4210              		.loc 1 1020 7 is_stmt 0 view .LVU1531
 4211 002e 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 4212              	.LVL368:
1021:HW/SDCard/SDCard_sdio.c **** 
 4213              		.loc 1 1021 3 is_stmt 1 view .LVU1532
1021:HW/SDCard/SDCard_sdio.c **** 
 4214              		.loc 1 1021 44 is_stmt 0 view .LVU1533
 4215 0030 1206     		lsls	r2, r2, #24
1021:HW/SDCard/SDCard_sdio.c **** 
 4216              		.loc 1 1021 38 view .LVU1534
 4217 0032 6260     		str	r2, [r4, #4]
 4218              	.LVL369:
1024:HW/SDCard/SDCard_sdio.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp << 16;
 4219              		.loc 1 1024 3 is_stmt 1 view .LVU1535
1024:HW/SDCard/SDCard_sdio.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp << 16;
 4220              		.loc 1 1024 7 is_stmt 0 view .LVU1536
 4221 0034 5979     		ldrb	r1, [r3, #5]	@ zero_extendqisi2
 4222              	.LVL370:
1025:HW/SDCard/SDCard_sdio.c **** 
 4223              		.loc 1 1025 3 is_stmt 1 view .LVU1537
1025:HW/SDCard/SDCard_sdio.c **** 
 4224              		.loc 1 1025 13 is_stmt 0 view .LVU1538
 4225 0036 6268     		ldr	r2, [r4, #4]
1025:HW/SDCard/SDCard_sdio.c **** 
 4226              		.loc 1 1025 38 view .LVU1539
 4227 0038 42EA0142 		orr	r2, r2, r1, lsl #16
 4228 003c 6260     		str	r2, [r4, #4]
 4229              	.LVL371:
1028:HW/SDCard/SDCard_sdio.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp << 8;
 4230              		.loc 1 1028 3 is_stmt 1 view .LVU1540
1028:HW/SDCard/SDCard_sdio.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp << 8;
 4231              		.loc 1 1028 7 is_stmt 0 view .LVU1541
 4232 003e 9979     		ldrb	r1, [r3, #6]	@ zero_extendqisi2
 4233              	.LVL372:
1029:HW/SDCard/SDCard_sdio.c **** 
 4234              		.loc 1 1029 3 is_stmt 1 view .LVU1542
1029:HW/SDCard/SDCard_sdio.c **** 
 4235              		.loc 1 1029 13 is_stmt 0 view .LVU1543
 4236 0040 6268     		ldr	r2, [r4, #4]
1029:HW/SDCard/SDCard_sdio.c **** 
 4237              		.loc 1 1029 38 view .LVU1544
 4238 0042 42EA0122 		orr	r2, r2, r1, lsl #8
 4239 0046 6260     		str	r2, [r4, #4]
 4240              	.LVL373:
1032:HW/SDCard/SDCard_sdio.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp;
 4241              		.loc 1 1032 3 is_stmt 1 view .LVU1545
1032:HW/SDCard/SDCard_sdio.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp;
 4242              		.loc 1 1032 7 is_stmt 0 view .LVU1546
 4243 0048 DA79     		ldrb	r2, [r3, #7]	@ zero_extendqisi2
 4244              	.LVL374:
1033:HW/SDCard/SDCard_sdio.c **** 
 4245              		.loc 1 1033 3 is_stmt 1 view .LVU1547
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 144


1033:HW/SDCard/SDCard_sdio.c **** 
 4246              		.loc 1 1033 13 is_stmt 0 view .LVU1548
 4247 004a 6168     		ldr	r1, [r4, #4]
1033:HW/SDCard/SDCard_sdio.c **** 
 4248              		.loc 1 1033 38 view .LVU1549
 4249 004c 0A43     		orrs	r2, r2, r1
 4250 004e 6260     		str	r2, [r4, #4]
 4251              	.LVL375:
1036:HW/SDCard/SDCard_sdio.c ****   cardstatus->SPEED_CLASS = tmp;
 4252              		.loc 1 1036 3 is_stmt 1 view .LVU1550
1036:HW/SDCard/SDCard_sdio.c ****   cardstatus->SPEED_CLASS = tmp;
 4253              		.loc 1 1036 7 is_stmt 0 view .LVU1551
 4254 0050 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 4255              	.LVL376:
1037:HW/SDCard/SDCard_sdio.c **** 
 4256              		.loc 1 1037 3 is_stmt 1 view .LVU1552
1037:HW/SDCard/SDCard_sdio.c **** 
 4257              		.loc 1 1037 27 is_stmt 0 view .LVU1553
 4258 0052 2272     		strb	r2, [r4, #8]
1040:HW/SDCard/SDCard_sdio.c ****   cardstatus->PERFORMANCE_MOVE = tmp;
 4259              		.loc 1 1040 3 is_stmt 1 view .LVU1554
1040:HW/SDCard/SDCard_sdio.c ****   cardstatus->PERFORMANCE_MOVE = tmp;
 4260              		.loc 1 1040 7 is_stmt 0 view .LVU1555
 4261 0054 5A7A     		ldrb	r2, [r3, #9]	@ zero_extendqisi2
 4262              	.LVL377:
1041:HW/SDCard/SDCard_sdio.c **** 
 4263              		.loc 1 1041 3 is_stmt 1 view .LVU1556
1041:HW/SDCard/SDCard_sdio.c **** 
 4264              		.loc 1 1041 32 is_stmt 0 view .LVU1557
 4265 0056 6272     		strb	r2, [r4, #9]
1044:HW/SDCard/SDCard_sdio.c ****   cardstatus->AU_SIZE = tmp;
 4266              		.loc 1 1044 3 is_stmt 1 view .LVU1558
1044:HW/SDCard/SDCard_sdio.c ****   cardstatus->AU_SIZE = tmp;
 4267              		.loc 1 1044 32 is_stmt 0 view .LVU1559
 4268 0058 9A7A     		ldrb	r2, [r3, #10]	@ zero_extendqisi2
 4269              	.LVL378:
1044:HW/SDCard/SDCard_sdio.c ****   cardstatus->AU_SIZE = tmp;
 4270              		.loc 1 1044 7 view .LVU1560
 4271 005a 1209     		lsrs	r2, r2, #4
 4272              	.LVL379:
1045:HW/SDCard/SDCard_sdio.c **** 
 4273              		.loc 1 1045 3 is_stmt 1 view .LVU1561
1045:HW/SDCard/SDCard_sdio.c **** 
 4274              		.loc 1 1045 23 is_stmt 0 view .LVU1562
 4275 005c A272     		strb	r2, [r4, #10]
1048:HW/SDCard/SDCard_sdio.c ****   cardstatus->ERASE_SIZE = tmp << 8;
 4276              		.loc 1 1048 3 is_stmt 1 view .LVU1563
1048:HW/SDCard/SDCard_sdio.c ****   cardstatus->ERASE_SIZE = tmp << 8;
 4277              		.loc 1 1048 7 is_stmt 0 view .LVU1564
 4278 005e DA7A     		ldrb	r2, [r3, #11]	@ zero_extendqisi2
 4279              	.LVL380:
1049:HW/SDCard/SDCard_sdio.c **** 
 4280              		.loc 1 1049 3 is_stmt 1 view .LVU1565
1049:HW/SDCard/SDCard_sdio.c **** 
 4281              		.loc 1 1049 32 is_stmt 0 view .LVU1566
 4282 0060 1202     		lsls	r2, r2, #8
1049:HW/SDCard/SDCard_sdio.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 145


 4283              		.loc 1 1049 26 view .LVU1567
 4284 0062 A281     		strh	r2, [r4, #12]	@ movhi
 4285              	.LVL381:
1052:HW/SDCard/SDCard_sdio.c ****   cardstatus->ERASE_SIZE |= tmp;
 4286              		.loc 1 1052 3 is_stmt 1 view .LVU1568
1052:HW/SDCard/SDCard_sdio.c ****   cardstatus->ERASE_SIZE |= tmp;
 4287              		.loc 1 1052 7 is_stmt 0 view .LVU1569
 4288 0064 1A7B     		ldrb	r2, [r3, #12]	@ zero_extendqisi2
 4289              	.LVL382:
1053:HW/SDCard/SDCard_sdio.c **** 
 4290              		.loc 1 1053 3 is_stmt 1 view .LVU1570
1053:HW/SDCard/SDCard_sdio.c **** 
 4291              		.loc 1 1053 13 is_stmt 0 view .LVU1571
 4292 0066 A189     		ldrh	r1, [r4, #12]
 4293 0068 89B2     		uxth	r1, r1
1053:HW/SDCard/SDCard_sdio.c **** 
 4294              		.loc 1 1053 26 view .LVU1572
 4295 006a 0A43     		orrs	r2, r2, r1
 4296 006c A281     		strh	r2, [r4, #12]	@ movhi
 4297              	.LVL383:
1056:HW/SDCard/SDCard_sdio.c ****   cardstatus->ERASE_TIMEOUT = tmp;
 4298              		.loc 1 1056 3 is_stmt 1 view .LVU1573
1056:HW/SDCard/SDCard_sdio.c ****   cardstatus->ERASE_TIMEOUT = tmp;
 4299              		.loc 1 1056 32 is_stmt 0 view .LVU1574
 4300 006e 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
1056:HW/SDCard/SDCard_sdio.c ****   cardstatus->ERASE_TIMEOUT = tmp;
 4301              		.loc 1 1056 7 view .LVU1575
 4302 0070 9A08     		lsrs	r2, r3, #2
 4303              	.LVL384:
1057:HW/SDCard/SDCard_sdio.c **** 
 4304              		.loc 1 1057 3 is_stmt 1 view .LVU1576
1057:HW/SDCard/SDCard_sdio.c **** 
 4305              		.loc 1 1057 29 is_stmt 0 view .LVU1577
 4306 0072 A273     		strb	r2, [r4, #14]
1060:HW/SDCard/SDCard_sdio.c ****   cardstatus->ERASE_OFFSET = tmp;
 4307              		.loc 1 1060 3 is_stmt 1 view .LVU1578
1060:HW/SDCard/SDCard_sdio.c ****   cardstatus->ERASE_OFFSET = tmp;
 4308              		.loc 1 1060 7 is_stmt 0 view .LVU1579
 4309 0074 03F00303 		and	r3, r3, #3
 4310              	.LVL385:
1061:HW/SDCard/SDCard_sdio.c ****  
 4311              		.loc 1 1061 3 is_stmt 1 view .LVU1580
1061:HW/SDCard/SDCard_sdio.c ****  
 4312              		.loc 1 1061 28 is_stmt 0 view .LVU1581
 4313 0078 E373     		strb	r3, [r4, #15]
1063:HW/SDCard/SDCard_sdio.c **** }
 4314              		.loc 1 1063 3 is_stmt 1 view .LVU1582
 4315              	.LVL386:
 4316              	.L257:
1064:HW/SDCard/SDCard_sdio.c **** 
 4317              		.loc 1 1064 1 is_stmt 0 view .LVU1583
 4318 007a 10BD     		pop	{r4, pc}
 4319              	.LVL387:
 4320              	.L260:
1064:HW/SDCard/SDCard_sdio.c **** 
 4321              		.loc 1 1064 1 view .LVU1584
 4322              		.align	2
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 146


 4323              	.L259:
 4324 007c 00000000 		.word	SDSTATUS_Tab
 4325              		.cfi_endproc
 4326              	.LFE38:
 4328              		.section	.text.SD_ProcessIRQSrc,"ax",%progbits
 4329              		.align	1
 4330              		.global	SD_ProcessIRQSrc
 4331              		.syntax unified
 4332              		.thumb
 4333              		.thumb_func
 4335              	SD_ProcessIRQSrc:
 4336              	.LFB52:
1879:HW/SDCard/SDCard_sdio.c ****   if (StopCondition == 1)
 4337              		.loc 1 1879 1 is_stmt 1 view -0
 4338              		.cfi_startproc
 4339              		@ args = 0, pretend = 0, frame = 0
 4340              		@ frame_needed = 0, uses_anonymous_args = 0
 4341 0000 08B5     		push	{r3, lr}
 4342              	.LCFI47:
 4343              		.cfi_def_cfa_offset 8
 4344              		.cfi_offset 3, -8
 4345              		.cfi_offset 14, -4
1880:HW/SDCard/SDCard_sdio.c ****   {
 4346              		.loc 1 1880 3 view .LVU1586
1880:HW/SDCard/SDCard_sdio.c ****   {
 4347              		.loc 1 1880 21 is_stmt 0 view .LVU1587
 4348 0002 114B     		ldr	r3, .L266
 4349 0004 1B68     		ldr	r3, [r3]
1880:HW/SDCard/SDCard_sdio.c ****   {
 4350              		.loc 1 1880 6 view .LVU1588
 4351 0006 012B     		cmp	r3, #1
 4352 0008 11D0     		beq	.L265
1888:HW/SDCard/SDCard_sdio.c ****   }
 4353              		.loc 1 1888 5 is_stmt 1 view .LVU1589
1888:HW/SDCard/SDCard_sdio.c ****   }
 4354              		.loc 1 1888 19 is_stmt 0 view .LVU1590
 4355 000a 104B     		ldr	r3, .L266+4
 4356 000c 0022     		movs	r2, #0
 4357 000e 1A70     		strb	r2, [r3]
 4358              	.L263:
1890:HW/SDCard/SDCard_sdio.c ****   SDIO_ITConfig(SDIO_IT_DATAEND, DISABLE);
 4359              		.loc 1 1890 3 is_stmt 1 view .LVU1591
 4360 0010 4FF48070 		mov	r0, #256
 4361 0014 FFF7FEFF 		bl	SDIO_ClearITPendingBit
 4362              	.LVL388:
1891:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 1;
 4363              		.loc 1 1891 3 view .LVU1592
 4364 0018 0021     		movs	r1, #0
 4365 001a 4FF48070 		mov	r0, #256
 4366 001e FFF7FEFF 		bl	SDIO_ITConfig
 4367              	.LVL389:
1892:HW/SDCard/SDCard_sdio.c ****   return(TransferError);
 4368              		.loc 1 1892 3 view .LVU1593
1892:HW/SDCard/SDCard_sdio.c ****   return(TransferError);
 4369              		.loc 1 1892 15 is_stmt 0 view .LVU1594
 4370 0022 0B4B     		ldr	r3, .L266+8
 4371 0024 0122     		movs	r2, #1
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 147


 4372 0026 1A60     		str	r2, [r3]
1893:HW/SDCard/SDCard_sdio.c **** }
 4373              		.loc 1 1893 3 is_stmt 1 view .LVU1595
1893:HW/SDCard/SDCard_sdio.c **** }
 4374              		.loc 1 1893 9 is_stmt 0 view .LVU1596
 4375 0028 084B     		ldr	r3, .L266+4
 4376 002a 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
1894:HW/SDCard/SDCard_sdio.c **** 
 4377              		.loc 1 1894 1 view .LVU1597
 4378 002c 08BD     		pop	{r3, pc}
 4379              	.L265:
1882:HW/SDCard/SDCard_sdio.c ****     SDIO->CMD = 0x44C;
 4380              		.loc 1 1882 5 is_stmt 1 view .LVU1598
1882:HW/SDCard/SDCard_sdio.c ****     SDIO->CMD = 0x44C;
 4381              		.loc 1 1882 15 is_stmt 0 view .LVU1599
 4382 002e 094B     		ldr	r3, .L266+12
 4383 0030 0022     		movs	r2, #0
 4384 0032 9A60     		str	r2, [r3, #8]
1883:HW/SDCard/SDCard_sdio.c ****     TransferError = CmdResp1Error(SD_CMD_STOP_TRANSMISSION);
 4385              		.loc 1 1883 5 is_stmt 1 view .LVU1600
1883:HW/SDCard/SDCard_sdio.c ****     TransferError = CmdResp1Error(SD_CMD_STOP_TRANSMISSION);
 4386              		.loc 1 1883 15 is_stmt 0 view .LVU1601
 4387 0034 40F24C42 		movw	r2, #1100
 4388 0038 DA60     		str	r2, [r3, #12]
1884:HW/SDCard/SDCard_sdio.c ****   }
 4389              		.loc 1 1884 5 is_stmt 1 view .LVU1602
1884:HW/SDCard/SDCard_sdio.c ****   }
 4390              		.loc 1 1884 21 is_stmt 0 view .LVU1603
 4391 003a 0C20     		movs	r0, #12
 4392 003c FFF7FEFF 		bl	CmdResp1Error
 4393              	.LVL390:
1884:HW/SDCard/SDCard_sdio.c ****   }
 4394              		.loc 1 1884 19 view .LVU1604
 4395 0040 024B     		ldr	r3, .L266+4
 4396 0042 1870     		strb	r0, [r3]
 4397 0044 E4E7     		b	.L263
 4398              	.L267:
 4399 0046 00BF     		.align	2
 4400              	.L266:
 4401 0048 00000000 		.word	StopCondition
 4402 004c 00000000 		.word	TransferError
 4403 0050 00000000 		.word	TransferEnd
 4404 0054 00800140 		.word	1073840128
 4405              		.cfi_endproc
 4406              	.LFE52:
 4408              		.section	.text.convert_from_bytes_to_power_of_two,"ax",%progbits
 4409              		.align	1
 4410              		.global	convert_from_bytes_to_power_of_two
 4411              		.syntax unified
 4412              		.thumb
 4413              		.thumb_func
 4415              	convert_from_bytes_to_power_of_two:
 4416              	.LVL391:
 4417              	.LFB62:
2507:HW/SDCard/SDCard_sdio.c ****   uint8_t count = 0;
 4418              		.loc 1 2507 1 is_stmt 1 view -0
 4419              		.cfi_startproc
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 148


 4420              		@ args = 0, pretend = 0, frame = 0
 4421              		@ frame_needed = 0, uses_anonymous_args = 0
 4422              		@ link register save eliminated.
2507:HW/SDCard/SDCard_sdio.c ****   uint8_t count = 0;
 4423              		.loc 1 2507 1 is_stmt 0 view .LVU1606
 4424 0000 0346     		mov	r3, r0
2508:HW/SDCard/SDCard_sdio.c **** 
 4425              		.loc 1 2508 3 is_stmt 1 view .LVU1607
 4426              	.LVL392:
2510:HW/SDCard/SDCard_sdio.c ****   {
 4427              		.loc 1 2510 3 view .LVU1608
2508:HW/SDCard/SDCard_sdio.c **** 
 4428              		.loc 1 2508 11 is_stmt 0 view .LVU1609
 4429 0002 0020     		movs	r0, #0
 4430              	.LVL393:
2510:HW/SDCard/SDCard_sdio.c ****   {
 4431              		.loc 1 2510 9 view .LVU1610
 4432 0004 02E0     		b	.L269
 4433              	.LVL394:
 4434              	.L270:
2512:HW/SDCard/SDCard_sdio.c ****     count++;
 4435              		.loc 1 2512 5 is_stmt 1 view .LVU1611
2512:HW/SDCard/SDCard_sdio.c ****     count++;
 4436              		.loc 1 2512 19 is_stmt 0 view .LVU1612
 4437 0006 5B08     		lsrs	r3, r3, #1
 4438              	.LVL395:
2513:HW/SDCard/SDCard_sdio.c ****   }
 4439              		.loc 1 2513 5 is_stmt 1 view .LVU1613
2513:HW/SDCard/SDCard_sdio.c ****   }
 4440              		.loc 1 2513 10 is_stmt 0 view .LVU1614
 4441 0008 0130     		adds	r0, r0, #1
 4442              	.LVL396:
2513:HW/SDCard/SDCard_sdio.c ****   }
 4443              		.loc 1 2513 10 view .LVU1615
 4444 000a C0B2     		uxtb	r0, r0
 4445              	.LVL397:
 4446              	.L269:
2510:HW/SDCard/SDCard_sdio.c ****   {
 4447              		.loc 1 2510 24 is_stmt 1 view .LVU1616
 4448 000c 012B     		cmp	r3, #1
 4449 000e FAD1     		bne	.L270
2515:HW/SDCard/SDCard_sdio.c **** }
 4450              		.loc 1 2515 3 view .LVU1617
2516:HW/SDCard/SDCard_sdio.c **** 
 4451              		.loc 1 2516 1 is_stmt 0 view .LVU1618
 4452 0010 7047     		bx	lr
 4453              		.cfi_endproc
 4454              	.LFE62:
 4456              		.section	.text.SD_NVIC_Configuration,"ax",%progbits
 4457              		.align	1
 4458              		.global	SD_NVIC_Configuration
 4459              		.syntax unified
 4460              		.thumb
 4461              		.thumb_func
 4463              	SD_NVIC_Configuration:
 4464              	.LFB63:
2524:HW/SDCard/SDCard_sdio.c ****   NVIC_InitTypeDef NVIC_InitStructure;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 149


 4465              		.loc 1 2524 1 is_stmt 1 view -0
 4466              		.cfi_startproc
 4467              		@ args = 0, pretend = 0, frame = 8
 4468              		@ frame_needed = 0, uses_anonymous_args = 0
 4469 0000 00B5     		push	{lr}
 4470              	.LCFI48:
 4471              		.cfi_def_cfa_offset 4
 4472              		.cfi_offset 14, -4
 4473 0002 83B0     		sub	sp, sp, #12
 4474              	.LCFI49:
 4475              		.cfi_def_cfa_offset 16
2525:HW/SDCard/SDCard_sdio.c ****   NVIC_InitStructure.NVIC_IRQChannel = SDIO_IRQn;
 4476              		.loc 1 2525 3 view .LVU1620
2526:HW/SDCard/SDCard_sdio.c ****   NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 2;
 4477              		.loc 1 2526 3 view .LVU1621
2526:HW/SDCard/SDCard_sdio.c ****   NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 2;
 4478              		.loc 1 2526 38 is_stmt 0 view .LVU1622
 4479 0004 3123     		movs	r3, #49
 4480 0006 8DF80430 		strb	r3, [sp, #4]
2527:HW/SDCard/SDCard_sdio.c ****   NVIC_InitStructure.NVIC_IRQChannelSubPriority = 2;
 4481              		.loc 1 2527 3 is_stmt 1 view .LVU1623
2527:HW/SDCard/SDCard_sdio.c ****   NVIC_InitStructure.NVIC_IRQChannelSubPriority = 2;
 4482              		.loc 1 2527 56 is_stmt 0 view .LVU1624
 4483 000a 0223     		movs	r3, #2
 4484 000c 8DF80530 		strb	r3, [sp, #5]
2528:HW/SDCard/SDCard_sdio.c ****   NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 4485              		.loc 1 2528 3 is_stmt 1 view .LVU1625
2528:HW/SDCard/SDCard_sdio.c ****   NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 4486              		.loc 1 2528 49 is_stmt 0 view .LVU1626
 4487 0010 8DF80630 		strb	r3, [sp, #6]
2529:HW/SDCard/SDCard_sdio.c ****   NVIC_Init(&NVIC_InitStructure);
 4488              		.loc 1 2529 3 is_stmt 1 view .LVU1627
2529:HW/SDCard/SDCard_sdio.c ****   NVIC_Init(&NVIC_InitStructure);
 4489              		.loc 1 2529 41 is_stmt 0 view .LVU1628
 4490 0014 0123     		movs	r3, #1
 4491 0016 8DF80730 		strb	r3, [sp, #7]
2530:HW/SDCard/SDCard_sdio.c **** }
 4492              		.loc 1 2530 3 is_stmt 1 view .LVU1629
 4493 001a 01A8     		add	r0, sp, #4
 4494 001c FFF7FEFF 		bl	NVIC_Init
 4495              	.LVL398:
2531:HW/SDCard/SDCard_sdio.c **** 
 4496              		.loc 1 2531 1 is_stmt 0 view .LVU1630
 4497 0020 03B0     		add	sp, sp, #12
 4498              	.LCFI50:
 4499              		.cfi_def_cfa_offset 4
 4500              		@ sp needed
 4501 0022 5DF804FB 		ldr	pc, [sp], #4
 4502              		.cfi_endproc
 4503              	.LFE63:
 4505              		.section	.text.SD_GPIO_Configuration,"ax",%progbits
 4506              		.align	1
 4507              		.global	SD_GPIO_Configuration
 4508              		.syntax unified
 4509              		.thumb
 4510              		.thumb_func
 4512              	SD_GPIO_Configuration:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 150


 4513              	.LFB64:
2538:HW/SDCard/SDCard_sdio.c ****   /* ‰ΩøËÉΩÊó∂ÈíüÊ∫ê */
 4514              		.loc 1 2538 33 is_stmt 1 view -0
 4515              		.cfi_startproc
 4516              		@ args = 0, pretend = 0, frame = 8
 4517              		@ frame_needed = 0, uses_anonymous_args = 0
 4518 0000 00B5     		push	{lr}
 4519              	.LCFI51:
 4520              		.cfi_def_cfa_offset 4
 4521              		.cfi_offset 14, -4
 4522 0002 83B0     		sub	sp, sp, #12
 4523              	.LCFI52:
 4524              		.cfi_def_cfa_offset 16
2540:HW/SDCard/SDCard_sdio.c ****   RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOC | RCC_APB2Periph_GPIOD, ENABLE);  // ‰ΩøËÉΩÂØπÂ∫îGPIO
 4525              		.loc 1 2540 3 view .LVU1632
 4526 0004 0121     		movs	r1, #1
 4527 0006 4FF48060 		mov	r0, #1024
 4528 000a FFF7FEFF 		bl	RCC_AHBPeriphClockCmd
 4529              	.LVL399:
2541:HW/SDCard/SDCard_sdio.c ****   /* ÈÖçÁΩÆÂºïËÑö */
 4530              		.loc 1 2541 3 view .LVU1633
 4531 000e 0121     		movs	r1, #1
 4532 0010 3020     		movs	r0, #48
 4533 0012 FFF7FEFF 		bl	RCC_APB2PeriphClockCmd
 4534              	.LVL400:
2543:HW/SDCard/SDCard_sdio.c ****   gpioDef.GPIO_Mode = GPIO_Mode_AF_PP;
 4535              		.loc 1 2543 3 view .LVU1634
2544:HW/SDCard/SDCard_sdio.c ****   gpioDef.GPIO_Speed = GPIO_Speed_50MHz;
 4536              		.loc 1 2544 3 view .LVU1635
2544:HW/SDCard/SDCard_sdio.c ****   gpioDef.GPIO_Speed = GPIO_Speed_50MHz;
 4537              		.loc 1 2544 21 is_stmt 0 view .LVU1636
 4538 0016 1823     		movs	r3, #24
 4539 0018 8DF80730 		strb	r3, [sp, #7]
2545:HW/SDCard/SDCard_sdio.c ****   gpioDef.GPIO_Pin = GPIO_Pin_8 | GPIO_Pin_9 | GPIO_Pin_10 | GPIO_Pin_11 | GPIO_Pin_12;   // SDIO_D
 4540              		.loc 1 2545 3 is_stmt 1 view .LVU1637
2545:HW/SDCard/SDCard_sdio.c ****   gpioDef.GPIO_Pin = GPIO_Pin_8 | GPIO_Pin_9 | GPIO_Pin_10 | GPIO_Pin_11 | GPIO_Pin_12;   // SDIO_D
 4541              		.loc 1 2545 22 is_stmt 0 view .LVU1638
 4542 001c 0323     		movs	r3, #3
 4543 001e 8DF80630 		strb	r3, [sp, #6]
2546:HW/SDCard/SDCard_sdio.c ****   GPIO_Init(GPIOC, &gpioDef);
 4544              		.loc 1 2546 3 is_stmt 1 view .LVU1639
2546:HW/SDCard/SDCard_sdio.c ****   GPIO_Init(GPIOC, &gpioDef);
 4545              		.loc 1 2546 20 is_stmt 0 view .LVU1640
 4546 0022 4FF4F853 		mov	r3, #7936
 4547 0026 ADF80430 		strh	r3, [sp, #4]	@ movhi
2547:HW/SDCard/SDCard_sdio.c ****   gpioDef.GPIO_Pin = GPIO_Pin_2;  // SDIO_CMD
 4548              		.loc 1 2547 3 is_stmt 1 view .LVU1641
 4549 002a 01A9     		add	r1, sp, #4
 4550 002c 0648     		ldr	r0, .L275
 4551 002e FFF7FEFF 		bl	GPIO_Init
 4552              	.LVL401:
2548:HW/SDCard/SDCard_sdio.c ****   GPIO_Init(GPIOD, &gpioDef);
 4553              		.loc 1 2548 3 view .LVU1642
2548:HW/SDCard/SDCard_sdio.c ****   GPIO_Init(GPIOD, &gpioDef);
 4554              		.loc 1 2548 20 is_stmt 0 view .LVU1643
 4555 0032 0423     		movs	r3, #4
 4556 0034 ADF80430 		strh	r3, [sp, #4]	@ movhi
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 151


2549:HW/SDCard/SDCard_sdio.c **** }
 4557              		.loc 1 2549 3 is_stmt 1 view .LVU1644
 4558 0038 0DEB0301 		add	r1, sp, r3
 4559 003c 0348     		ldr	r0, .L275+4
 4560 003e FFF7FEFF 		bl	GPIO_Init
 4561              	.LVL402:
2550:HW/SDCard/SDCard_sdio.c **** 
 4562              		.loc 1 2550 1 is_stmt 0 view .LVU1645
 4563 0042 03B0     		add	sp, sp, #12
 4564              	.LCFI53:
 4565              		.cfi_def_cfa_offset 4
 4566              		@ sp needed
 4567 0044 5DF804FB 		ldr	pc, [sp], #4
 4568              	.L276:
 4569              		.align	2
 4570              	.L275:
 4571 0048 00100140 		.word	1073811456
 4572 004c 00140140 		.word	1073812480
 4573              		.cfi_endproc
 4574              	.LFE64:
 4576              		.section	.text.SD_Init,"ax",%progbits
 4577              		.align	1
 4578              		.global	SD_Init
 4579              		.syntax unified
 4580              		.thumb
 4581              		.thumb_func
 4583              	SD_Init:
 4584              	.LFB30:
 372:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 4585              		.loc 1 372 1 is_stmt 1 view -0
 4586              		.cfi_startproc
 4587              		@ args = 0, pretend = 0, frame = 0
 4588              		@ frame_needed = 0, uses_anonymous_args = 0
 4589 0000 08B5     		push	{r3, lr}
 4590              	.LCFI54:
 4591              		.cfi_def_cfa_offset 8
 4592              		.cfi_offset 3, -8
 4593              		.cfi_offset 14, -4
 373:HW/SDCard/SDCard_sdio.c **** 
 4594              		.loc 1 373 3 view .LVU1647
 4595              	.LVL403:
 376:HW/SDCard/SDCard_sdio.c **** 
 4596              		.loc 1 376 3 view .LVU1648
 4597 0002 FFF7FEFF 		bl	SD_NVIC_Configuration
 4598              	.LVL404:
 379:HW/SDCard/SDCard_sdio.c **** 
 4599              		.loc 1 379 3 view .LVU1649
 4600 0006 FFF7FEFF 		bl	SD_GPIO_Configuration
 4601              	.LVL405:
 382:HW/SDCard/SDCard_sdio.c **** 
 4602              		.loc 1 382 3 view .LVU1650
 4603 000a FFF7FEFF 		bl	SD_LowLevel_Init
 4604              	.LVL406:
 385:HW/SDCard/SDCard_sdio.c **** 
 4605              		.loc 1 385 3 view .LVU1651
 4606 000e FFF7FEFF 		bl	SDIO_DeInit
 4607              	.LVL407:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 152


 388:HW/SDCard/SDCard_sdio.c **** 
 4608              		.loc 1 388 3 view .LVU1652
 388:HW/SDCard/SDCard_sdio.c **** 
 4609              		.loc 1 388 17 is_stmt 0 view .LVU1653
 4610 0012 FFF7FEFF 		bl	SD_PowerON
 4611              	.LVL408:
 390:HW/SDCard/SDCard_sdio.c ****   {
 4612              		.loc 1 390 3 is_stmt 1 view .LVU1654
 390:HW/SDCard/SDCard_sdio.c ****   {
 4613              		.loc 1 390 6 is_stmt 0 view .LVU1655
 4614 0016 00B1     		cbz	r0, .L280
 4615              	.LVL409:
 4616              	.L278:
 438:HW/SDCard/SDCard_sdio.c **** 
 4617              		.loc 1 438 1 view .LVU1656
 4618 0018 08BD     		pop	{r3, pc}
 4619              	.LVL410:
 4620              	.L280:
 397:HW/SDCard/SDCard_sdio.c **** 
 4621              		.loc 1 397 3 is_stmt 1 view .LVU1657
 397:HW/SDCard/SDCard_sdio.c **** 
 4622              		.loc 1 397 17 is_stmt 0 view .LVU1658
 4623 001a FFF7FEFF 		bl	SD_InitializeCards
 4624              	.LVL411:
 399:HW/SDCard/SDCard_sdio.c ****   {
 4625              		.loc 1 399 3 is_stmt 1 view .LVU1659
 399:HW/SDCard/SDCard_sdio.c ****   {
 4626              		.loc 1 399 6 is_stmt 0 view .LVU1660
 4627 001e 0028     		cmp	r0, #0
 4628 0020 FAD1     		bne	.L278
 409:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 4629              		.loc 1 409 3 is_stmt 1 view .LVU1661
 409:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 4630              		.loc 1 409 36 is_stmt 0 view .LVU1662
 4631 0022 0E48     		ldr	r0, .L281
 4632              	.LVL412:
 409:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 4633              		.loc 1 409 36 view .LVU1663
 4634 0024 0323     		movs	r3, #3
 4635 0026 0375     		strb	r3, [r0, #20]
 410:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
 4636              		.loc 1 410 3 is_stmt 1 view .LVU1664
 410:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
 4637              		.loc 1 410 37 is_stmt 0 view .LVU1665
 4638 0028 0023     		movs	r3, #0
 4639 002a 0360     		str	r3, [r0]
 411:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
 4640              		.loc 1 411 3 is_stmt 1 view .LVU1666
 411:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
 4641              		.loc 1 411 39 is_stmt 0 view .LVU1667
 4642 002c 4360     		str	r3, [r0, #4]
 412:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_1b;
 4643              		.loc 1 412 3 is_stmt 1 view .LVU1668
 412:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_1b;
 4644              		.loc 1 412 42 is_stmt 0 view .LVU1669
 4645 002e 8360     		str	r3, [r0, #8]
 413:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 153


 4646              		.loc 1 413 3 is_stmt 1 view .LVU1670
 413:HW/SDCard/SDCard_sdio.c ****   SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
 4647              		.loc 1 413 35 is_stmt 0 view .LVU1671
 4648 0030 C360     		str	r3, [r0, #12]
 414:HW/SDCard/SDCard_sdio.c ****   SDIO_Init(&SDIO_InitStructure);
 4649              		.loc 1 414 3 is_stmt 1 view .LVU1672
 414:HW/SDCard/SDCard_sdio.c ****   SDIO_Init(&SDIO_InitStructure);
 4650              		.loc 1 414 47 is_stmt 0 view .LVU1673
 4651 0032 0361     		str	r3, [r0, #16]
 415:HW/SDCard/SDCard_sdio.c ****   
 4652              		.loc 1 415 3 is_stmt 1 view .LVU1674
 4653 0034 FFF7FEFF 		bl	SDIO_Init
 4654              	.LVL413:
 418:HW/SDCard/SDCard_sdio.c ****   {
 4655              		.loc 1 418 3 view .LVU1675
 421:HW/SDCard/SDCard_sdio.c ****   }
 4656              		.loc 1 421 5 view .LVU1676
 421:HW/SDCard/SDCard_sdio.c ****   }
 4657              		.loc 1 421 19 is_stmt 0 view .LVU1677
 4658 0038 0948     		ldr	r0, .L281+4
 4659 003a FFF7FEFF 		bl	SD_GetCardInfo
 4660              	.LVL414:
 425:HW/SDCard/SDCard_sdio.c ****   {
 4661              		.loc 1 425 3 is_stmt 1 view .LVU1678
 425:HW/SDCard/SDCard_sdio.c ****   {
 4662              		.loc 1 425 6 is_stmt 0 view .LVU1679
 4663 003e 0028     		cmp	r0, #0
 4664 0040 EAD1     		bne	.L278
 428:HW/SDCard/SDCard_sdio.c ****   }
 4665              		.loc 1 428 5 is_stmt 1 view .LVU1680
 428:HW/SDCard/SDCard_sdio.c ****   }
 4666              		.loc 1 428 59 is_stmt 0 view .LVU1681
 4667 0042 074B     		ldr	r3, .L281+4
 4668 0044 B3F84C00 		ldrh	r0, [r3, #76]
 4669              	.LVL415:
 428:HW/SDCard/SDCard_sdio.c ****   }
 4670              		.loc 1 428 19 view .LVU1682
 4671 0048 0004     		lsls	r0, r0, #16
 4672 004a FFF7FEFF 		bl	SD_SelectDeselect
 4673              	.LVL416:
 432:HW/SDCard/SDCard_sdio.c ****   {
 4674              		.loc 1 432 3 is_stmt 1 view .LVU1683
 432:HW/SDCard/SDCard_sdio.c ****   {
 4675              		.loc 1 432 6 is_stmt 0 view .LVU1684
 4676 004e 0028     		cmp	r0, #0
 4677 0050 E2D1     		bne	.L278
 434:HW/SDCard/SDCard_sdio.c ****   }  
 4678              		.loc 1 434 5 is_stmt 1 view .LVU1685
 434:HW/SDCard/SDCard_sdio.c ****   }  
 4679              		.loc 1 434 19 is_stmt 0 view .LVU1686
 4680 0052 4FF40060 		mov	r0, #2048
 4681              	.LVL417:
 434:HW/SDCard/SDCard_sdio.c ****   }  
 4682              		.loc 1 434 19 view .LVU1687
 4683 0056 FFF7FEFF 		bl	SD_EnableWideBusOperation
 4684              	.LVL418:
 434:HW/SDCard/SDCard_sdio.c ****   }  
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 154


 4685              		.loc 1 434 19 view .LVU1688
 4686 005a DDE7     		b	.L278
 4687              	.L282:
 4688              		.align	2
 4689              	.L281:
 4690 005c 00000000 		.word	SDIO_InitStructure
 4691 0060 00000000 		.word	SDCardInfo
 4692              		.cfi_endproc
 4693              	.LFE30:
 4695              		.section	.text.SD_RxDMA_Configuration,"ax",%progbits
 4696              		.align	1
 4697              		.global	SD_RxDMA_Configuration
 4698              		.syntax unified
 4699              		.thumb
 4700              		.thumb_func
 4702              	SD_RxDMA_Configuration:
 4703              	.LVL419:
 4704              	.LFB66:
2576:HW/SDCard/SDCard_sdio.c **** 
2577:HW/SDCard/SDCard_sdio.c **** /**
2578:HW/SDCard/SDCard_sdio.c ****   * @brief ÈÖçÁΩÆSDIOÂØπÂ∫îÁöÑDMA4ÔºàP->MÊñπÂêëÔºâ
2579:HW/SDCard/SDCard_sdio.c ****   * @param dst ‰ªéFIFO‰∏≠ËØªÂèñÊï∞ÊçÆÂà∞dstÂÜÖÂ≠ò‰∏≠
2580:HW/SDCard/SDCard_sdio.c ****   * @param size Êï∞ÊçÆÂ§ßÂ∞èÔºåÂçï‰Ωç‰∏∫Byte
2581:HW/SDCard/SDCard_sdio.c ****   * @retval None
2582:HW/SDCard/SDCard_sdio.c ****  */
2583:HW/SDCard/SDCard_sdio.c **** void SD_RxDMA_Configuration(uint32_t* dst, uint32_t size){
 4705              		.loc 1 2583 58 is_stmt 1 view -0
 4706              		.cfi_startproc
 4707              		@ args = 0, pretend = 0, frame = 0
 4708              		@ frame_needed = 0, uses_anonymous_args = 0
 4709              		.loc 1 2583 58 is_stmt 0 view .LVU1690
 4710 0000 08B5     		push	{r3, lr}
 4711              	.LCFI55:
 4712              		.cfi_def_cfa_offset 8
 4713              		.cfi_offset 3, -8
 4714              		.cfi_offset 14, -4
2584:HW/SDCard/SDCard_sdio.c ****   __SD_DMA_Conf_Impl(dst, size, DMA_DIR_PeripheralSRC);
 4715              		.loc 1 2584 3 is_stmt 1 view .LVU1691
 4716 0002 0022     		movs	r2, #0
 4717 0004 FFF7FEFF 		bl	__SD_DMA_Conf_Impl
 4718              	.LVL420:
2585:HW/SDCard/SDCard_sdio.c **** }
 4719              		.loc 1 2585 1 is_stmt 0 view .LVU1692
 4720 0008 08BD     		pop	{r3, pc}
 4721              		.cfi_endproc
 4722              	.LFE66:
 4724              		.section	.text.SD_ReadBlock,"ax",%progbits
 4725              		.align	1
 4726              		.global	SD_ReadBlock
 4727              		.syntax unified
 4728              		.thumb
 4729              		.thumb_func
 4731              	SD_ReadBlock:
 4732              	.LVL421:
 4733              	.LFB41:
1167:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 4734              		.loc 1 1167 1 is_stmt 1 view -0
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 155


 4735              		.cfi_startproc
 4736              		@ args = 0, pretend = 0, frame = 0
 4737              		@ frame_needed = 0, uses_anonymous_args = 0
1167:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 4738              		.loc 1 1167 1 is_stmt 0 view .LVU1694
 4739 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4740              	.LCFI56:
 4741              		.cfi_def_cfa_offset 24
 4742              		.cfi_offset 3, -24
 4743              		.cfi_offset 4, -20
 4744              		.cfi_offset 5, -16
 4745              		.cfi_offset 6, -12
 4746              		.cfi_offset 7, -8
 4747              		.cfi_offset 14, -4
 4748 0002 0646     		mov	r6, r0
 4749 0004 0D46     		mov	r5, r1
 4750 0006 1446     		mov	r4, r2
1168:HW/SDCard/SDCard_sdio.c **** #if defined (SD_POLLING_MODE) 
 4751              		.loc 1 1168 3 is_stmt 1 view .LVU1695
 4752              	.LVL422:
1173:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 0;
 4753              		.loc 1 1173 3 view .LVU1696
1173:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 0;
 4754              		.loc 1 1173 17 is_stmt 0 view .LVU1697
 4755 0008 0023     		movs	r3, #0
 4756 000a 1F4A     		ldr	r2, .L291
 4757              	.LVL423:
1173:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 0;
 4758              		.loc 1 1173 17 view .LVU1698
 4759 000c 1370     		strb	r3, [r2]
1174:HW/SDCard/SDCard_sdio.c ****   StopCondition = 0;
 4760              		.loc 1 1174 3 is_stmt 1 view .LVU1699
1174:HW/SDCard/SDCard_sdio.c ****   StopCondition = 0;
 4761              		.loc 1 1174 15 is_stmt 0 view .LVU1700
 4762 000e 1F4A     		ldr	r2, .L291+4
 4763 0010 1360     		str	r3, [r2]
1175:HW/SDCard/SDCard_sdio.c ****   
 4764              		.loc 1 1175 3 is_stmt 1 view .LVU1701
1175:HW/SDCard/SDCard_sdio.c ****   
 4765              		.loc 1 1175 17 is_stmt 0 view .LVU1702
 4766 0012 1F4A     		ldr	r2, .L291+8
 4767 0014 1360     		str	r3, [r2]
1177:HW/SDCard/SDCard_sdio.c **** 
 4768              		.loc 1 1177 3 is_stmt 1 view .LVU1703
1177:HW/SDCard/SDCard_sdio.c **** 
 4769              		.loc 1 1177 15 is_stmt 0 view .LVU1704
 4770 0016 1F4A     		ldr	r2, .L291+12
 4771 0018 D362     		str	r3, [r2, #44]
1180:HW/SDCard/SDCard_sdio.c ****   {
 4772              		.loc 1 1180 3 is_stmt 1 view .LVU1705
1180:HW/SDCard/SDCard_sdio.c ****   {
 4773              		.loc 1 1180 16 is_stmt 0 view .LVU1706
 4774 001a 1F4B     		ldr	r3, .L291+16
 4775 001c 1B68     		ldr	r3, [r3]
1180:HW/SDCard/SDCard_sdio.c ****   {
 4776              		.loc 1 1180 6 view .LVU1707
 4777 001e 022B     		cmp	r3, #2
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 156


 4778 0020 21D0     		beq	.L289
 4779              	.LVL424:
 4780              	.L286:
1186:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = BlockSize;
 4781              		.loc 1 1186 3 is_stmt 1 view .LVU1708
1186:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = BlockSize;
 4782              		.loc 1 1186 43 is_stmt 0 view .LVU1709
 4783 0022 1E48     		ldr	r0, .L291+20
 4784              	.LVL425:
1186:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = BlockSize;
 4785              		.loc 1 1186 43 view .LVU1710
 4786 0024 4FF0FF33 		mov	r3, #-1
 4787 0028 0360     		str	r3, [r0]
1187:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 4788              		.loc 1 1187 3 is_stmt 1 view .LVU1711
1187:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 4789              		.loc 1 1187 42 is_stmt 0 view .LVU1712
 4790 002a 4460     		str	r4, [r0, #4]
1188:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
 4791              		.loc 1 1188 3 is_stmt 1 view .LVU1713
1188:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
 4792              		.loc 1 1188 45 is_stmt 0 view .LVU1714
 4793 002c 9023     		movs	r3, #144
 4794 002e 8360     		str	r3, [r0, #8]
1189:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 4795              		.loc 1 1189 3 is_stmt 1 view .LVU1715
1189:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 4796              		.loc 1 1189 43 is_stmt 0 view .LVU1716
 4797 0030 0223     		movs	r3, #2
 4798 0032 C360     		str	r3, [r0, #12]
1190:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 4799              		.loc 1 1190 3 is_stmt 1 view .LVU1717
1190:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 4800              		.loc 1 1190 44 is_stmt 0 view .LVU1718
 4801 0034 0027     		movs	r7, #0
 4802 0036 0761     		str	r7, [r0, #16]
1191:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 4803              		.loc 1 1191 3 is_stmt 1 view .LVU1719
1191:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 4804              		.loc 1 1191 36 is_stmt 0 view .LVU1720
 4805 0038 0123     		movs	r3, #1
 4806 003a 4361     		str	r3, [r0, #20]
1192:HW/SDCard/SDCard_sdio.c **** 
 4807              		.loc 1 1192 3 is_stmt 1 view .LVU1721
 4808 003c FFF7FEFF 		bl	SDIO_DataConfig
 4809              	.LVL426:
1195:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_READ_SINGLE_BLOCK;
 4810              		.loc 1 1195 3 view .LVU1722
1195:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_READ_SINGLE_BLOCK;
 4811              		.loc 1 1195 39 is_stmt 0 view .LVU1723
 4812 0040 1748     		ldr	r0, .L291+24
 4813 0042 0560     		str	r5, [r0]
1196:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4814              		.loc 1 1196 3 is_stmt 1 view .LVU1724
1196:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4815              		.loc 1 1196 39 is_stmt 0 view .LVU1725
 4816 0044 1125     		movs	r5, #17
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 157


 4817              	.LVL427:
1196:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4818              		.loc 1 1196 39 view .LVU1726
 4819 0046 4560     		str	r5, [r0, #4]
1197:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4820              		.loc 1 1197 3 is_stmt 1 view .LVU1727
1197:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4821              		.loc 1 1197 39 is_stmt 0 view .LVU1728
 4822 0048 4023     		movs	r3, #64
 4823 004a 8360     		str	r3, [r0, #8]
1198:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4824              		.loc 1 1198 3 is_stmt 1 view .LVU1729
1198:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4825              		.loc 1 1198 35 is_stmt 0 view .LVU1730
 4826 004c C760     		str	r7, [r0, #12]
1199:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 4827              		.loc 1 1199 3 is_stmt 1 view .LVU1731
1199:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 4828              		.loc 1 1199 35 is_stmt 0 view .LVU1732
 4829 004e 4FF48063 		mov	r3, #1024
 4830 0052 0361     		str	r3, [r0, #16]
1200:HW/SDCard/SDCard_sdio.c **** 
 4831              		.loc 1 1200 3 is_stmt 1 view .LVU1733
 4832 0054 FFF7FEFF 		bl	SDIO_SendCommand
 4833              	.LVL428:
1202:HW/SDCard/SDCard_sdio.c **** 
 4834              		.loc 1 1202 3 view .LVU1734
1202:HW/SDCard/SDCard_sdio.c **** 
 4835              		.loc 1 1202 17 is_stmt 0 view .LVU1735
 4836 0058 2846     		mov	r0, r5
 4837 005a FFF7FEFF 		bl	CmdResp1Error
 4838              	.LVL429:
1204:HW/SDCard/SDCard_sdio.c ****   {
 4839              		.loc 1 1204 3 is_stmt 1 view .LVU1736
1204:HW/SDCard/SDCard_sdio.c ****   {
 4840              		.loc 1 1204 6 is_stmt 0 view .LVU1737
 4841 005e 0546     		mov	r5, r0
 4842 0060 28B1     		cbz	r0, .L290
 4843              	.LVL430:
 4844              	.L287:
1264:HW/SDCard/SDCard_sdio.c **** 
 4845              		.loc 1 1264 1 view .LVU1738
 4846 0062 2846     		mov	r0, r5
 4847 0064 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4848              	.LVL431:
 4849              	.L289:
1182:HW/SDCard/SDCard_sdio.c ****     ReadAddr /= 512;
 4850              		.loc 1 1182 5 is_stmt 1 view .LVU1739
1183:HW/SDCard/SDCard_sdio.c ****   }
 4851              		.loc 1 1183 5 view .LVU1740
1183:HW/SDCard/SDCard_sdio.c ****   }
 4852              		.loc 1 1183 14 is_stmt 0 view .LVU1741
 4853 0066 4D0A     		lsrs	r5, r1, #9
 4854              	.LVL432:
1182:HW/SDCard/SDCard_sdio.c ****     ReadAddr /= 512;
 4855              		.loc 1 1182 15 view .LVU1742
 4856 0068 4FF40074 		mov	r4, #512
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 158


 4857 006c D9E7     		b	.L286
 4858              	.LVL433:
 4859              	.L290:
1258:HW/SDCard/SDCard_sdio.c ****     SDIO_DMACmd(ENABLE);
 4860              		.loc 1 1258 5 is_stmt 1 view .LVU1743
 4861 006e 0121     		movs	r1, #1
 4862 0070 4FF48070 		mov	r0, #256
 4863              	.LVL434:
1258:HW/SDCard/SDCard_sdio.c ****     SDIO_DMACmd(ENABLE);
 4864              		.loc 1 1258 5 is_stmt 0 view .LVU1744
 4865 0074 FFF7FEFF 		bl	SDIO_ITConfig
 4866              	.LVL435:
1259:HW/SDCard/SDCard_sdio.c ****     SD_RxDMA_Configuration((uint32_t *)readbuff, BlockSize);
 4867              		.loc 1 1259 5 is_stmt 1 view .LVU1745
 4868 0078 0120     		movs	r0, #1
 4869 007a FFF7FEFF 		bl	SDIO_DMACmd
 4870              	.LVL436:
1260:HW/SDCard/SDCard_sdio.c **** #endif
 4871              		.loc 1 1260 5 view .LVU1746
 4872 007e 2146     		mov	r1, r4
 4873 0080 3046     		mov	r0, r6
 4874 0082 FFF7FEFF 		bl	SD_RxDMA_Configuration
 4875              	.LVL437:
1263:HW/SDCard/SDCard_sdio.c **** }
 4876              		.loc 1 1263 3 view .LVU1747
1263:HW/SDCard/SDCard_sdio.c **** }
 4877              		.loc 1 1263 9 is_stmt 0 view .LVU1748
 4878 0086 ECE7     		b	.L287
 4879              	.L292:
 4880              		.align	2
 4881              	.L291:
 4882 0088 00000000 		.word	TransferError
 4883 008c 00000000 		.word	TransferEnd
 4884 0090 00000000 		.word	StopCondition
 4885 0094 00800140 		.word	1073840128
 4886 0098 00000000 		.word	CardType
 4887 009c 00000000 		.word	SDIO_DataInitStructure
 4888 00a0 00000000 		.word	SDIO_CmdInitStructure
 4889              		.cfi_endproc
 4890              	.LFE41:
 4892              		.section	.text.SD_ReadMultiBlocks,"ax",%progbits
 4893              		.align	1
 4894              		.global	SD_ReadMultiBlocks
 4895              		.syntax unified
 4896              		.thumb
 4897              		.thumb_func
 4899              	SD_ReadMultiBlocks:
 4900              	.LVL438:
 4901              	.LFB42:
1282:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 4902              		.loc 1 1282 1 is_stmt 1 view -0
 4903              		.cfi_startproc
 4904              		@ args = 0, pretend = 0, frame = 0
 4905              		@ frame_needed = 0, uses_anonymous_args = 0
1282:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 4906              		.loc 1 1282 1 is_stmt 0 view .LVU1750
 4907 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 159


 4908              	.LCFI57:
 4909              		.cfi_def_cfa_offset 24
 4910              		.cfi_offset 4, -24
 4911              		.cfi_offset 5, -20
 4912              		.cfi_offset 6, -16
 4913              		.cfi_offset 7, -12
 4914              		.cfi_offset 8, -8
 4915              		.cfi_offset 14, -4
 4916 0004 0746     		mov	r7, r0
 4917 0006 0E46     		mov	r6, r1
 4918 0008 1446     		mov	r4, r2
 4919 000a 1D46     		mov	r5, r3
1283:HW/SDCard/SDCard_sdio.c ****   TransferError = SD_OK;
 4920              		.loc 1 1283 3 is_stmt 1 view .LVU1751
 4921              	.LVL439:
1284:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 0;
 4922              		.loc 1 1284 3 view .LVU1752
1284:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 0;
 4923              		.loc 1 1284 17 is_stmt 0 view .LVU1753
 4924 000c 0023     		movs	r3, #0
 4925              	.LVL440:
1284:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 0;
 4926              		.loc 1 1284 17 view .LVU1754
 4927 000e 2D4A     		ldr	r2, .L299
 4928              	.LVL441:
1284:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 0;
 4929              		.loc 1 1284 17 view .LVU1755
 4930 0010 1370     		strb	r3, [r2]
1285:HW/SDCard/SDCard_sdio.c ****   StopCondition = 1;
 4931              		.loc 1 1285 3 is_stmt 1 view .LVU1756
1285:HW/SDCard/SDCard_sdio.c ****   StopCondition = 1;
 4932              		.loc 1 1285 15 is_stmt 0 view .LVU1757
 4933 0012 2D4A     		ldr	r2, .L299+4
 4934 0014 1360     		str	r3, [r2]
1286:HW/SDCard/SDCard_sdio.c **** 	
 4935              		.loc 1 1286 3 is_stmt 1 view .LVU1758
1286:HW/SDCard/SDCard_sdio.c **** 	
 4936              		.loc 1 1286 17 is_stmt 0 view .LVU1759
 4937 0016 2D4A     		ldr	r2, .L299+8
 4938 0018 0121     		movs	r1, #1
 4939              	.LVL442:
1286:HW/SDCard/SDCard_sdio.c **** 	
 4940              		.loc 1 1286 17 view .LVU1760
 4941 001a 1160     		str	r1, [r2]
1288:HW/SDCard/SDCard_sdio.c **** 
 4942              		.loc 1 1288 3 is_stmt 1 view .LVU1761
1288:HW/SDCard/SDCard_sdio.c **** 
 4943              		.loc 1 1288 15 is_stmt 0 view .LVU1762
 4944 001c 2C4A     		ldr	r2, .L299+12
 4945 001e D362     		str	r3, [r2, #44]
1290:HW/SDCard/SDCard_sdio.c ****   {
 4946              		.loc 1 1290 3 is_stmt 1 view .LVU1763
1290:HW/SDCard/SDCard_sdio.c ****   {
 4947              		.loc 1 1290 16 is_stmt 0 view .LVU1764
 4948 0020 2C4B     		ldr	r3, .L299+16
 4949 0022 1B68     		ldr	r3, [r3]
1290:HW/SDCard/SDCard_sdio.c ****   {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 160


 4950              		.loc 1 1290 6 view .LVU1765
 4951 0024 022B     		cmp	r3, #2
 4952 0026 16D0     		beq	.L297
 4953              	.LVL443:
 4954              	.L294:
1297:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCKLEN;
 4955              		.loc 1 1297 3 is_stmt 1 view .LVU1766
1297:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCKLEN;
 4956              		.loc 1 1297 39 is_stmt 0 view .LVU1767
 4957 0028 2B48     		ldr	r0, .L299+20
 4958              	.LVL444:
1297:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCKLEN;
 4959              		.loc 1 1297 39 view .LVU1768
 4960 002a 0460     		str	r4, [r0]
1298:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4961              		.loc 1 1298 3 is_stmt 1 view .LVU1769
1298:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4962              		.loc 1 1298 39 is_stmt 0 view .LVU1770
 4963 002c 4FF01008 		mov	r8, #16
 4964 0030 C0F80480 		str	r8, [r0, #4]
1299:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4965              		.loc 1 1299 3 is_stmt 1 view .LVU1771
1299:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4966              		.loc 1 1299 39 is_stmt 0 view .LVU1772
 4967 0034 4023     		movs	r3, #64
 4968 0036 8360     		str	r3, [r0, #8]
1300:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4969              		.loc 1 1300 3 is_stmt 1 view .LVU1773
1300:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4970              		.loc 1 1300 35 is_stmt 0 view .LVU1774
 4971 0038 0023     		movs	r3, #0
 4972 003a C360     		str	r3, [r0, #12]
1301:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 4973              		.loc 1 1301 3 is_stmt 1 view .LVU1775
1301:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 4974              		.loc 1 1301 35 is_stmt 0 view .LVU1776
 4975 003c 4FF48063 		mov	r3, #1024
 4976 0040 0361     		str	r3, [r0, #16]
1302:HW/SDCard/SDCard_sdio.c **** 
 4977              		.loc 1 1302 3 is_stmt 1 view .LVU1777
 4978 0042 FFF7FEFF 		bl	SDIO_SendCommand
 4979              	.LVL445:
1304:HW/SDCard/SDCard_sdio.c **** 
 4980              		.loc 1 1304 3 view .LVU1778
1304:HW/SDCard/SDCard_sdio.c **** 
 4981              		.loc 1 1304 17 is_stmt 0 view .LVU1779
 4982 0046 4046     		mov	r0, r8
 4983 0048 FFF7FEFF 		bl	CmdResp1Error
 4984              	.LVL446:
1306:HW/SDCard/SDCard_sdio.c ****   {
 4985              		.loc 1 1306 3 is_stmt 1 view .LVU1780
1306:HW/SDCard/SDCard_sdio.c ****   {
 4986              		.loc 1 1306 6 is_stmt 0 view .LVU1781
 4987 004c 8046     		mov	r8, r0
 4988 004e 30B1     		cbz	r0, .L298
 4989              	.LVL447:
 4990              	.L295:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 161


1339:HW/SDCard/SDCard_sdio.c **** 
 4991              		.loc 1 1339 1 view .LVU1782
 4992 0050 4046     		mov	r0, r8
 4993 0052 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4994              	.LVL448:
 4995              	.L297:
1292:HW/SDCard/SDCard_sdio.c ****     ReadAddr /= 512;
 4996              		.loc 1 1292 5 is_stmt 1 view .LVU1783
1293:HW/SDCard/SDCard_sdio.c ****   }
 4997              		.loc 1 1293 5 view .LVU1784
1293:HW/SDCard/SDCard_sdio.c ****   }
 4998              		.loc 1 1293 14 is_stmt 0 view .LVU1785
 4999 0056 760A     		lsrs	r6, r6, #9
 5000              	.LVL449:
1292:HW/SDCard/SDCard_sdio.c ****     ReadAddr /= 512;
 5001              		.loc 1 1292 15 view .LVU1786
 5002 0058 4FF40074 		mov	r4, #512
 5003 005c E4E7     		b	.L294
 5004              	.LVL450:
 5005              	.L298:
1311:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = NumberOfBlocks * BlockSize;
 5006              		.loc 1 1311 3 is_stmt 1 view .LVU1787
1311:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = NumberOfBlocks * BlockSize;
 5007              		.loc 1 1311 43 is_stmt 0 view .LVU1788
 5008 005e 1F48     		ldr	r0, .L299+24
 5009              	.LVL451:
1311:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = NumberOfBlocks * BlockSize;
 5010              		.loc 1 1311 43 view .LVU1789
 5011 0060 4FF0FF33 		mov	r3, #-1
 5012 0064 0360     		str	r3, [r0]
1312:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 5013              		.loc 1 1312 3 is_stmt 1 view .LVU1790
1312:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 5014              		.loc 1 1312 59 is_stmt 0 view .LVU1791
 5015 0066 04FB05F5 		mul	r5, r4, r5
 5016              	.LVL452:
1312:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 5017              		.loc 1 1312 42 view .LVU1792
 5018 006a 4560     		str	r5, [r0, #4]
1313:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
 5019              		.loc 1 1313 3 is_stmt 1 view .LVU1793
1313:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
 5020              		.loc 1 1313 45 is_stmt 0 view .LVU1794
 5021 006c 9023     		movs	r3, #144
 5022 006e 8360     		str	r3, [r0, #8]
1314:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 5023              		.loc 1 1314 3 is_stmt 1 view .LVU1795
1314:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 5024              		.loc 1 1314 43 is_stmt 0 view .LVU1796
 5025 0070 0223     		movs	r3, #2
 5026 0072 C360     		str	r3, [r0, #12]
1315:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 5027              		.loc 1 1315 3 is_stmt 1 view .LVU1797
1315:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 5028              		.loc 1 1315 44 is_stmt 0 view .LVU1798
 5029 0074 4FF00008 		mov	r8, #0
 5030 0078 C0F81080 		str	r8, [r0, #16]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 162


1316:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 5031              		.loc 1 1316 3 is_stmt 1 view .LVU1799
1316:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 5032              		.loc 1 1316 36 is_stmt 0 view .LVU1800
 5033 007c 0123     		movs	r3, #1
 5034 007e 4361     		str	r3, [r0, #20]
1317:HW/SDCard/SDCard_sdio.c **** 
 5035              		.loc 1 1317 3 is_stmt 1 view .LVU1801
 5036 0080 FFF7FEFF 		bl	SDIO_DataConfig
 5037              	.LVL453:
1320:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_READ_MULT_BLOCK;
 5038              		.loc 1 1320 3 view .LVU1802
1320:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_READ_MULT_BLOCK;
 5039              		.loc 1 1320 39 is_stmt 0 view .LVU1803
 5040 0084 1448     		ldr	r0, .L299+20
 5041 0086 0660     		str	r6, [r0]
1321:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 5042              		.loc 1 1321 3 is_stmt 1 view .LVU1804
1321:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 5043              		.loc 1 1321 39 is_stmt 0 view .LVU1805
 5044 0088 1224     		movs	r4, #18
 5045              	.LVL454:
1321:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 5046              		.loc 1 1321 39 view .LVU1806
 5047 008a 4460     		str	r4, [r0, #4]
1322:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 5048              		.loc 1 1322 3 is_stmt 1 view .LVU1807
1322:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 5049              		.loc 1 1322 39 is_stmt 0 view .LVU1808
 5050 008c 4023     		movs	r3, #64
 5051 008e 8360     		str	r3, [r0, #8]
1323:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 5052              		.loc 1 1323 3 is_stmt 1 view .LVU1809
1323:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 5053              		.loc 1 1323 35 is_stmt 0 view .LVU1810
 5054 0090 C0F80C80 		str	r8, [r0, #12]
1324:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 5055              		.loc 1 1324 3 is_stmt 1 view .LVU1811
1324:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 5056              		.loc 1 1324 35 is_stmt 0 view .LVU1812
 5057 0094 4FF48063 		mov	r3, #1024
 5058 0098 0361     		str	r3, [r0, #16]
1325:HW/SDCard/SDCard_sdio.c **** 
 5059              		.loc 1 1325 3 is_stmt 1 view .LVU1813
 5060 009a FFF7FEFF 		bl	SDIO_SendCommand
 5061              	.LVL455:
1327:HW/SDCard/SDCard_sdio.c **** 
 5062              		.loc 1 1327 3 view .LVU1814
1327:HW/SDCard/SDCard_sdio.c **** 
 5063              		.loc 1 1327 17 is_stmt 0 view .LVU1815
 5064 009e 2046     		mov	r0, r4
 5065 00a0 FFF7FEFF 		bl	CmdResp1Error
 5066              	.LVL456:
1329:HW/SDCard/SDCard_sdio.c ****   {
 5067              		.loc 1 1329 3 is_stmt 1 view .LVU1816
1329:HW/SDCard/SDCard_sdio.c ****   {
 5068              		.loc 1 1329 6 is_stmt 0 view .LVU1817
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 163


 5069 00a4 8046     		mov	r8, r0
 5070 00a6 0028     		cmp	r0, #0
 5071 00a8 D2D1     		bne	.L295
1334:HW/SDCard/SDCard_sdio.c ****   SDIO_DMACmd(ENABLE);
 5072              		.loc 1 1334 3 is_stmt 1 view .LVU1818
 5073 00aa 0121     		movs	r1, #1
 5074 00ac 4FF48070 		mov	r0, #256
 5075              	.LVL457:
1334:HW/SDCard/SDCard_sdio.c ****   SDIO_DMACmd(ENABLE);
 5076              		.loc 1 1334 3 is_stmt 0 view .LVU1819
 5077 00b0 FFF7FEFF 		bl	SDIO_ITConfig
 5078              	.LVL458:
1335:HW/SDCard/SDCard_sdio.c ****   SD_RxDMA_Configuration((uint32_t *)readbuff, (NumberOfBlocks * BlockSize));
 5079              		.loc 1 1335 3 is_stmt 1 view .LVU1820
 5080 00b4 0120     		movs	r0, #1
 5081 00b6 FFF7FEFF 		bl	SDIO_DMACmd
 5082              	.LVL459:
1336:HW/SDCard/SDCard_sdio.c **** 
 5083              		.loc 1 1336 3 view .LVU1821
 5084 00ba 2946     		mov	r1, r5
 5085 00bc 3846     		mov	r0, r7
 5086 00be FFF7FEFF 		bl	SD_RxDMA_Configuration
 5087              	.LVL460:
1338:HW/SDCard/SDCard_sdio.c **** }
 5088              		.loc 1 1338 3 view .LVU1822
1338:HW/SDCard/SDCard_sdio.c **** }
 5089              		.loc 1 1338 9 is_stmt 0 view .LVU1823
 5090 00c2 C5E7     		b	.L295
 5091              	.L300:
 5092              		.align	2
 5093              	.L299:
 5094 00c4 00000000 		.word	TransferError
 5095 00c8 00000000 		.word	TransferEnd
 5096 00cc 00000000 		.word	StopCondition
 5097 00d0 00800140 		.word	1073840128
 5098 00d4 00000000 		.word	CardType
 5099 00d8 00000000 		.word	SDIO_CmdInitStructure
 5100 00dc 00000000 		.word	SDIO_DataInitStructure
 5101              		.cfi_endproc
 5102              	.LFE42:
 5104              		.section	.text.SD_TxDMA_Configuration,"ax",%progbits
 5105              		.align	1
 5106              		.global	SD_TxDMA_Configuration
 5107              		.syntax unified
 5108              		.thumb
 5109              		.thumb_func
 5111              	SD_TxDMA_Configuration:
 5112              	.LVL461:
 5113              	.LFB67:
2586:HW/SDCard/SDCard_sdio.c **** 
2587:HW/SDCard/SDCard_sdio.c **** /**
2588:HW/SDCard/SDCard_sdio.c ****   * @brief ÈÖçÁΩÆSDIOÂØπÂ∫îÁöÑDMA4ÔºàM->PÊñπÂêëÔºâ
2589:HW/SDCard/SDCard_sdio.c ****   * @param src ‰ªésrcÂÜÖÂ≠ò‰∏≠ÂèëÈÄÅÊï∞ÊçÆÂà∞FIFO‰∏≠
2590:HW/SDCard/SDCard_sdio.c ****   * @param size Êï∞ÊçÆÂ§ßÂ∞èÔºåÂçï‰Ωç‰∏∫Byte
2591:HW/SDCard/SDCard_sdio.c ****   * @retval None
2592:HW/SDCard/SDCard_sdio.c ****  */
2593:HW/SDCard/SDCard_sdio.c **** void SD_TxDMA_Configuration(uint32_t* src, uint32_t size){
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 164


 5114              		.loc 1 2593 58 is_stmt 1 view -0
 5115              		.cfi_startproc
 5116              		@ args = 0, pretend = 0, frame = 0
 5117              		@ frame_needed = 0, uses_anonymous_args = 0
 5118              		.loc 1 2593 58 is_stmt 0 view .LVU1825
 5119 0000 08B5     		push	{r3, lr}
 5120              	.LCFI58:
 5121              		.cfi_def_cfa_offset 8
 5122              		.cfi_offset 3, -8
 5123              		.cfi_offset 14, -4
2594:HW/SDCard/SDCard_sdio.c ****   __SD_DMA_Conf_Impl(src, size, DMA_DIR_PeripheralDST);
 5124              		.loc 1 2594 3 is_stmt 1 view .LVU1826
 5125 0002 1022     		movs	r2, #16
 5126 0004 FFF7FEFF 		bl	__SD_DMA_Conf_Impl
 5127              	.LVL462:
2595:HW/SDCard/SDCard_sdio.c **** }
 5128              		.loc 1 2595 1 is_stmt 0 view .LVU1827
 5129 0008 08BD     		pop	{r3, pc}
 5130              		.cfi_endproc
 5131              	.LFE67:
 5133              		.section	.text.SD_WriteBlock,"ax",%progbits
 5134              		.align	1
 5135              		.global	SD_WriteBlock
 5136              		.syntax unified
 5137              		.thumb
 5138              		.thumb_func
 5140              	SD_WriteBlock:
 5141              	.LVL463:
 5142              	.LFB44:
1379:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 5143              		.loc 1 1379 1 is_stmt 1 view -0
 5144              		.cfi_startproc
 5145              		@ args = 0, pretend = 0, frame = 0
 5146              		@ frame_needed = 0, uses_anonymous_args = 0
1379:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 5147              		.loc 1 1379 1 is_stmt 0 view .LVU1829
 5148 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 5149              	.LCFI59:
 5150              		.cfi_def_cfa_offset 24
 5151              		.cfi_offset 3, -24
 5152              		.cfi_offset 4, -20
 5153              		.cfi_offset 5, -16
 5154              		.cfi_offset 6, -12
 5155              		.cfi_offset 7, -8
 5156              		.cfi_offset 14, -4
 5157 0002 0546     		mov	r5, r0
 5158 0004 1446     		mov	r4, r2
1380:HW/SDCard/SDCard_sdio.c **** 
 5159              		.loc 1 1380 3 is_stmt 1 view .LVU1830
 5160              	.LVL464:
1387:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 0;
 5161              		.loc 1 1387 3 view .LVU1831
1387:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 0;
 5162              		.loc 1 1387 17 is_stmt 0 view .LVU1832
 5163 0006 0023     		movs	r3, #0
 5164 0008 1F4A     		ldr	r2, .L309
 5165              	.LVL465:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 165


1387:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 0;
 5166              		.loc 1 1387 17 view .LVU1833
 5167 000a 1370     		strb	r3, [r2]
1388:HW/SDCard/SDCard_sdio.c ****   StopCondition = 0;
 5168              		.loc 1 1388 3 is_stmt 1 view .LVU1834
1388:HW/SDCard/SDCard_sdio.c ****   StopCondition = 0;
 5169              		.loc 1 1388 15 is_stmt 0 view .LVU1835
 5170 000c 1F4A     		ldr	r2, .L309+4
 5171 000e 1360     		str	r3, [r2]
1389:HW/SDCard/SDCard_sdio.c ****   
 5172              		.loc 1 1389 3 is_stmt 1 view .LVU1836
1389:HW/SDCard/SDCard_sdio.c ****   
 5173              		.loc 1 1389 17 is_stmt 0 view .LVU1837
 5174 0010 1F4A     		ldr	r2, .L309+8
 5175 0012 1360     		str	r3, [r2]
1391:HW/SDCard/SDCard_sdio.c **** 
 5176              		.loc 1 1391 3 is_stmt 1 view .LVU1838
1391:HW/SDCard/SDCard_sdio.c **** 
 5177              		.loc 1 1391 15 is_stmt 0 view .LVU1839
 5178 0014 1F4A     		ldr	r2, .L309+12
 5179 0016 D362     		str	r3, [r2, #44]
1394:HW/SDCard/SDCard_sdio.c ****   {
 5180              		.loc 1 1394 3 is_stmt 1 view .LVU1840
1394:HW/SDCard/SDCard_sdio.c ****   {
 5181              		.loc 1 1394 16 is_stmt 0 view .LVU1841
 5182 0018 1F4B     		ldr	r3, .L309+16
 5183 001a 1B68     		ldr	r3, [r3]
1394:HW/SDCard/SDCard_sdio.c ****   {
 5184              		.loc 1 1394 6 view .LVU1842
 5185 001c 022B     		cmp	r3, #2
 5186 001e 13D0     		beq	.L307
 5187              	.LVL466:
 5188              	.L304:
1401:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_WRITE_SINGLE_BLOCK;
 5189              		.loc 1 1401 3 is_stmt 1 view .LVU1843
1401:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_WRITE_SINGLE_BLOCK;
 5190              		.loc 1 1401 39 is_stmt 0 view .LVU1844
 5191 0020 1E48     		ldr	r0, .L309+20
 5192              	.LVL467:
1401:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_WRITE_SINGLE_BLOCK;
 5193              		.loc 1 1401 39 view .LVU1845
 5194 0022 0160     		str	r1, [r0]
1402:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 5195              		.loc 1 1402 3 is_stmt 1 view .LVU1846
1402:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 5196              		.loc 1 1402 39 is_stmt 0 view .LVU1847
 5197 0024 1826     		movs	r6, #24
 5198 0026 4660     		str	r6, [r0, #4]
1403:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 5199              		.loc 1 1403 3 is_stmt 1 view .LVU1848
1403:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 5200              		.loc 1 1403 39 is_stmt 0 view .LVU1849
 5201 0028 4023     		movs	r3, #64
 5202 002a 8360     		str	r3, [r0, #8]
1404:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 5203              		.loc 1 1404 3 is_stmt 1 view .LVU1850
1404:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 166


 5204              		.loc 1 1404 35 is_stmt 0 view .LVU1851
 5205 002c 0023     		movs	r3, #0
 5206 002e C360     		str	r3, [r0, #12]
1405:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 5207              		.loc 1 1405 3 is_stmt 1 view .LVU1852
1405:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 5208              		.loc 1 1405 35 is_stmt 0 view .LVU1853
 5209 0030 4FF48063 		mov	r3, #1024
 5210 0034 0361     		str	r3, [r0, #16]
1406:HW/SDCard/SDCard_sdio.c **** 
 5211              		.loc 1 1406 3 is_stmt 1 view .LVU1854
 5212 0036 FFF7FEFF 		bl	SDIO_SendCommand
 5213              	.LVL468:
1408:HW/SDCard/SDCard_sdio.c **** 
 5214              		.loc 1 1408 3 view .LVU1855
1408:HW/SDCard/SDCard_sdio.c **** 
 5215              		.loc 1 1408 17 is_stmt 0 view .LVU1856
 5216 003a 3046     		mov	r0, r6
 5217 003c FFF7FEFF 		bl	CmdResp1Error
 5218              	.LVL469:
1410:HW/SDCard/SDCard_sdio.c ****   {
 5219              		.loc 1 1410 3 is_stmt 1 view .LVU1857
1410:HW/SDCard/SDCard_sdio.c ****   {
 5220              		.loc 1 1410 6 is_stmt 0 view .LVU1858
 5221 0040 0646     		mov	r6, r0
 5222 0042 28B1     		cbz	r0, .L308
 5223              	.LVL470:
 5224              	.L305:
1479:HW/SDCard/SDCard_sdio.c **** 
 5225              		.loc 1 1479 1 view .LVU1859
 5226 0044 3046     		mov	r0, r6
 5227 0046 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 5228              	.LVL471:
 5229              	.L307:
1396:HW/SDCard/SDCard_sdio.c ****     WriteAddr /= 512;
 5230              		.loc 1 1396 5 is_stmt 1 view .LVU1860
1397:HW/SDCard/SDCard_sdio.c ****   }
 5231              		.loc 1 1397 5 view .LVU1861
1397:HW/SDCard/SDCard_sdio.c ****   }
 5232              		.loc 1 1397 15 is_stmt 0 view .LVU1862
 5233 0048 490A     		lsrs	r1, r1, #9
 5234              	.LVL472:
1396:HW/SDCard/SDCard_sdio.c ****     WriteAddr /= 512;
 5235              		.loc 1 1396 15 view .LVU1863
 5236 004a 4FF40074 		mov	r4, #512
 5237 004e E7E7     		b	.L304
 5238              	.LVL473:
 5239              	.L308:
1415:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = BlockSize;
 5240              		.loc 1 1415 3 is_stmt 1 view .LVU1864
1415:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = BlockSize;
 5241              		.loc 1 1415 43 is_stmt 0 view .LVU1865
 5242 0050 1348     		ldr	r0, .L309+24
 5243              	.LVL474:
1415:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = BlockSize;
 5244              		.loc 1 1415 43 view .LVU1866
 5245 0052 4FF0FF33 		mov	r3, #-1
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 167


 5246 0056 0360     		str	r3, [r0]
1416:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 5247              		.loc 1 1416 3 is_stmt 1 view .LVU1867
1416:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 5248              		.loc 1 1416 42 is_stmt 0 view .LVU1868
 5249 0058 4460     		str	r4, [r0, #4]
1417:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToCard;
 5250              		.loc 1 1417 3 is_stmt 1 view .LVU1869
1417:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToCard;
 5251              		.loc 1 1417 45 is_stmt 0 view .LVU1870
 5252 005a 9023     		movs	r3, #144
 5253 005c 8360     		str	r3, [r0, #8]
1418:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 5254              		.loc 1 1418 3 is_stmt 1 view .LVU1871
1418:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 5255              		.loc 1 1418 43 is_stmt 0 view .LVU1872
 5256 005e 0023     		movs	r3, #0
 5257 0060 C360     		str	r3, [r0, #12]
1419:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 5258              		.loc 1 1419 3 is_stmt 1 view .LVU1873
1419:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 5259              		.loc 1 1419 44 is_stmt 0 view .LVU1874
 5260 0062 0361     		str	r3, [r0, #16]
1420:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 5261              		.loc 1 1420 3 is_stmt 1 view .LVU1875
1420:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 5262              		.loc 1 1420 36 is_stmt 0 view .LVU1876
 5263 0064 0127     		movs	r7, #1
 5264 0066 4761     		str	r7, [r0, #20]
1421:HW/SDCard/SDCard_sdio.c **** 
 5265              		.loc 1 1421 3 is_stmt 1 view .LVU1877
 5266 0068 FFF7FEFF 		bl	SDIO_DataConfig
 5267              	.LVL475:
1473:HW/SDCard/SDCard_sdio.c ****   SD_TxDMA_Configuration((uint32_t *)writebuff, BlockSize);
 5268              		.loc 1 1473 3 view .LVU1878
 5269 006c 3946     		mov	r1, r7
 5270 006e 4FF48070 		mov	r0, #256
 5271 0072 FFF7FEFF 		bl	SDIO_ITConfig
 5272              	.LVL476:
1474:HW/SDCard/SDCard_sdio.c ****   SDIO_DMACmd(ENABLE);
 5273              		.loc 1 1474 3 view .LVU1879
 5274 0076 2146     		mov	r1, r4
 5275 0078 2846     		mov	r0, r5
 5276 007a FFF7FEFF 		bl	SD_TxDMA_Configuration
 5277              	.LVL477:
1475:HW/SDCard/SDCard_sdio.c **** #endif
 5278              		.loc 1 1475 3 view .LVU1880
 5279 007e 3846     		mov	r0, r7
 5280 0080 FFF7FEFF 		bl	SDIO_DMACmd
 5281              	.LVL478:
1478:HW/SDCard/SDCard_sdio.c **** }
 5282              		.loc 1 1478 3 view .LVU1881
1478:HW/SDCard/SDCard_sdio.c **** }
 5283              		.loc 1 1478 9 is_stmt 0 view .LVU1882
 5284 0084 DEE7     		b	.L305
 5285              	.L310:
 5286 0086 00BF     		.align	2
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 168


 5287              	.L309:
 5288 0088 00000000 		.word	TransferError
 5289 008c 00000000 		.word	TransferEnd
 5290 0090 00000000 		.word	StopCondition
 5291 0094 00800140 		.word	1073840128
 5292 0098 00000000 		.word	CardType
 5293 009c 00000000 		.word	SDIO_CmdInitStructure
 5294 00a0 00000000 		.word	SDIO_DataInitStructure
 5295              		.cfi_endproc
 5296              	.LFE44:
 5298              		.section	.text.SD_WriteMultiBlocks,"ax",%progbits
 5299              		.align	1
 5300              		.global	SD_WriteMultiBlocks
 5301              		.syntax unified
 5302              		.thumb
 5303              		.thumb_func
 5305              	SD_WriteMultiBlocks:
 5306              	.LVL479:
 5307              	.LFB45:
1497:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 5308              		.loc 1 1497 1 is_stmt 1 view -0
 5309              		.cfi_startproc
 5310              		@ args = 0, pretend = 0, frame = 8
 5311              		@ frame_needed = 0, uses_anonymous_args = 0
1497:HW/SDCard/SDCard_sdio.c ****   SD_Error errorstatus = SD_OK;
 5312              		.loc 1 1497 1 is_stmt 0 view .LVU1884
 5313 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 5314              	.LCFI60:
 5315              		.cfi_def_cfa_offset 24
 5316              		.cfi_offset 4, -24
 5317              		.cfi_offset 5, -20
 5318              		.cfi_offset 6, -16
 5319              		.cfi_offset 7, -12
 5320              		.cfi_offset 8, -8
 5321              		.cfi_offset 14, -4
 5322 0004 82B0     		sub	sp, sp, #8
 5323              	.LCFI61:
 5324              		.cfi_def_cfa_offset 32
 5325 0006 8046     		mov	r8, r0
 5326 0008 0D46     		mov	r5, r1
 5327 000a 1646     		mov	r6, r2
 5328 000c 1F46     		mov	r7, r3
1498:HW/SDCard/SDCard_sdio.c ****   __IO uint32_t count = 0;
 5329              		.loc 1 1498 3 is_stmt 1 view .LVU1885
 5330              	.LVL480:
1499:HW/SDCard/SDCard_sdio.c **** 
 5331              		.loc 1 1499 3 view .LVU1886
1499:HW/SDCard/SDCard_sdio.c **** 
 5332              		.loc 1 1499 17 is_stmt 0 view .LVU1887
 5333 000e 0024     		movs	r4, #0
 5334 0010 0194     		str	r4, [sp, #4]
1501:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 0;
 5335              		.loc 1 1501 3 is_stmt 1 view .LVU1888
1501:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 0;
 5336              		.loc 1 1501 17 is_stmt 0 view .LVU1889
 5337 0012 364B     		ldr	r3, .L317
 5338              	.LVL481:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 169


1501:HW/SDCard/SDCard_sdio.c ****   TransferEnd = 0;
 5339              		.loc 1 1501 17 view .LVU1890
 5340 0014 1C70     		strb	r4, [r3]
1502:HW/SDCard/SDCard_sdio.c ****   StopCondition = 1;
 5341              		.loc 1 1502 3 is_stmt 1 view .LVU1891
1502:HW/SDCard/SDCard_sdio.c ****   StopCondition = 1;
 5342              		.loc 1 1502 15 is_stmt 0 view .LVU1892
 5343 0016 364B     		ldr	r3, .L317+4
 5344 0018 1C60     		str	r4, [r3]
1503:HW/SDCard/SDCard_sdio.c ****   
 5345              		.loc 1 1503 3 is_stmt 1 view .LVU1893
1503:HW/SDCard/SDCard_sdio.c ****   
 5346              		.loc 1 1503 17 is_stmt 0 view .LVU1894
 5347 001a 364B     		ldr	r3, .L317+8
 5348 001c 0122     		movs	r2, #1
 5349              	.LVL482:
1503:HW/SDCard/SDCard_sdio.c ****   
 5350              		.loc 1 1503 17 view .LVU1895
 5351 001e 1A60     		str	r2, [r3]
1505:HW/SDCard/SDCard_sdio.c **** 
 5352              		.loc 1 1505 3 is_stmt 1 view .LVU1896
1505:HW/SDCard/SDCard_sdio.c **** 
 5353              		.loc 1 1505 15 is_stmt 0 view .LVU1897
 5354 0020 354B     		ldr	r3, .L317+12
 5355 0022 DC62     		str	r4, [r3, #44]
1507:HW/SDCard/SDCard_sdio.c ****   {
 5356              		.loc 1 1507 3 is_stmt 1 view .LVU1898
1507:HW/SDCard/SDCard_sdio.c ****   {
 5357              		.loc 1 1507 16 is_stmt 0 view .LVU1899
 5358 0024 354B     		ldr	r3, .L317+16
 5359 0026 1B68     		ldr	r3, [r3]
1507:HW/SDCard/SDCard_sdio.c ****   {
 5360              		.loc 1 1507 6 view .LVU1900
 5361 0028 022B     		cmp	r3, #2
 5362 002a 18D0     		beq	.L315
 5363              	.LVL483:
 5364              	.L312:
1514:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 5365              		.loc 1 1514 3 is_stmt 1 view .LVU1901
1514:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 5366              		.loc 1 1514 41 is_stmt 0 view .LVU1902
 5367 002c 344B     		ldr	r3, .L317+20
 5368 002e 1C68     		ldr	r4, [r3]
1514:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 5369              		.loc 1 1514 57 view .LVU1903
 5370 0030 2404     		lsls	r4, r4, #16
1514:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 5371              		.loc 1 1514 39 view .LVU1904
 5372 0032 3448     		ldr	r0, .L317+24
 5373              	.LVL484:
1514:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 5374              		.loc 1 1514 39 view .LVU1905
 5375 0034 0460     		str	r4, [r0]
1515:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 5376              		.loc 1 1515 3 is_stmt 1 view .LVU1906
1515:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 5377              		.loc 1 1515 39 is_stmt 0 view .LVU1907
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 170


 5378 0036 3724     		movs	r4, #55
 5379 0038 4460     		str	r4, [r0, #4]
1516:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 5380              		.loc 1 1516 3 is_stmt 1 view .LVU1908
1516:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 5381              		.loc 1 1516 39 is_stmt 0 view .LVU1909
 5382 003a 4023     		movs	r3, #64
 5383 003c 8360     		str	r3, [r0, #8]
1517:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 5384              		.loc 1 1517 3 is_stmt 1 view .LVU1910
1517:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 5385              		.loc 1 1517 35 is_stmt 0 view .LVU1911
 5386 003e 0023     		movs	r3, #0
 5387 0040 C360     		str	r3, [r0, #12]
1518:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 5388              		.loc 1 1518 3 is_stmt 1 view .LVU1912
1518:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 5389              		.loc 1 1518 35 is_stmt 0 view .LVU1913
 5390 0042 4FF48063 		mov	r3, #1024
 5391 0046 0361     		str	r3, [r0, #16]
1519:HW/SDCard/SDCard_sdio.c **** 
 5392              		.loc 1 1519 3 is_stmt 1 view .LVU1914
 5393 0048 FFF7FEFF 		bl	SDIO_SendCommand
 5394              	.LVL485:
1522:HW/SDCard/SDCard_sdio.c **** 
 5395              		.loc 1 1522 3 view .LVU1915
1522:HW/SDCard/SDCard_sdio.c **** 
 5396              		.loc 1 1522 17 is_stmt 0 view .LVU1916
 5397 004c 2046     		mov	r0, r4
 5398 004e FFF7FEFF 		bl	CmdResp1Error
 5399              	.LVL486:
1524:HW/SDCard/SDCard_sdio.c ****   {
 5400              		.loc 1 1524 3 is_stmt 1 view .LVU1917
1524:HW/SDCard/SDCard_sdio.c ****   {
 5401              		.loc 1 1524 6 is_stmt 0 view .LVU1918
 5402 0052 0446     		mov	r4, r0
 5403 0054 38B1     		cbz	r0, .L316
 5404              	.LVL487:
 5405              	.L313:
1572:HW/SDCard/SDCard_sdio.c **** 
 5406              		.loc 1 1572 1 view .LVU1919
 5407 0056 2046     		mov	r0, r4
 5408 0058 02B0     		add	sp, sp, #8
 5409              	.LCFI62:
 5410              		.cfi_remember_state
 5411              		.cfi_def_cfa_offset 24
 5412              		@ sp needed
 5413 005a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 5414              	.LVL488:
 5415              	.L315:
 5416              	.LCFI63:
 5417              		.cfi_restore_state
1509:HW/SDCard/SDCard_sdio.c ****     WriteAddr /= 512;
 5418              		.loc 1 1509 5 is_stmt 1 view .LVU1920
1510:HW/SDCard/SDCard_sdio.c ****   }
 5419              		.loc 1 1510 5 view .LVU1921
1510:HW/SDCard/SDCard_sdio.c ****   }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 171


 5420              		.loc 1 1510 15 is_stmt 0 view .LVU1922
 5421 005e 4D0A     		lsrs	r5, r1, #9
 5422              	.LVL489:
1509:HW/SDCard/SDCard_sdio.c ****     WriteAddr /= 512;
 5423              		.loc 1 1509 15 view .LVU1923
 5424 0060 4FF40076 		mov	r6, #512
 5425 0064 E2E7     		b	.L312
 5426              	.LVL490:
 5427              	.L316:
1529:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCK_COUNT;
 5428              		.loc 1 1529 3 is_stmt 1 view .LVU1924
1529:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCK_COUNT;
 5429              		.loc 1 1529 39 is_stmt 0 view .LVU1925
 5430 0066 2748     		ldr	r0, .L317+24
 5431              	.LVL491:
1529:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCK_COUNT;
 5432              		.loc 1 1529 39 view .LVU1926
 5433 0068 0760     		str	r7, [r0]
1530:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 5434              		.loc 1 1530 3 is_stmt 1 view .LVU1927
1530:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 5435              		.loc 1 1530 39 is_stmt 0 view .LVU1928
 5436 006a 1724     		movs	r4, #23
 5437 006c 4460     		str	r4, [r0, #4]
1531:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 5438              		.loc 1 1531 3 is_stmt 1 view .LVU1929
1531:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 5439              		.loc 1 1531 39 is_stmt 0 view .LVU1930
 5440 006e 4023     		movs	r3, #64
 5441 0070 8360     		str	r3, [r0, #8]
1532:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 5442              		.loc 1 1532 3 is_stmt 1 view .LVU1931
1532:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 5443              		.loc 1 1532 35 is_stmt 0 view .LVU1932
 5444 0072 0023     		movs	r3, #0
 5445 0074 C360     		str	r3, [r0, #12]
1533:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 5446              		.loc 1 1533 3 is_stmt 1 view .LVU1933
1533:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 5447              		.loc 1 1533 35 is_stmt 0 view .LVU1934
 5448 0076 4FF48063 		mov	r3, #1024
 5449 007a 0361     		str	r3, [r0, #16]
1534:HW/SDCard/SDCard_sdio.c **** 
 5450              		.loc 1 1534 3 is_stmt 1 view .LVU1935
 5451 007c FFF7FEFF 		bl	SDIO_SendCommand
 5452              	.LVL492:
1536:HW/SDCard/SDCard_sdio.c **** 
 5453              		.loc 1 1536 3 view .LVU1936
1536:HW/SDCard/SDCard_sdio.c **** 
 5454              		.loc 1 1536 17 is_stmt 0 view .LVU1937
 5455 0080 2046     		mov	r0, r4
 5456 0082 FFF7FEFF 		bl	CmdResp1Error
 5457              	.LVL493:
1538:HW/SDCard/SDCard_sdio.c ****   {
 5458              		.loc 1 1538 3 is_stmt 1 view .LVU1938
1538:HW/SDCard/SDCard_sdio.c ****   {
 5459              		.loc 1 1538 6 is_stmt 0 view .LVU1939
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 172


 5460 0086 0446     		mov	r4, r0
 5461 0088 0028     		cmp	r0, #0
 5462 008a E4D1     		bne	.L313
1545:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_WRITE_MULT_BLOCK;
 5463              		.loc 1 1545 3 is_stmt 1 view .LVU1940
1545:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_WRITE_MULT_BLOCK;
 5464              		.loc 1 1545 39 is_stmt 0 view .LVU1941
 5465 008c 1D48     		ldr	r0, .L317+24
 5466              	.LVL494:
1545:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_WRITE_MULT_BLOCK;
 5467              		.loc 1 1545 39 view .LVU1942
 5468 008e 0560     		str	r5, [r0]
1546:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 5469              		.loc 1 1546 3 is_stmt 1 view .LVU1943
1546:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 5470              		.loc 1 1546 39 is_stmt 0 view .LVU1944
 5471 0090 1924     		movs	r4, #25
 5472 0092 4460     		str	r4, [r0, #4]
1547:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 5473              		.loc 1 1547 3 is_stmt 1 view .LVU1945
1547:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 5474              		.loc 1 1547 39 is_stmt 0 view .LVU1946
 5475 0094 4023     		movs	r3, #64
 5476 0096 8360     		str	r3, [r0, #8]
1548:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 5477              		.loc 1 1548 3 is_stmt 1 view .LVU1947
1548:HW/SDCard/SDCard_sdio.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 5478              		.loc 1 1548 35 is_stmt 0 view .LVU1948
 5479 0098 0023     		movs	r3, #0
 5480 009a C360     		str	r3, [r0, #12]
1549:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 5481              		.loc 1 1549 3 is_stmt 1 view .LVU1949
1549:HW/SDCard/SDCard_sdio.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 5482              		.loc 1 1549 35 is_stmt 0 view .LVU1950
 5483 009c 4FF48063 		mov	r3, #1024
 5484 00a0 0361     		str	r3, [r0, #16]
1550:HW/SDCard/SDCard_sdio.c **** 
 5485              		.loc 1 1550 3 is_stmt 1 view .LVU1951
 5486 00a2 FFF7FEFF 		bl	SDIO_SendCommand
 5487              	.LVL495:
1552:HW/SDCard/SDCard_sdio.c **** 
 5488              		.loc 1 1552 3 view .LVU1952
1552:HW/SDCard/SDCard_sdio.c **** 
 5489              		.loc 1 1552 17 is_stmt 0 view .LVU1953
 5490 00a6 2046     		mov	r0, r4
 5491 00a8 FFF7FEFF 		bl	CmdResp1Error
 5492              	.LVL496:
1554:HW/SDCard/SDCard_sdio.c ****   {
 5493              		.loc 1 1554 3 is_stmt 1 view .LVU1954
1554:HW/SDCard/SDCard_sdio.c ****   {
 5494              		.loc 1 1554 6 is_stmt 0 view .LVU1955
 5495 00ac 0446     		mov	r4, r0
 5496 00ae 0028     		cmp	r0, #0
 5497 00b0 D1D1     		bne	.L313
1559:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = NumberOfBlocks * BlockSize;
 5498              		.loc 1 1559 3 is_stmt 1 view .LVU1956
1559:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = NumberOfBlocks * BlockSize;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 173


 5499              		.loc 1 1559 43 is_stmt 0 view .LVU1957
 5500 00b2 1548     		ldr	r0, .L317+28
 5501              	.LVL497:
1559:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataLength = NumberOfBlocks * BlockSize;
 5502              		.loc 1 1559 43 view .LVU1958
 5503 00b4 4FF0FF33 		mov	r3, #-1
 5504 00b8 0360     		str	r3, [r0]
1560:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 5505              		.loc 1 1560 3 is_stmt 1 view .LVU1959
1560:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 5506              		.loc 1 1560 59 is_stmt 0 view .LVU1960
 5507 00ba 07FB06F6 		mul	r6, r7, r6
 5508              	.LVL498:
1560:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 5509              		.loc 1 1560 42 view .LVU1961
 5510 00be 4660     		str	r6, [r0, #4]
1561:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToCard;
 5511              		.loc 1 1561 3 is_stmt 1 view .LVU1962
1561:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToCard;
 5512              		.loc 1 1561 45 is_stmt 0 view .LVU1963
 5513 00c0 9023     		movs	r3, #144
 5514 00c2 8360     		str	r3, [r0, #8]
1562:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 5515              		.loc 1 1562 3 is_stmt 1 view .LVU1964
1562:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 5516              		.loc 1 1562 43 is_stmt 0 view .LVU1965
 5517 00c4 0023     		movs	r3, #0
 5518 00c6 C360     		str	r3, [r0, #12]
1563:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 5519              		.loc 1 1563 3 is_stmt 1 view .LVU1966
1563:HW/SDCard/SDCard_sdio.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 5520              		.loc 1 1563 44 is_stmt 0 view .LVU1967
 5521 00c8 0361     		str	r3, [r0, #16]
1564:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 5522              		.loc 1 1564 3 is_stmt 1 view .LVU1968
1564:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 5523              		.loc 1 1564 36 is_stmt 0 view .LVU1969
 5524 00ca 0125     		movs	r5, #1
 5525              	.LVL499:
1564:HW/SDCard/SDCard_sdio.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 5526              		.loc 1 1564 36 view .LVU1970
 5527 00cc 4561     		str	r5, [r0, #20]
1565:HW/SDCard/SDCard_sdio.c **** 
 5528              		.loc 1 1565 3 is_stmt 1 view .LVU1971
 5529 00ce FFF7FEFF 		bl	SDIO_DataConfig
 5530              	.LVL500:
1567:HW/SDCard/SDCard_sdio.c ****   SDIO_DMACmd(ENABLE);    
 5531              		.loc 1 1567 3 view .LVU1972
 5532 00d2 2946     		mov	r1, r5
 5533 00d4 4FF48070 		mov	r0, #256
 5534 00d8 FFF7FEFF 		bl	SDIO_ITConfig
 5535              	.LVL501:
1568:HW/SDCard/SDCard_sdio.c ****   SD_TxDMA_Configuration((uint32_t *)writebuff, (NumberOfBlocks * BlockSize));
 5536              		.loc 1 1568 3 view .LVU1973
 5537 00dc 2846     		mov	r0, r5
 5538 00de FFF7FEFF 		bl	SDIO_DMACmd
 5539              	.LVL502:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 174


1569:HW/SDCard/SDCard_sdio.c **** 
 5540              		.loc 1 1569 3 view .LVU1974
 5541 00e2 3146     		mov	r1, r6
 5542 00e4 4046     		mov	r0, r8
 5543 00e6 FFF7FEFF 		bl	SD_TxDMA_Configuration
 5544              	.LVL503:
1571:HW/SDCard/SDCard_sdio.c **** }
 5545              		.loc 1 1571 3 view .LVU1975
1571:HW/SDCard/SDCard_sdio.c **** }
 5546              		.loc 1 1571 9 is_stmt 0 view .LVU1976
 5547 00ea B4E7     		b	.L313
 5548              	.L318:
 5549              		.align	2
 5550              	.L317:
 5551 00ec 00000000 		.word	TransferError
 5552 00f0 00000000 		.word	TransferEnd
 5553 00f4 00000000 		.word	StopCondition
 5554 00f8 00800140 		.word	1073840128
 5555 00fc 00000000 		.word	CardType
 5556 0100 00000000 		.word	RCA
 5557 0104 00000000 		.word	SDIO_CmdInitStructure
 5558 0108 00000000 		.word	SDIO_DataInitStructure
 5559              		.cfi_endproc
 5560              	.LFE45:
 5562              		.global	SDIO_DataInitStructure
 5563              		.section	.bss.SDIO_DataInitStructure,"aw",%nobits
 5564              		.align	2
 5567              	SDIO_DataInitStructure:
 5568 0000 00000000 		.space	24
 5568      00000000 
 5568      00000000 
 5568      00000000 
 5568      00000000 
 5569              		.global	SDIO_CmdInitStructure
 5570              		.section	.bss.SDIO_CmdInitStructure,"aw",%nobits
 5571              		.align	2
 5574              	SDIO_CmdInitStructure:
 5575 0000 00000000 		.space	20
 5575      00000000 
 5575      00000000 
 5575      00000000 
 5575      00000000 
 5576              		.global	SDIO_InitStructure
 5577              		.section	.bss.SDIO_InitStructure,"aw",%nobits
 5578              		.align	2
 5581              	SDIO_InitStructure:
 5582 0000 00000000 		.space	24
 5582      00000000 
 5582      00000000 
 5582      00000000 
 5582      00000000 
 5583              		.global	SDCardInfo
 5584              		.section	.bss.SDCardInfo,"aw",%nobits
 5585              		.align	2
 5588              	SDCardInfo:
 5589 0000 00000000 		.space	80
 5589      00000000 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 175


 5589      00000000 
 5589      00000000 
 5589      00000000 
 5590              		.global	TransferEnd
 5591              		.section	.bss.TransferEnd,"aw",%nobits
 5592              		.align	2
 5595              	TransferEnd:
 5596 0000 00000000 		.space	4
 5597              		.global	TransferError
 5598              		.section	.bss.TransferError,"aw",%nobits
 5601              	TransferError:
 5602 0000 00       		.space	1
 5603              		.global	StopCondition
 5604              		.section	.bss.StopCondition,"aw",%nobits
 5605              		.align	2
 5608              	StopCondition:
 5609 0000 00000000 		.space	4
 5610              		.section	.bss.SDSTATUS_Tab,"aw",%nobits
 5611              		.align	2
 5614              	SDSTATUS_Tab:
 5615 0000 00000000 		.space	16
 5615      00000000 
 5615      00000000 
 5615      00000000 
 5616              		.section	.bss.RCA,"aw",%nobits
 5617              		.align	2
 5620              	RCA:
 5621 0000 00000000 		.space	4
 5622              		.section	.bss.CID_Tab,"aw",%nobits
 5623              		.align	2
 5626              	CID_Tab:
 5627 0000 00000000 		.space	16
 5627      00000000 
 5627      00000000 
 5627      00000000 
 5628              		.section	.bss.CSD_Tab,"aw",%nobits
 5629              		.align	2
 5632              	CSD_Tab:
 5633 0000 00000000 		.space	16
 5633      00000000 
 5633      00000000 
 5633      00000000 
 5634              		.section	.bss.CardType,"aw",%nobits
 5635              		.align	2
 5638              	CardType:
 5639 0000 00000000 		.space	4
 5640              		.text
 5641              	.Letext0:
 5642              		.file 2 "e:\\windows\\programs\\arm-gnu-toolchain-12.2.mpacbti-bet1-mingw-w64-i686-arm-none-eabi\\
 5643              		.file 3 "e:\\windows\\programs\\arm-gnu-toolchain-12.2.mpacbti-bet1-mingw-w64-i686-arm-none-eabi\\
 5644              		.file 4 "USER/stm32f10x.h"
 5645              		.file 5 "STM32F10x_FWLib/inc/stm32f10x_dma.h"
 5646              		.file 6 "STM32F10x_FWLib/inc/stm32f10x_gpio.h"
 5647              		.file 7 "STM32F10x_FWLib/inc/stm32f10x_sdio.h"
 5648              		.file 8 "STM32F10x_FWLib/inc/misc.h"
 5649              		.file 9 "HW/SDCard/SDCard_sdio.h"
 5650              		.file 10 "STM32F10x_FWLib/inc/stm32f10x_rcc.h"
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 176


ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 177


DEFINED SYMBOLS
                            *ABS*:00000000 SDCard_sdio.c
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:19     .text.CmdResp1Error:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:24     .text.CmdResp1Error:00000000 CmdResp1Error
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:56     .text.CmdResp1Error:0000001c $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:61     .text.CmdError:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:66     .text.CmdError:00000000 CmdError
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:126    .text.CmdResp7Error:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:131    .text.CmdResp7Error:00000000 CmdResp7Error
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:216    .text.CmdResp7Error:00000040 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:221    .text.CmdResp3Error:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:226    .text.CmdResp3Error:00000000 CmdResp3Error
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:289    .text.CmdResp3Error:00000030 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:294    .text.CmdResp2Error:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:299    .text.CmdResp2Error:00000000 CmdResp2Error
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:377    .text.CmdResp2Error:00000040 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:382    .text.CmdResp6Error:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:387    .text.CmdResp6Error:00000000 CmdResp6Error
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:543    .text.CmdResp6Error:00000080 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:548    .text.IsCardProgramming:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:553    .text.IsCardProgramming:00000000 IsCardProgramming
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:917    .text.IsCardProgramming:00000184 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5620   .bss.RCA:00000000 RCA
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5574   .bss.SDIO_CmdInitStructure:00000000 SDIO_CmdInitStructure
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:925    .text.FindSCR:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:930    .text.FindSCR:00000000 FindSCR
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:1255   .text.FindSCR:00000158 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5567   .bss.SDIO_DataInitStructure:00000000 SDIO_DataInitStructure
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:1263   .text.SDEnWideBus:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:1268   .text.SDEnWideBus:00000000 SDEnWideBus
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:1502   .text.SDEnWideBus:000000e0 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:1508   .text.__SD_DMA_Conf_Impl:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:1513   .text.__SD_DMA_Conf_Impl:00000000 __SD_DMA_Conf_Impl
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:1617   .text.__SD_DMA_Conf_Impl:00000060 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:1625   .text.SD_DeInit:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:1631   .text.SD_DeInit:00000000 SD_DeInit
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:1651   .text.SD_Detect:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:1657   .text.SD_Detect:00000000 SD_Detect
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:1684   .text.SD_PowerON:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:1690   .text.SD_PowerON:00000000 SD_PowerON
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:2021   .text.SD_PowerON:00000144 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5581   .bss.SDIO_InitStructure:00000000 SDIO_InitStructure
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5638   .bss.CardType:00000000 CardType
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:2028   .text.SD_PowerOFF:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:2034   .text.SD_PowerOFF:00000000 SD_PowerOFF
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:2059   .text.SD_InitializeCards:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:2065   .text.SD_InitializeCards:00000000 SD_InitializeCards
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:2312   .text.SD_InitializeCards:000000fc $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5626   .bss.CID_Tab:00000000 CID_Tab
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5632   .bss.CSD_Tab:00000000 CSD_Tab
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:2321   .text.SD_GetCardInfo:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:2327   .text.SD_GetCardInfo:00000000 SD_GetCardInfo
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:2922   .text.SD_GetCardInfo:00000270 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:2930   .text.SD_EnableWideBusOperation:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:2936   .text.SD_EnableWideBusOperation:00000000 SD_EnableWideBusOperation
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3070   .text.SD_EnableWideBusOperation:00000070 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3076   .text.SD_SelectDeselect:00000000 $t
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 178


C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3082   .text.SD_SelectDeselect:00000000 SD_SelectDeselect
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3134   .text.SD_SelectDeselect:00000028 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3139   .text.SD_WaitReadOperation:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3145   .text.SD_WaitReadOperation:00000000 SD_WaitReadOperation
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3198   .text.SD_WaitReadOperation:0000002c $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5595   .bss.TransferEnd:00000000 TransferEnd
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5601   .bss.TransferError:00000000 TransferError
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3204   .text.SD_WaitWriteOperation:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3210   .text.SD_WaitWriteOperation:00000000 SD_WaitWriteOperation
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3270   .text.SD_WaitWriteOperation:00000034 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3276   .text.SD_GetTransferState:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3282   .text.SD_GetTransferState:00000000 SD_GetTransferState
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3307   .text.SD_GetTransferState:00000014 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3312   .text.SD_StopTransfer:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3318   .text.SD_StopTransfer:00000000 SD_StopTransfer
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3351   .text.SD_StopTransfer:00000018 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3356   .text.SD_Erase:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3362   .text.SD_Erase:00000000 SD_Erase
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3608   .text.SD_Erase:000000e4 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3617   .text.SD_SendStatus:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3623   .text.SD_SendStatus:00000000 SD_SendStatus
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3677   .text.SD_SendStatus:00000024 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3683   .text.SD_GetState:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3689   .text.SD_GetState:00000000 SD_GetState
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3746   .text.SD_GetStatus:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3752   .text.SD_GetStatus:00000000 SD_GetStatus
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3801   .text.SD_SendSDStatus:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:3807   .text.SD_SendSDStatus:00000000 SD_SendSDStatus
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4125   .text.SD_SendSDStatus:00000144 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4133   .text.SD_GetCardStatus:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4139   .text.SD_GetCardStatus:00000000 SD_GetCardStatus
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4324   .text.SD_GetCardStatus:0000007c $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5614   .bss.SDSTATUS_Tab:00000000 SDSTATUS_Tab
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4329   .text.SD_ProcessIRQSrc:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4335   .text.SD_ProcessIRQSrc:00000000 SD_ProcessIRQSrc
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4401   .text.SD_ProcessIRQSrc:00000048 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5608   .bss.StopCondition:00000000 StopCondition
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4409   .text.convert_from_bytes_to_power_of_two:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4415   .text.convert_from_bytes_to_power_of_two:00000000 convert_from_bytes_to_power_of_two
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4457   .text.SD_NVIC_Configuration:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4463   .text.SD_NVIC_Configuration:00000000 SD_NVIC_Configuration
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4506   .text.SD_GPIO_Configuration:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4512   .text.SD_GPIO_Configuration:00000000 SD_GPIO_Configuration
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4571   .text.SD_GPIO_Configuration:00000048 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4577   .text.SD_Init:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4583   .text.SD_Init:00000000 SD_Init
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4690   .text.SD_Init:0000005c $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5588   .bss.SDCardInfo:00000000 SDCardInfo
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4696   .text.SD_RxDMA_Configuration:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4702   .text.SD_RxDMA_Configuration:00000000 SD_RxDMA_Configuration
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4725   .text.SD_ReadBlock:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4731   .text.SD_ReadBlock:00000000 SD_ReadBlock
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4882   .text.SD_ReadBlock:00000088 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4893   .text.SD_ReadMultiBlocks:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:4899   .text.SD_ReadMultiBlocks:00000000 SD_ReadMultiBlocks
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5094   .text.SD_ReadMultiBlocks:000000c4 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5105   .text.SD_TxDMA_Configuration:00000000 $t
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s 			page 179


C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5111   .text.SD_TxDMA_Configuration:00000000 SD_TxDMA_Configuration
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5134   .text.SD_WriteBlock:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5140   .text.SD_WriteBlock:00000000 SD_WriteBlock
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5288   .text.SD_WriteBlock:00000088 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5299   .text.SD_WriteMultiBlocks:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5305   .text.SD_WriteMultiBlocks:00000000 SD_WriteMultiBlocks
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5551   .text.SD_WriteMultiBlocks:000000ec $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5564   .bss.SDIO_DataInitStructure:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5571   .bss.SDIO_CmdInitStructure:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5578   .bss.SDIO_InitStructure:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5585   .bss.SDCardInfo:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5592   .bss.TransferEnd:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5602   .bss.TransferError:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5605   .bss.StopCondition:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5611   .bss.SDSTATUS_Tab:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5617   .bss.RCA:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5623   .bss.CID_Tab:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5629   .bss.CSD_Tab:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccxVnoPs.s:5635   .bss.CardType:00000000 $d

UNDEFINED SYMBOLS
SDIO_GetFlagStatus
SDIO_ClearFlag
SDIO_GetCommandResponse
SDIO_GetResponse
SDIO_SendCommand
SDIO_DataConfig
SDIO_ReadData
RCC_AHBPeriphClockCmd
DMA_ClearFlag
DMA_Cmd
DMA_Init
SD_LowLevel_DeInit
SDIO_Init
SDIO_SetPowerState
SDIO_ClockCmd
SDIO_GetPowerState
SD_DMAEndOfTransferStatus
SDIO_ClearITPendingBit
SDIO_ITConfig
NVIC_Init
RCC_APB2PeriphClockCmd
GPIO_Init
SD_LowLevel_Init
SDIO_DeInit
SDIO_DMACmd
