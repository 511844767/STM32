ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"SDCard.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "HW/SDCard/SDCard.c"
  18              		.section	.rodata.SDCard_Fats_Run.str1.4,"aMS",%progbits,1
  19              		.align	2
  20              	.LC0:
  21 0000 303A00   		.ascii	"0:\000"
  22 0003 00       		.align	2
  23              	.LC1:
  24 0004 E69CAAE5 		.ascii	"\346\234\252\345\212\240\350\275\275FatFs\347\263\273"
  24      8AA0E8BD 
  24      BD466174 
  24      4673E7B3 
  24      BB
  25 0015 E7BB9FEF 		.ascii	"\347\273\237\357\274\214\351\234\200\350\246\201\346"
  25      BC8CE99C 
  25      80E8A681 
  25      E6
  26 0022 A0BCE5BC 		.ascii	"\240\274\345\274\217\345\214\226\015\000"
  26      8FE58C96 
  26      0D00
  27              		.align	2
  28              	.LC2:
  29 002c 4572726F 		.ascii	"Error line: %d, function: %s, info: %s\015\012\000"
  29      72206C69 
  29      6E653A20 
  29      25642C20 
  29      66756E63 
  30 0055 000000   		.align	2
  31              	.LC3:
  32 0058 303A5465 		.ascii	"0:Test.txt\000"
  32      73742E74 
  32      787400
  33 0063 00       		.align	2
  34              	.LC5:
  35 0064 4572726F 		.ascii	"Error line: %d, function: %s, info: write error\015"
  35      72206C69 
  35      6E653A20 
  35      25642C20 
  35      66756E63 
  36 0094 0A00     		.ascii	"\012\000"
  37 0096 0000     		.align	2
  38              	.LC6:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 2


  39 0098 E69687E4 		.ascii	"\346\226\207\344\273\266\345\206\231\345\205\245\346"
  39      BBB6E586 
  39      99E585A5 
  39      E6
  40 00a5 8890E58A 		.ascii	"\210\220\345\212\237\015\000"
  40      9F0D00
  41              		.align	2
  42              	.LC7:
  43 00ac 4572726F 		.ascii	"Error line: %d, function: %s, info: read error\015\012"
  43      72206C69 
  43      6E653A20 
  43      25642C20 
  43      66756E63 
  44 00dc 00       		.ascii	"\000"
  45 00dd 000000   		.align	2
  46              	.LC8:
  47 00e0 E69687E4 		.ascii	"\346\226\207\344\273\266\350\257\273\345\217\226\346"
  47      BBB6E8AF 
  47      BBE58F96 
  47      E6
  48 00ed 8890E58A 		.ascii	"\210\220\345\212\237\357\274\232%s\015\012\000"
  48      9FEFBC9A 
  48      25730D0A 
  48      00
  49 00fa 0000     		.align	2
  50              	.LC9:
  51 00fc 256C7520 		.ascii	"%lu KiB total drive space.\012%lu KiB available.\015"
  51      4B694220 
  51      746F7461 
  51      6C206472 
  51      69766520 
  52 012a 0A00     		.ascii	"\012\000"
  53              		.section	.text.SDCard_Fats_Run,"ax",%progbits
  54              		.align	1
  55              		.global	SDCard_Fats_Run
  56              		.syntax unified
  57              		.thumb
  58              		.thumb_func
  60              	SDCard_Fats_Run:
  61              	.LFB33:
   1:HW/SDCard/SDCard.c **** #include"stdio.h"
   2:HW/SDCard/SDCard.c **** #include"stdlib.h"
   3:HW/SDCard/SDCard.c **** #include"stm32_eval_sdio_sd.h"
   4:HW/SDCard/SDCard.c **** #include"ff.h"
   5:HW/SDCard/SDCard.c **** 
   6:HW/SDCard/SDCard.c **** void SD_EraseTest(void);
   7:HW/SDCard/SDCard.c **** void SD_SingleBlockTest(void);
   8:HW/SDCard/SDCard.c **** void SD_MultiBlockTest(void);
   9:HW/SDCard/SDCard.c **** void Fill_Buffer(uint8_t *pBuffer, uint32_t BufferLength, uint32_t Offset);
  10:HW/SDCard/SDCard.c **** 
  11:HW/SDCard/SDCard.c **** extern void USART1_Init();
  12:HW/SDCard/SDCard.c **** 
  13:HW/SDCard/SDCard.c **** /************************ËØªÂÜôÊµãËØï**********************/
  14:HW/SDCard/SDCard.c **** void SDCard_Run(){
  15:HW/SDCard/SDCard.c ****     /* ÈÖçÁΩÆ‰∏≠Êñ≠‰ºòÂÖàÁ∫ßÁªÑ */
  16:HW/SDCard/SDCard.c ****     NVIC_PriorityGroupConfig(NVIC_PriorityGroup_2);
  17:HW/SDCard/SDCard.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 3


  18:HW/SDCard/SDCard.c ****     /* ÂàùÂßãÂåñ */
  19:HW/SDCard/SDCard.c ****     USART1_Init();
  20:HW/SDCard/SDCard.c ****     SD_Error err = SD_Init();
  21:HW/SDCard/SDCard.c ****     if(err != SD_OK){
  22:HW/SDCard/SDCard.c ****         printf("SDÂç°ÂàùÂßãÂåñÂ§±Ë¥•: %d\r\n", err);
  23:HW/SDCard/SDCard.c ****         return;
  24:HW/SDCard/SDCard.c ****     }else{
  25:HW/SDCard/SDCard.c ****         printf("SDÂç°ÂàùÂßãÂåñÊàêÂäü\r\n");
  26:HW/SDCard/SDCard.c ****     }
  27:HW/SDCard/SDCard.c ****     
  28:HW/SDCard/SDCard.c ****     /* ËØªÂÜôÊµãËØï */
  29:HW/SDCard/SDCard.c ****     SD_EraseTest();
  30:HW/SDCard/SDCard.c ****     SD_SingleBlockTest();
  31:HW/SDCard/SDCard.c ****     SD_MultiBlockTest();
  32:HW/SDCard/SDCard.c **** }
  33:HW/SDCard/SDCard.c **** 
  34:HW/SDCard/SDCard.c **** /************************Êñá‰ª∂Á≥ªÁªüÊµãËØï**********************/
  35:HW/SDCard/SDCard.c **** /* ÂºÇÂ∏∏Ê£ÄÊü• */
  36:HW/SDCard/SDCard.c **** typedef struct{
  37:HW/SDCard/SDCard.c ****     const char info[72];
  38:HW/SDCard/SDCard.c **** } FATFS_Errors_Info_t;
  39:HW/SDCard/SDCard.c **** 
  40:HW/SDCard/SDCard.c **** static FATFS_Errors_Info_t errInfo[20] = {
  41:HW/SDCard/SDCard.c ****     { "(0) Succeeded" },
  42:HW/SDCard/SDCard.c ****     { "(1) A hard error occurred in the low level disk I/O layer" },
  43:HW/SDCard/SDCard.c ****     { "(2) Assertion failed" },
  44:HW/SDCard/SDCard.c ****     { "(3) The physical drive cannot work" },
  45:HW/SDCard/SDCard.c ****     { "(4) Could not find the file" },
  46:HW/SDCard/SDCard.c ****     { "(5) Could not find the path" },
  47:HW/SDCard/SDCard.c ****     { "(6) The path name format is invalid" },
  48:HW/SDCard/SDCard.c ****     { "(7) Access denied due to prohibited access or directory full" },
  49:HW/SDCard/SDCard.c ****     { "(8) Access denied due to prohibited access" },
  50:HW/SDCard/SDCard.c ****     { "(9) The file/directory object is invalid" },
  51:HW/SDCard/SDCard.c ****     { "(10) The physical drive is write protected" },
  52:HW/SDCard/SDCard.c ****     { "(11) The logical drive number is invalid" },
  53:HW/SDCard/SDCard.c ****     { "(12) The volume has no work area" },
  54:HW/SDCard/SDCard.c ****     { "(13) There is no valid FAT volume" },
  55:HW/SDCard/SDCard.c ****     { "(14) The f_mkfs() aborted due to any problem" },
  56:HW/SDCard/SDCard.c ****     { "(15) Could not get a grant to access the volume within defined perio" },
  57:HW/SDCard/SDCard.c ****     { "(16) The operation is rejected according to the file sharing policy" },
  58:HW/SDCard/SDCard.c ****     { "(17) LFN working src could not be allocated" },
  59:HW/SDCard/SDCard.c ****     { "(18) Number of open files > FF_FS_LOCK" },
  60:HW/SDCard/SDCard.c ****     { "(19) Given parameter is invalid" },
  61:HW/SDCard/SDCard.c **** };
  62:HW/SDCard/SDCard.c **** 
  63:HW/SDCard/SDCard.c **** #define FATFS_CHECK(func){ \
  64:HW/SDCard/SDCard.c ****     err = func; \
  65:HW/SDCard/SDCard.c ****     if(err != FR_OK){ \
  66:HW/SDCard/SDCard.c ****         fprintf(stderr, "Error line: %d, function: %s, info: %s\r\n", __LINE__, __FUNCTION__, errIn
  67:HW/SDCard/SDCard.c ****         goto FATFS_ERR_FLAG; \
  68:HW/SDCard/SDCard.c ****     } \
  69:HW/SDCard/SDCard.c **** }
  70:HW/SDCard/SDCard.c **** 
  71:HW/SDCard/SDCard.c **** void SDCard_Fats_Run(){
  62              		.loc 1 71 23 view -0
  63              		.cfi_startproc
  64              		@ args = 0, pretend = 0, frame = 56
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 4


  65              		@ frame_needed = 0, uses_anonymous_args = 0
  66 0000 10B5     		push	{r4, lr}
  67              	.LCFI0:
  68              		.cfi_def_cfa_offset 8
  69              		.cfi_offset 4, -8
  70              		.cfi_offset 14, -4
  71 0002 90B0     		sub	sp, sp, #64
  72              	.LCFI1:
  73              		.cfi_def_cfa_offset 72
  72:HW/SDCard/SDCard.c ****     FRESULT err = 0;
  74              		.loc 1 72 5 view .LVU1
  75              	.LVL0:
  73:HW/SDCard/SDCard.c ****     FIL* fp = 0;
  76              		.loc 1 73 5 view .LVU2
  74:HW/SDCard/SDCard.c **** 
  75:HW/SDCard/SDCard.c ****     /* ÂàùÂßãÂåñ */
  76:HW/SDCard/SDCard.c ****     USART1_Init();
  77              		.loc 1 76 5 view .LVU3
  78 0004 FFF7FEFF 		bl	USART1_Init
  79              	.LVL1:
  77:HW/SDCard/SDCard.c **** 
  78:HW/SDCard/SDCard.c ****     /* ÊåÇËΩΩSD */
  79:HW/SDCard/SDCard.c ****     /* FATFSÂíåFILÁªìÊûÑ‰ΩìÂÜÖÂ≠òËæÉÂ§ßÔºåÊîæÂú®Â†ÜÁ©∫Èó¥ÊØîËæÉÂêàÈÄÇ */
  80:HW/SDCard/SDCard.c ****     FATFS* fs = malloc(sizeof(FATFS));
  80              		.loc 1 80 5 view .LVU4
  81              		.loc 1 80 17 is_stmt 0 view .LVU5
  82 0008 41F23800 		movw	r0, #4152
  83 000c FFF7FEFF 		bl	malloc
  84              	.LVL2:
  85              		.loc 1 80 12 view .LVU6
  86 0010 0F90     		str	r0, [sp, #60]
  81:HW/SDCard/SDCard.c ****     err = f_mount(fs, "0:", 1);                 // path‰∏∫diskio.c‰∏≠ÂÆö‰πâÁöÑDEV_SDCARDÔºåopt‰∏∫1Ë
  87              		.loc 1 81 5 is_stmt 1 view .LVU7
  88              		.loc 1 81 11 is_stmt 0 view .LVU8
  89 0012 0122     		movs	r2, #1
  90 0014 9849     		ldr	r1, .L28
  91 0016 FFF7FEFF 		bl	f_mount
  92              	.LVL3:
  82:HW/SDCard/SDCard.c ****     
  83:HW/SDCard/SDCard.c ****     /* Á¨¨‰∏ÄÊ¨°ÊåÇËΩΩÂ¶ÇÊûúÊ≤°ÊâæÂà∞FatFsÊñá‰ª∂Á≥ªÁªüÔºåÂàôÊ†ºÂºèÂåñÂä†ËΩΩÊñá‰ª∂Á≥ªÁªü */
  84:HW/SDCard/SDCard.c ****     if(err == FR_NO_FILESYSTEM){ 
  93              		.loc 1 84 5 is_stmt 1 view .LVU9
  94              		.loc 1 84 7 is_stmt 0 view .LVU10
  95 001a 0D28     		cmp	r0, #13
  96 001c 2ED0     		beq	.L18
  85:HW/SDCard/SDCard.c ****         printf("Êú™Âä†ËΩΩFatFsÁ≥ªÁªüÔºåÈúÄË¶ÅÊ†ºÂºèÂåñ\r\n");
  86:HW/SDCard/SDCard.c ****         uint8_t* work = malloc(512);           // Ê†ºÂºèÂåñÂ∑•‰ΩúÁ©∫Èó¥
  87:HW/SDCard/SDCard.c ****         FATFS_CHECK(f_mkfs("0:", NULL, work, 512));
  88:HW/SDCard/SDCard.c ****         free(work);
  89:HW/SDCard/SDCard.c ****         FATFS_CHECK(f_mount(fs, "0:", 1));      // Ê†ºÂºèÂåñ‰πãÂêéÈáçÊñ∞ÊåÇËΩΩ
  90:HW/SDCard/SDCard.c ****     }else if(err != FR_OK){
  97              		.loc 1 90 11 is_stmt 1 view .LVU11
  98              		.loc 1 90 13 is_stmt 0 view .LVU12
  99 001e 0028     		cmp	r0, #0
 100 0020 66D1     		bne	.L19
 101              	.L5:
  91:HW/SDCard/SDCard.c ****         fprintf(stderr, "Error line: %d, function: %s, info: %s\r\n", __LINE__, __FUNCTION__, errIn
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 5


  92:HW/SDCard/SDCard.c ****         goto FATFS_ERR_FLAG;
  93:HW/SDCard/SDCard.c ****     }
  94:HW/SDCard/SDCard.c **** 
  95:HW/SDCard/SDCard.c ****     /* ÊâìÂºÄÊñá‰ª∂ */
  96:HW/SDCard/SDCard.c ****     fp = malloc(sizeof(FIL));
 102              		.loc 1 96 5 is_stmt 1 view .LVU13
 103              		.loc 1 96 10 is_stmt 0 view .LVU14
 104 0022 41F22800 		movw	r0, #4136
 105              	.LVL4:
 106              		.loc 1 96 10 view .LVU15
 107 0026 FFF7FEFF 		bl	malloc
 108              	.LVL5:
 109 002a 0446     		mov	r4, r0
 110              	.LVL6:
  97:HW/SDCard/SDCard.c ****     FATFS_CHECK(f_open(fp, "0:Test.txt", FA_CREATE_ALWAYS | FA_READ | FA_WRITE));
 111              		.loc 1 97 5 is_stmt 1 view .LVU16
 112 002c 0B22     		movs	r2, #11
 113 002e 9349     		ldr	r1, .L28+4
 114 0030 FFF7FEFF 		bl	f_open
 115              	.LVL7:
 116              		.loc 1 97 5 view .LVU17
 117 0034 0346     		mov	r3, r0
 118 0036 0028     		cmp	r0, #0
 119 0038 6AD1     		bne	.L20
 120              		.loc 1 97 81 discriminator 2 view .LVU18
  98:HW/SDCard/SDCard.c **** 
  99:HW/SDCard/SDCard.c ****     /* ÂÜôÂÖ•Êñá‰ª∂ */
 100:HW/SDCard/SDCard.c ****     const char src[20] = "Diana Ava";
 121              		.loc 1 100 5 discriminator 2 view .LVU19
 122              		.loc 1 100 16 is_stmt 0 discriminator 2 view .LVU20
 123 003a 914A     		ldr	r2, .L28+8
 124 003c 0AAB     		add	r3, sp, #40
 125 003e 07CA     		ldm	r2, {r0, r1, r2}
 126              	.LVL8:
 127              		.loc 1 100 16 discriminator 2 view .LVU21
 128 0040 03C3     		stmia	r3!, {r0, r1}
 129 0042 1A80     		strh	r2, [r3]	@ movhi
 130 0044 0023     		movs	r3, #0
 131 0046 CDF83230 		str	r3, [sp, #50]	@ unaligned
 132 004a CDF83630 		str	r3, [sp, #54]	@ unaligned
 133 004e ADF83A30 		strh	r3, [sp, #58]	@ movhi
 101:HW/SDCard/SDCard.c ****     UINT bw;
 134              		.loc 1 101 5 is_stmt 1 discriminator 2 view .LVU22
 102:HW/SDCard/SDCard.c ****     FATFS_CHECK(f_write(fp, src, 20, &bw));
 135              		.loc 1 102 5 discriminator 2 view .LVU23
 136 0052 09AB     		add	r3, sp, #36
 137 0054 1422     		movs	r2, #20
 138 0056 0AA9     		add	r1, sp, #40
 139 0058 2046     		mov	r0, r4
 140 005a FFF7FEFF 		bl	f_write
 141              	.LVL9:
 142              		.loc 1 102 5 discriminator 2 view .LVU24
 143 005e 0346     		mov	r3, r0
 144 0060 0028     		cmp	r0, #0
 145 0062 6DD1     		bne	.L21
 146              		.loc 1 102 43 discriminator 2 view .LVU25
 103:HW/SDCard/SDCard.c ****     if(bw != 20){   // bwËøîÂõûÂÆûÈôÖÂÜôÂÖ•ÈïøÂ∫¶ÔºåÂ∫îËØ•Á≠â‰∫éÁêÜËÆ∫ÂÜôÂÖ•ÈïøÂ∫¶
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 6


 147              		.loc 1 103 5 discriminator 2 view .LVU26
 148              		.loc 1 103 11 is_stmt 0 discriminator 2 view .LVU27
 149 0064 099B     		ldr	r3, [sp, #36]
 150              		.loc 1 103 7 discriminator 2 view .LVU28
 151 0066 142B     		cmp	r3, #20
 152 0068 79D0     		beq	.L9
 104:HW/SDCard/SDCard.c ****         fprintf(stderr, "Error line: %d, function: %s, info: write error\r\n", __LINE__, __FUNCTION
 153              		.loc 1 104 9 is_stmt 1 view .LVU29
 154              		.loc 1 104 17 is_stmt 0 view .LVU30
 155 006a 864B     		ldr	r3, .L28+12
 156 006c 1868     		ldr	r0, [r3]
 157              	.LVL10:
 158              		.loc 1 104 9 view .LVU31
 159 006e 864B     		ldr	r3, .L28+16
 160 0070 6822     		movs	r2, #104
 161 0072 8649     		ldr	r1, .L28+20
 162 0074 C068     		ldr	r0, [r0, #12]
 163 0076 FFF7FEFF 		bl	fprintf
 164              	.LVL11:
 105:HW/SDCard/SDCard.c ****         goto FATFS_ERR_FLAG;
 165              		.loc 1 105 9 is_stmt 1 view .LVU32
 166 007a 57E0     		b	.L7
 167              	.LVL12:
 168              	.L18:
 169              	.LBB2:
  85:HW/SDCard/SDCard.c ****         uint8_t* work = malloc(512);           // Ê†ºÂºèÂåñÂ∑•‰ΩúÁ©∫Èó¥
 170              		.loc 1 85 9 view .LVU33
 171 007c 8448     		ldr	r0, .L28+24
 172              	.LVL13:
  85:HW/SDCard/SDCard.c ****         uint8_t* work = malloc(512);           // Ê†ºÂºèÂåñÂ∑•‰ΩúÁ©∫Èó¥
 173              		.loc 1 85 9 is_stmt 0 view .LVU34
 174 007e FFF7FEFF 		bl	puts
 175              	.LVL14:
  86:HW/SDCard/SDCard.c ****         FATFS_CHECK(f_mkfs("0:", NULL, work, 512));
 176              		.loc 1 86 9 is_stmt 1 view .LVU35
  86:HW/SDCard/SDCard.c ****         FATFS_CHECK(f_mkfs("0:", NULL, work, 512));
 177              		.loc 1 86 25 is_stmt 0 view .LVU36
 178 0082 4FF40070 		mov	r0, #512
 179 0086 FFF7FEFF 		bl	malloc
 180              	.LVL15:
 181 008a 0446     		mov	r4, r0
 182              	.LVL16:
  87:HW/SDCard/SDCard.c ****         free(work);
 183              		.loc 1 87 9 is_stmt 1 view .LVU37
 184 008c 4FF40073 		mov	r3, #512
 185 0090 0246     		mov	r2, r0
 186 0092 0021     		movs	r1, #0
 187 0094 7848     		ldr	r0, .L28
 188              	.LVL17:
  87:HW/SDCard/SDCard.c ****         free(work);
 189              		.loc 1 87 9 is_stmt 0 view .LVU38
 190 0096 FFF7FEFF 		bl	f_mkfs
 191              	.LVL18:
  87:HW/SDCard/SDCard.c ****         free(work);
 192              		.loc 1 87 9 is_stmt 1 view .LVU39
 193 009a 0346     		mov	r3, r0
 194 009c C8B9     		cbnz	r0, .L22
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 7


  87:HW/SDCard/SDCard.c ****         free(work);
 195              		.loc 1 87 51 discriminator 2 view .LVU40
  88:HW/SDCard/SDCard.c ****         FATFS_CHECK(f_mount(fs, "0:", 1));      // Ê†ºÂºèÂåñ‰πãÂêéÈáçÊñ∞ÊåÇËΩΩ
 196              		.loc 1 88 9 discriminator 2 view .LVU41
 197 009e 2046     		mov	r0, r4
 198              	.LVL19:
  88:HW/SDCard/SDCard.c ****         FATFS_CHECK(f_mount(fs, "0:", 1));      // Ê†ºÂºèÂåñ‰πãÂêéÈáçÊñ∞ÊåÇËΩΩ
 199              		.loc 1 88 9 is_stmt 0 discriminator 2 view .LVU42
 200 00a0 FFF7FEFF 		bl	free
 201              	.LVL20:
  89:HW/SDCard/SDCard.c ****     }else if(err != FR_OK){
 202              		.loc 1 89 9 is_stmt 1 discriminator 2 view .LVU43
 203 00a4 0122     		movs	r2, #1
 204 00a6 7449     		ldr	r1, .L28
 205 00a8 0F98     		ldr	r0, [sp, #60]
 206 00aa FFF7FEFF 		bl	f_mount
 207              	.LVL21:
  89:HW/SDCard/SDCard.c ****     }else if(err != FR_OK){
 208              		.loc 1 89 9 discriminator 2 view .LVU44
 209 00ae 0346     		mov	r3, r0
 210 00b0 0028     		cmp	r0, #0
 211 00b2 B6D0     		beq	.L5
  89:HW/SDCard/SDCard.c ****     }else if(err != FR_OK){
 212              		.loc 1 89 9 discriminator 1 view .LVU45
 213 00b4 734A     		ldr	r2, .L28+12
 214 00b6 1268     		ldr	r2, [r2]
 215 00b8 D068     		ldr	r0, [r2, #12]
 216              	.LVL22:
  89:HW/SDCard/SDCard.c ****     }else if(err != FR_OK){
 217              		.loc 1 89 9 is_stmt 0 discriminator 1 view .LVU46
 218 00ba 03EBC303 		add	r3, r3, r3, lsl #3
 219 00be 754A     		ldr	r2, .L28+28
 220 00c0 02EBC303 		add	r3, r2, r3, lsl #3
 221 00c4 0093     		str	r3, [sp]
 222 00c6 704B     		ldr	r3, .L28+16
 223 00c8 5922     		movs	r2, #89
 224 00ca 7349     		ldr	r1, .L28+32
 225 00cc FFF7FEFF 		bl	fprintf
 226              	.LVL23:
  89:HW/SDCard/SDCard.c ****     }else if(err != FR_OK){
 227              		.loc 1 89 9 is_stmt 1 discriminator 1 view .LVU47
  89:HW/SDCard/SDCard.c ****     }else if(err != FR_OK){
 228              		.loc 1 89 9 is_stmt 0 discriminator 1 view .LVU48
 229              	.LBE2:
 106:HW/SDCard/SDCard.c ****     }
 107:HW/SDCard/SDCard.c **** 
 108:HW/SDCard/SDCard.c ****     /* ÂÖ≥Èó≠Êñá‰ª∂ */
 109:HW/SDCard/SDCard.c ****     FATFS_CHECK(f_close(fp));
 110:HW/SDCard/SDCard.c **** 
 111:HW/SDCard/SDCard.c ****     printf("Êñá‰ª∂ÂÜôÂÖ•ÊàêÂäü\r\n");
 112:HW/SDCard/SDCard.c **** 
 113:HW/SDCard/SDCard.c ****     /* ËØªÂèñÊñá‰ª∂ */
 114:HW/SDCard/SDCard.c ****     FATFS_CHECK(f_open(fp, "0:Test.txt", FA_READ | FA_OPEN_EXISTING));
 115:HW/SDCard/SDCard.c ****     char dst[20];
 116:HW/SDCard/SDCard.c ****     UINT br;
 117:HW/SDCard/SDCard.c ****     FATFS_CHECK(f_read(fp, dst, 20, &br));
 118:HW/SDCard/SDCard.c ****     if(br != 20){   // brËøîÂõûÂÆûÈôÖËØªÂèñÈïøÂ∫¶ÔºåÂ∫îËØ•Á≠â‰∫éÁêÜËÆ∫ËØªÂèñÈïøÂ∫¶
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 8


 119:HW/SDCard/SDCard.c ****         fprintf(stderr, "Error line: %d, function: %s, info: read error\r\n", __LINE__, __FUNCTION_
 120:HW/SDCard/SDCard.c ****         goto FATFS_ERR_FLAG;
 121:HW/SDCard/SDCard.c ****     }
 122:HW/SDCard/SDCard.c **** 
 123:HW/SDCard/SDCard.c ****     /* ÂÖ≥Èó≠Êñá‰ª∂ */
 124:HW/SDCard/SDCard.c ****     FATFS_CHECK(f_close(fp));
 125:HW/SDCard/SDCard.c **** 
 126:HW/SDCard/SDCard.c ****     printf("Êñá‰ª∂ËØªÂèñÊàêÂäüÔºö%s\r\n", dst);
 127:HW/SDCard/SDCard.c **** 
 128:HW/SDCard/SDCard.c ****     /* Êü•ÁúãÁ≥ªÁªüÂÆπÈáèÂ§ßÂ∞è */
 129:HW/SDCard/SDCard.c ****     DWORD nclst;
 130:HW/SDCard/SDCard.c ****     FATFS_CHECK(f_getfree("0:", &nclst, &fs));
 131:HW/SDCard/SDCard.c ****     DWORD tot_sect = (fs->n_fatent - 2) * fs->csize;
 132:HW/SDCard/SDCard.c ****     DWORD fre_sect = nclst * fs->csize;
 133:HW/SDCard/SDCard.c **** 
 134:HW/SDCard/SDCard.c ****     /* Print the free space (assuming 512 bytes/sector) */
 135:HW/SDCard/SDCard.c ****     printf("%lu KiB total drive space.\n%lu KiB available.\r\n", tot_sect / 2, fre_sect / 2);
 136:HW/SDCard/SDCard.c **** FATFS_ERR_FLAG:
 137:HW/SDCard/SDCard.c ****     if(fp) free(fp);
 230              		.loc 1 137 5 is_stmt 1 discriminator 1 view .LVU49
 231 00d0 30E0     		b	.L4
 232              	.LVL24:
 233              	.L22:
 234              	.LBB3:
  87:HW/SDCard/SDCard.c ****         free(work);
 235              		.loc 1 87 9 discriminator 1 view .LVU50
 236 00d2 6C4A     		ldr	r2, .L28+12
 237 00d4 1268     		ldr	r2, [r2]
 238 00d6 D068     		ldr	r0, [r2, #12]
 239              	.LVL25:
  87:HW/SDCard/SDCard.c ****         free(work);
 240              		.loc 1 87 9 is_stmt 0 discriminator 1 view .LVU51
 241 00d8 03EBC303 		add	r3, r3, r3, lsl #3
 242 00dc 6D4A     		ldr	r2, .L28+28
 243 00de 02EBC303 		add	r3, r2, r3, lsl #3
 244 00e2 0093     		str	r3, [sp]
 245 00e4 684B     		ldr	r3, .L28+16
 246 00e6 5722     		movs	r2, #87
 247 00e8 6B49     		ldr	r1, .L28+32
 248 00ea FFF7FEFF 		bl	fprintf
 249              	.LVL26:
  87:HW/SDCard/SDCard.c ****         free(work);
 250              		.loc 1 87 9 is_stmt 1 discriminator 1 view .LVU52
  87:HW/SDCard/SDCard.c ****         free(work);
 251              		.loc 1 87 9 is_stmt 0 discriminator 1 view .LVU53
 252              	.LBE3:
 253              		.loc 1 137 5 is_stmt 1 discriminator 1 view .LVU54
 254 00ee 21E0     		b	.L4
 255              	.LVL27:
 256              	.L19:
  91:HW/SDCard/SDCard.c ****         goto FATFS_ERR_FLAG;
 257              		.loc 1 91 9 view .LVU55
  91:HW/SDCard/SDCard.c ****         goto FATFS_ERR_FLAG;
 258              		.loc 1 91 17 is_stmt 0 view .LVU56
 259 00f0 644B     		ldr	r3, .L28+12
 260 00f2 1B68     		ldr	r3, [r3]
 261 00f4 DC68     		ldr	r4, [r3, #12]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 9


  91:HW/SDCard/SDCard.c ****         goto FATFS_ERR_FLAG;
 262              		.loc 1 91 107 view .LVU57
 263 00f6 00EBC003 		add	r3, r0, r0, lsl #3
 264 00fa 664A     		ldr	r2, .L28+28
 265 00fc 02EBC303 		add	r3, r2, r3, lsl #3
  91:HW/SDCard/SDCard.c ****         goto FATFS_ERR_FLAG;
 266              		.loc 1 91 9 view .LVU58
 267 0100 0093     		str	r3, [sp]
 268 0102 614B     		ldr	r3, .L28+16
 269 0104 5B22     		movs	r2, #91
 270 0106 6449     		ldr	r1, .L28+32
 271 0108 2046     		mov	r0, r4
 272              	.LVL28:
  91:HW/SDCard/SDCard.c ****         goto FATFS_ERR_FLAG;
 273              		.loc 1 91 9 view .LVU59
 274 010a FFF7FEFF 		bl	fprintf
 275              	.LVL29:
  92:HW/SDCard/SDCard.c ****     }
 276              		.loc 1 92 9 is_stmt 1 view .LVU60
 277              		.loc 1 137 5 view .LVU61
 278 010e 11E0     		b	.L4
 279              	.LVL30:
 280              	.L20:
  97:HW/SDCard/SDCard.c **** 
 281              		.loc 1 97 5 discriminator 1 view .LVU62
 282 0110 5C4A     		ldr	r2, .L28+12
 283 0112 1268     		ldr	r2, [r2]
 284 0114 D068     		ldr	r0, [r2, #12]
 285              	.LVL31:
  97:HW/SDCard/SDCard.c **** 
 286              		.loc 1 97 5 is_stmt 0 discriminator 1 view .LVU63
 287 0116 03EBC303 		add	r3, r3, r3, lsl #3
 288 011a 5E4A     		ldr	r2, .L28+28
 289 011c 02EBC303 		add	r3, r2, r3, lsl #3
 290 0120 0093     		str	r3, [sp]
 291 0122 594B     		ldr	r3, .L28+16
 292 0124 6122     		movs	r2, #97
 293 0126 5C49     		ldr	r1, .L28+32
 294 0128 FFF7FEFF 		bl	fprintf
 295              	.LVL32:
  97:HW/SDCard/SDCard.c **** 
 296              		.loc 1 97 5 is_stmt 1 discriminator 1 view .LVU64
 297              	.L7:
 298              		.loc 1 137 5 view .LVU65
 299              		.loc 1 137 7 is_stmt 0 view .LVU66
 300 012c 14B1     		cbz	r4, .L4
 301              		.loc 1 137 12 is_stmt 1 discriminator 1 view .LVU67
 302 012e 2046     		mov	r0, r4
 303 0130 FFF7FEFF 		bl	free
 304              	.LVL33:
 305              	.L4:
 138:HW/SDCard/SDCard.c ****     if(fs) free(fs);
 306              		.loc 1 138 5 view .LVU68
 307              		.loc 1 138 8 is_stmt 0 view .LVU69
 308 0134 0F98     		ldr	r0, [sp, #60]
 309              		.loc 1 138 7 view .LVU70
 310 0136 08B1     		cbz	r0, .L1
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 10


 311              		.loc 1 138 12 is_stmt 1 discriminator 1 view .LVU71
 312 0138 FFF7FEFF 		bl	free
 313              	.LVL34:
 314              	.L1:
 139:HW/SDCard/SDCard.c **** }
 315              		.loc 1 139 1 is_stmt 0 view .LVU72
 316 013c 10B0     		add	sp, sp, #64
 317              	.LCFI2:
 318              		.cfi_remember_state
 319              		.cfi_def_cfa_offset 8
 320              		@ sp needed
 321 013e 10BD     		pop	{r4, pc}
 322              	.LVL35:
 323              	.L21:
 324              	.LCFI3:
 325              		.cfi_restore_state
 102:HW/SDCard/SDCard.c ****     if(bw != 20){   // bwËøîÂõûÂÆûÈôÖÂÜôÂÖ•ÈïøÂ∫¶ÔºåÂ∫îËØ•Á≠â‰∫éÁêÜËÆ∫ÂÜôÂÖ•ÈïøÂ∫¶
 326              		.loc 1 102 5 is_stmt 1 discriminator 1 view .LVU73
 327 0140 504A     		ldr	r2, .L28+12
 328 0142 1268     		ldr	r2, [r2]
 329 0144 D068     		ldr	r0, [r2, #12]
 330              	.LVL36:
 102:HW/SDCard/SDCard.c ****     if(bw != 20){   // bwËøîÂõûÂÆûÈôÖÂÜôÂÖ•ÈïøÂ∫¶ÔºåÂ∫îËØ•Á≠â‰∫éÁêÜËÆ∫ÂÜôÂÖ•ÈïøÂ∫¶
 331              		.loc 1 102 5 is_stmt 0 discriminator 1 view .LVU74
 332 0146 03EBC303 		add	r3, r3, r3, lsl #3
 333 014a 524A     		ldr	r2, .L28+28
 334 014c 02EBC303 		add	r3, r2, r3, lsl #3
 335 0150 0093     		str	r3, [sp]
 336 0152 4D4B     		ldr	r3, .L28+16
 337 0154 6622     		movs	r2, #102
 338 0156 5049     		ldr	r1, .L28+32
 339 0158 FFF7FEFF 		bl	fprintf
 340              	.LVL37:
 102:HW/SDCard/SDCard.c ****     if(bw != 20){   // bwËøîÂõûÂÆûÈôÖÂÜôÂÖ•ÈïøÂ∫¶ÔºåÂ∫îËØ•Á≠â‰∫éÁêÜËÆ∫ÂÜôÂÖ•ÈïøÂ∫¶
 341              		.loc 1 102 5 is_stmt 1 discriminator 1 view .LVU75
 342 015c E6E7     		b	.L7
 343              	.LVL38:
 344              	.L9:
 109:HW/SDCard/SDCard.c **** 
 345              		.loc 1 109 5 view .LVU76
 346 015e 2046     		mov	r0, r4
 347              	.LVL39:
 109:HW/SDCard/SDCard.c **** 
 348              		.loc 1 109 5 is_stmt 0 view .LVU77
 349 0160 FFF7FEFF 		bl	f_close
 350              	.LVL40:
 109:HW/SDCard/SDCard.c **** 
 351              		.loc 1 109 5 is_stmt 1 view .LVU78
 352 0164 0346     		mov	r3, r0
 353 0166 E8B9     		cbnz	r0, .L23
 109:HW/SDCard/SDCard.c **** 
 354              		.loc 1 109 29 discriminator 2 view .LVU79
 111:HW/SDCard/SDCard.c **** 
 355              		.loc 1 111 5 discriminator 2 view .LVU80
 356 0168 4C48     		ldr	r0, .L28+36
 357              	.LVL41:
 111:HW/SDCard/SDCard.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 11


 358              		.loc 1 111 5 is_stmt 0 discriminator 2 view .LVU81
 359 016a FFF7FEFF 		bl	puts
 360              	.LVL42:
 114:HW/SDCard/SDCard.c ****     char dst[20];
 361              		.loc 1 114 5 is_stmt 1 discriminator 2 view .LVU82
 362 016e 0122     		movs	r2, #1
 363 0170 4249     		ldr	r1, .L28+4
 364 0172 2046     		mov	r0, r4
 365 0174 FFF7FEFF 		bl	f_open
 366              	.LVL43:
 114:HW/SDCard/SDCard.c ****     char dst[20];
 367              		.loc 1 114 5 discriminator 2 view .LVU83
 368 0178 0346     		mov	r3, r0
 369 017a 10BB     		cbnz	r0, .L24
 114:HW/SDCard/SDCard.c ****     char dst[20];
 370              		.loc 1 114 70 discriminator 2 view .LVU84
 115:HW/SDCard/SDCard.c ****     UINT br;
 371              		.loc 1 115 5 discriminator 2 view .LVU85
 116:HW/SDCard/SDCard.c ****     FATFS_CHECK(f_read(fp, dst, 20, &br));
 372              		.loc 1 116 5 discriminator 2 view .LVU86
 117:HW/SDCard/SDCard.c ****     if(br != 20){   // brËøîÂõûÂÆûÈôÖËØªÂèñÈïøÂ∫¶ÔºåÂ∫îËØ•Á≠â‰∫éÁêÜËÆ∫ËØªÂèñÈïøÂ∫¶
 373              		.loc 1 117 5 discriminator 2 view .LVU87
 374 017c 03AB     		add	r3, sp, #12
 375 017e 1422     		movs	r2, #20
 376 0180 04A9     		add	r1, sp, #16
 377 0182 2046     		mov	r0, r4
 378              	.LVL44:
 117:HW/SDCard/SDCard.c ****     if(br != 20){   // brËøîÂõûÂÆûÈôÖËØªÂèñÈïøÂ∫¶ÔºåÂ∫îËØ•Á≠â‰∫éÁêÜËÆ∫ËØªÂèñÈïøÂ∫¶
 379              		.loc 1 117 5 is_stmt 0 discriminator 2 view .LVU88
 380 0184 FFF7FEFF 		bl	f_read
 381              	.LVL45:
 117:HW/SDCard/SDCard.c ****     if(br != 20){   // brËøîÂõûÂÆûÈôÖËØªÂèñÈïøÂ∫¶ÔºåÂ∫îËØ•Á≠â‰∫éÁêÜËÆ∫ËØªÂèñÈïøÂ∫¶
 382              		.loc 1 117 5 is_stmt 1 discriminator 2 view .LVU89
 383 0188 0346     		mov	r3, r0
 384 018a 48BB     		cbnz	r0, .L25
 117:HW/SDCard/SDCard.c ****     if(br != 20){   // brËøîÂõûÂÆûÈôÖËØªÂèñÈïøÂ∫¶ÔºåÂ∫îËØ•Á≠â‰∫éÁêÜËÆ∫ËØªÂèñÈïøÂ∫¶
 385              		.loc 1 117 42 discriminator 2 view .LVU90
 118:HW/SDCard/SDCard.c ****         fprintf(stderr, "Error line: %d, function: %s, info: read error\r\n", __LINE__, __FUNCTION_
 386              		.loc 1 118 5 discriminator 2 view .LVU91
 118:HW/SDCard/SDCard.c ****         fprintf(stderr, "Error line: %d, function: %s, info: read error\r\n", __LINE__, __FUNCTION_
 387              		.loc 1 118 11 is_stmt 0 discriminator 2 view .LVU92
 388 018c 039B     		ldr	r3, [sp, #12]
 118:HW/SDCard/SDCard.c ****         fprintf(stderr, "Error line: %d, function: %s, info: read error\r\n", __LINE__, __FUNCTION_
 389              		.loc 1 118 7 discriminator 2 view .LVU93
 390 018e 142B     		cmp	r3, #20
 391 0190 35D0     		beq	.L13
 119:HW/SDCard/SDCard.c ****         goto FATFS_ERR_FLAG;
 392              		.loc 1 119 9 is_stmt 1 view .LVU94
 119:HW/SDCard/SDCard.c ****         goto FATFS_ERR_FLAG;
 393              		.loc 1 119 17 is_stmt 0 view .LVU95
 394 0192 3C4B     		ldr	r3, .L28+12
 395 0194 1868     		ldr	r0, [r3]
 396              	.LVL46:
 119:HW/SDCard/SDCard.c ****         goto FATFS_ERR_FLAG;
 397              		.loc 1 119 9 view .LVU96
 398 0196 3C4B     		ldr	r3, .L28+16
 399 0198 7722     		movs	r2, #119
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 12


 400 019a 4149     		ldr	r1, .L28+40
 401 019c C068     		ldr	r0, [r0, #12]
 402 019e FFF7FEFF 		bl	fprintf
 403              	.LVL47:
 120:HW/SDCard/SDCard.c ****     }
 404              		.loc 1 120 9 is_stmt 1 view .LVU97
 405 01a2 C3E7     		b	.L7
 406              	.LVL48:
 407              	.L23:
 109:HW/SDCard/SDCard.c **** 
 408              		.loc 1 109 5 discriminator 1 view .LVU98
 409 01a4 374A     		ldr	r2, .L28+12
 410 01a6 1268     		ldr	r2, [r2]
 411 01a8 D068     		ldr	r0, [r2, #12]
 412              	.LVL49:
 109:HW/SDCard/SDCard.c **** 
 413              		.loc 1 109 5 is_stmt 0 discriminator 1 view .LVU99
 414 01aa 03EBC303 		add	r3, r3, r3, lsl #3
 415 01ae 394A     		ldr	r2, .L28+28
 416 01b0 02EBC303 		add	r3, r2, r3, lsl #3
 417 01b4 0093     		str	r3, [sp]
 418 01b6 344B     		ldr	r3, .L28+16
 419 01b8 6D22     		movs	r2, #109
 420 01ba 3749     		ldr	r1, .L28+32
 421 01bc FFF7FEFF 		bl	fprintf
 422              	.LVL50:
 109:HW/SDCard/SDCard.c **** 
 423              		.loc 1 109 5 is_stmt 1 discriminator 1 view .LVU100
 424 01c0 B4E7     		b	.L7
 425              	.LVL51:
 426              	.L24:
 114:HW/SDCard/SDCard.c ****     char dst[20];
 427              		.loc 1 114 5 discriminator 1 view .LVU101
 428 01c2 304A     		ldr	r2, .L28+12
 429 01c4 1268     		ldr	r2, [r2]
 430 01c6 D068     		ldr	r0, [r2, #12]
 431              	.LVL52:
 114:HW/SDCard/SDCard.c ****     char dst[20];
 432              		.loc 1 114 5 is_stmt 0 discriminator 1 view .LVU102
 433 01c8 03EBC303 		add	r3, r3, r3, lsl #3
 434 01cc 314A     		ldr	r2, .L28+28
 435 01ce 02EBC303 		add	r3, r2, r3, lsl #3
 436 01d2 0093     		str	r3, [sp]
 437 01d4 2C4B     		ldr	r3, .L28+16
 438 01d6 7222     		movs	r2, #114
 439 01d8 2F49     		ldr	r1, .L28+32
 440 01da FFF7FEFF 		bl	fprintf
 441              	.LVL53:
 114:HW/SDCard/SDCard.c ****     char dst[20];
 442              		.loc 1 114 5 is_stmt 1 discriminator 1 view .LVU103
 443 01de A5E7     		b	.L7
 444              	.LVL54:
 445              	.L25:
 117:HW/SDCard/SDCard.c ****     if(br != 20){   // brËøîÂõûÂÆûÈôÖËØªÂèñÈïøÂ∫¶ÔºåÂ∫îËØ•Á≠â‰∫éÁêÜËÆ∫ËØªÂèñÈïøÂ∫¶
 446              		.loc 1 117 5 discriminator 1 view .LVU104
 447 01e0 284A     		ldr	r2, .L28+12
 448 01e2 1268     		ldr	r2, [r2]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 13


 449 01e4 D068     		ldr	r0, [r2, #12]
 450              	.LVL55:
 117:HW/SDCard/SDCard.c ****     if(br != 20){   // brËøîÂõûÂÆûÈôÖËØªÂèñÈïøÂ∫¶ÔºåÂ∫îËØ•Á≠â‰∫éÁêÜËÆ∫ËØªÂèñÈïøÂ∫¶
 451              		.loc 1 117 5 is_stmt 0 discriminator 1 view .LVU105
 452 01e6 03EBC303 		add	r3, r3, r3, lsl #3
 453 01ea 2A4A     		ldr	r2, .L28+28
 454 01ec 02EBC303 		add	r3, r2, r3, lsl #3
 455 01f0 0093     		str	r3, [sp]
 456 01f2 254B     		ldr	r3, .L28+16
 457 01f4 7522     		movs	r2, #117
 458 01f6 2849     		ldr	r1, .L28+32
 459 01f8 FFF7FEFF 		bl	fprintf
 460              	.LVL56:
 117:HW/SDCard/SDCard.c ****     if(br != 20){   // brËøîÂõûÂÆûÈôÖËØªÂèñÈïøÂ∫¶ÔºåÂ∫îËØ•Á≠â‰∫éÁêÜËÆ∫ËØªÂèñÈïøÂ∫¶
 461              		.loc 1 117 5 is_stmt 1 discriminator 1 view .LVU106
 462 01fc 96E7     		b	.L7
 463              	.LVL57:
 464              	.L13:
 124:HW/SDCard/SDCard.c **** 
 465              		.loc 1 124 5 view .LVU107
 466 01fe 2046     		mov	r0, r4
 467              	.LVL58:
 124:HW/SDCard/SDCard.c **** 
 468              		.loc 1 124 5 is_stmt 0 view .LVU108
 469 0200 FFF7FEFF 		bl	f_close
 470              	.LVL59:
 124:HW/SDCard/SDCard.c **** 
 471              		.loc 1 124 5 is_stmt 1 view .LVU109
 472 0204 0346     		mov	r3, r0
 473 0206 C8B9     		cbnz	r0, .L26
 124:HW/SDCard/SDCard.c **** 
 474              		.loc 1 124 29 discriminator 2 view .LVU110
 126:HW/SDCard/SDCard.c **** 
 475              		.loc 1 126 5 discriminator 2 view .LVU111
 476 0208 04A9     		add	r1, sp, #16
 477 020a 2648     		ldr	r0, .L28+44
 478              	.LVL60:
 126:HW/SDCard/SDCard.c **** 
 479              		.loc 1 126 5 is_stmt 0 discriminator 2 view .LVU112
 480 020c FFF7FEFF 		bl	printf
 481              	.LVL61:
 129:HW/SDCard/SDCard.c ****     FATFS_CHECK(f_getfree("0:", &nclst, &fs));
 482              		.loc 1 129 5 is_stmt 1 discriminator 2 view .LVU113
 130:HW/SDCard/SDCard.c ****     DWORD tot_sect = (fs->n_fatent - 2) * fs->csize;
 483              		.loc 1 130 5 discriminator 2 view .LVU114
 484 0210 0FAA     		add	r2, sp, #60
 485 0212 02A9     		add	r1, sp, #8
 486 0214 1848     		ldr	r0, .L28
 487 0216 FFF7FEFF 		bl	f_getfree
 488              	.LVL62:
 130:HW/SDCard/SDCard.c ****     DWORD tot_sect = (fs->n_fatent - 2) * fs->csize;
 489              		.loc 1 130 5 discriminator 2 view .LVU115
 490 021a 0346     		mov	r3, r0
 491 021c E8B9     		cbnz	r0, .L27
 130:HW/SDCard/SDCard.c ****     DWORD tot_sect = (fs->n_fatent - 2) * fs->csize;
 492              		.loc 1 130 46 discriminator 2 view .LVU116
 131:HW/SDCard/SDCard.c ****     DWORD fre_sect = nclst * fs->csize;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 14


 493              		.loc 1 131 5 discriminator 2 view .LVU117
 131:HW/SDCard/SDCard.c ****     DWORD fre_sect = nclst * fs->csize;
 494              		.loc 1 131 25 is_stmt 0 discriminator 2 view .LVU118
 495 021e 0F9A     		ldr	r2, [sp, #60]
 496 0220 D369     		ldr	r3, [r2, #28]
 131:HW/SDCard/SDCard.c ****     DWORD fre_sect = nclst * fs->csize;
 497              		.loc 1 131 36 discriminator 2 view .LVU119
 498 0222 023B     		subs	r3, r3, #2
 131:HW/SDCard/SDCard.c ****     DWORD fre_sect = nclst * fs->csize;
 499              		.loc 1 131 45 discriminator 2 view .LVU120
 500 0224 5289     		ldrh	r2, [r2, #10]
 131:HW/SDCard/SDCard.c ****     DWORD fre_sect = nclst * fs->csize;
 501              		.loc 1 131 11 discriminator 2 view .LVU121
 502 0226 02FB03F1 		mul	r1, r2, r3
 503              	.LVL63:
 132:HW/SDCard/SDCard.c **** 
 504              		.loc 1 132 5 is_stmt 1 discriminator 2 view .LVU122
 132:HW/SDCard/SDCard.c **** 
 505              		.loc 1 132 28 is_stmt 0 discriminator 2 view .LVU123
 506 022a 029B     		ldr	r3, [sp, #8]
 132:HW/SDCard/SDCard.c **** 
 507              		.loc 1 132 11 discriminator 2 view .LVU124
 508 022c 03FB02F2 		mul	r2, r3, r2
 509              	.LVL64:
 135:HW/SDCard/SDCard.c **** FATFS_ERR_FLAG:
 510              		.loc 1 135 5 is_stmt 1 discriminator 2 view .LVU125
 511 0230 5208     		lsrs	r2, r2, #1
 512              	.LVL65:
 135:HW/SDCard/SDCard.c **** FATFS_ERR_FLAG:
 513              		.loc 1 135 5 is_stmt 0 discriminator 2 view .LVU126
 514 0232 4908     		lsrs	r1, r1, #1
 515              	.LVL66:
 135:HW/SDCard/SDCard.c **** FATFS_ERR_FLAG:
 516              		.loc 1 135 5 discriminator 2 view .LVU127
 517 0234 1C48     		ldr	r0, .L28+48
 518              	.LVL67:
 135:HW/SDCard/SDCard.c **** FATFS_ERR_FLAG:
 519              		.loc 1 135 5 discriminator 2 view .LVU128
 520 0236 FFF7FEFF 		bl	printf
 521              	.LVL68:
 135:HW/SDCard/SDCard.c **** FATFS_ERR_FLAG:
 522              		.loc 1 135 5 discriminator 2 view .LVU129
 523 023a 77E7     		b	.L7
 524              	.LVL69:
 525              	.L26:
 124:HW/SDCard/SDCard.c **** 
 526              		.loc 1 124 5 is_stmt 1 discriminator 1 view .LVU130
 527 023c 114A     		ldr	r2, .L28+12
 528 023e 1268     		ldr	r2, [r2]
 529 0240 D068     		ldr	r0, [r2, #12]
 530              	.LVL70:
 124:HW/SDCard/SDCard.c **** 
 531              		.loc 1 124 5 is_stmt 0 discriminator 1 view .LVU131
 532 0242 03EBC303 		add	r3, r3, r3, lsl #3
 533 0246 134A     		ldr	r2, .L28+28
 534 0248 02EBC303 		add	r3, r2, r3, lsl #3
 535 024c 0093     		str	r3, [sp]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 15


 536 024e 0E4B     		ldr	r3, .L28+16
 537 0250 7C22     		movs	r2, #124
 538 0252 1149     		ldr	r1, .L28+32
 539 0254 FFF7FEFF 		bl	fprintf
 540              	.LVL71:
 124:HW/SDCard/SDCard.c **** 
 541              		.loc 1 124 5 is_stmt 1 discriminator 1 view .LVU132
 542 0258 68E7     		b	.L7
 543              	.LVL72:
 544              	.L27:
 130:HW/SDCard/SDCard.c ****     DWORD tot_sect = (fs->n_fatent - 2) * fs->csize;
 545              		.loc 1 130 5 discriminator 1 view .LVU133
 546 025a 0A4A     		ldr	r2, .L28+12
 547 025c 1268     		ldr	r2, [r2]
 548 025e D068     		ldr	r0, [r2, #12]
 549              	.LVL73:
 130:HW/SDCard/SDCard.c ****     DWORD tot_sect = (fs->n_fatent - 2) * fs->csize;
 550              		.loc 1 130 5 is_stmt 0 discriminator 1 view .LVU134
 551 0260 03EBC303 		add	r3, r3, r3, lsl #3
 552 0264 0B4A     		ldr	r2, .L28+28
 553 0266 02EBC303 		add	r3, r2, r3, lsl #3
 554 026a 0093     		str	r3, [sp]
 555 026c 064B     		ldr	r3, .L28+16
 556 026e 8222     		movs	r2, #130
 557 0270 0949     		ldr	r1, .L28+32
 558 0272 FFF7FEFF 		bl	fprintf
 559              	.LVL74:
 130:HW/SDCard/SDCard.c ****     DWORD tot_sect = (fs->n_fatent - 2) * fs->csize;
 560              		.loc 1 130 5 is_stmt 1 discriminator 1 view .LVU135
 561 0276 59E7     		b	.L7
 562              	.L29:
 563              		.align	2
 564              	.L28:
 565 0278 00000000 		.word	.LC0
 566 027c 58000000 		.word	.LC3
 567 0280 00000000 		.word	.LANCHOR0
 568 0284 00000000 		.word	_impure_ptr
 569 0288 00000000 		.word	__FUNCTION__.0
 570 028c 64000000 		.word	.LC5
 571 0290 04000000 		.word	.LC1
 572 0294 00000000 		.word	errInfo
 573 0298 2C000000 		.word	.LC2
 574 029c 98000000 		.word	.LC6
 575 02a0 AC000000 		.word	.LC7
 576 02a4 E0000000 		.word	.LC8
 577 02a8 FC000000 		.word	.LC9
 578              		.cfi_endproc
 579              	.LFE33:
 581              		.section	.text.Buffercmp,"ax",%progbits
 582              		.align	1
 583              		.global	Buffercmp
 584              		.syntax unified
 585              		.thumb
 586              		.thumb_func
 588              	Buffercmp:
 589              	.LVL75:
 590              	.LFB37:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 16


 140:HW/SDCard/SDCard.c **** 
 141:HW/SDCard/SDCard.c **** /* Private typedef -----------------------------------------------------------*/
 142:HW/SDCard/SDCard.c **** typedef enum {FAILED = 0, PASSED = !FAILED} TestStatus;
 143:HW/SDCard/SDCard.c **** 
 144:HW/SDCard/SDCard.c **** /* Private define ------------------------------------------------------------*/
 145:HW/SDCard/SDCard.c **** #define BLOCK_SIZE            512 /* Block Size in Bytes */
 146:HW/SDCard/SDCard.c **** 
 147:HW/SDCard/SDCard.c **** #define NUMBER_OF_BLOCKS      32  /* For Multi Blocks operation (Read/Write) */
 148:HW/SDCard/SDCard.c **** #define MULTI_BUFFER_SIZE    (BLOCK_SIZE * NUMBER_OF_BLOCKS)
 149:HW/SDCard/SDCard.c **** 
 150:HW/SDCard/SDCard.c **** #define SD_OPERATION_ERASE          0
 151:HW/SDCard/SDCard.c **** #define SD_OPERATION_BLOCK          1
 152:HW/SDCard/SDCard.c **** #define SD_OPERATION_MULTI_BLOCK    2 
 153:HW/SDCard/SDCard.c **** #define SD_OPERATION_END            3
 154:HW/SDCard/SDCard.c **** 
 155:HW/SDCard/SDCard.c **** /* Private macro -------------------------------------------------------------*/
 156:HW/SDCard/SDCard.c **** /* Private variables ---------------------------------------------------------*/
 157:HW/SDCard/SDCard.c **** uint8_t Buffer_Block_Tx[BLOCK_SIZE], Buffer_Block_Rx[BLOCK_SIZE];
 158:HW/SDCard/SDCard.c **** uint8_t Buffer_MultiBlock_Tx[MULTI_BUFFER_SIZE], Buffer_MultiBlock_Rx[MULTI_BUFFER_SIZE];
 159:HW/SDCard/SDCard.c **** volatile TestStatus EraseStatus = FAILED, TransferStatus1 = FAILED, TransferStatus2 = FAILED;
 160:HW/SDCard/SDCard.c **** SD_Error Status = SD_OK;
 161:HW/SDCard/SDCard.c **** __IO uint32_t SDCardOperation = SD_OPERATION_ERASE;
 162:HW/SDCard/SDCard.c **** 
 163:HW/SDCard/SDCard.c **** TestStatus Buffercmp(uint8_t* pBuffer1, uint8_t* pBuffer2, uint32_t BufferLength);
 164:HW/SDCard/SDCard.c **** TestStatus eBuffercmp(uint8_t* pBuffer, uint32_t BufferLength);
 165:HW/SDCard/SDCard.c **** 
 166:HW/SDCard/SDCard.c **** /**
 167:HW/SDCard/SDCard.c ****   * @brief  Tests the SD card erase operation.
 168:HW/SDCard/SDCard.c ****   * @param  None
 169:HW/SDCard/SDCard.c ****   * @retval None
 170:HW/SDCard/SDCard.c ****   */
 171:HW/SDCard/SDCard.c **** void SD_EraseTest(void)
 172:HW/SDCard/SDCard.c **** {
 173:HW/SDCard/SDCard.c ****   /*------------------- Block Erase ------------------------------------------*/
 174:HW/SDCard/SDCard.c ****   if (Status == SD_OK)
 175:HW/SDCard/SDCard.c ****   {
 176:HW/SDCard/SDCard.c ****     /* Erase NumberOfBlocks Blocks of WRITE_BL_LEN(512 Bytes) */
 177:HW/SDCard/SDCard.c ****     Status = SD_Erase(0x00, (BLOCK_SIZE * NUMBER_OF_BLOCKS));
 178:HW/SDCard/SDCard.c ****   }
 179:HW/SDCard/SDCard.c **** 
 180:HW/SDCard/SDCard.c ****   if (Status == SD_OK)
 181:HW/SDCard/SDCard.c ****   {
 182:HW/SDCard/SDCard.c ****     Status = SD_ReadMultiBlocks(Buffer_MultiBlock_Rx, 0x00, BLOCK_SIZE, NUMBER_OF_BLOCKS);
 183:HW/SDCard/SDCard.c **** 
 184:HW/SDCard/SDCard.c ****     /* Check if the Transfer is finished */
 185:HW/SDCard/SDCard.c ****     Status = SD_WaitReadOperation();
 186:HW/SDCard/SDCard.c **** 
 187:HW/SDCard/SDCard.c ****     /* Wait until end of DMA transfer */
 188:HW/SDCard/SDCard.c ****     while(SD_GetStatus() != SD_TRANSFER_OK);
 189:HW/SDCard/SDCard.c ****   }
 190:HW/SDCard/SDCard.c **** 
 191:HW/SDCard/SDCard.c ****   /* Check the correctness of erased blocks */
 192:HW/SDCard/SDCard.c ****   if (Status == SD_OK)
 193:HW/SDCard/SDCard.c ****   {
 194:HW/SDCard/SDCard.c ****     EraseStatus = eBuffercmp(Buffer_MultiBlock_Rx, MULTI_BUFFER_SIZE);
 195:HW/SDCard/SDCard.c ****   }
 196:HW/SDCard/SDCard.c ****   
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 17


 197:HW/SDCard/SDCard.c ****   if(EraseStatus == PASSED)
 198:HW/SDCard/SDCard.c ****   {
 199:HW/SDCard/SDCard.c ****     printf("Êì¶Èô§ÊµãËØïÊàêÂäü\r\n");
 200:HW/SDCard/SDCard.c ****   }
 201:HW/SDCard/SDCard.c ****   else
 202:HW/SDCard/SDCard.c ****   {
 203:HW/SDCard/SDCard.c ****     printf("Êì¶Èô§ÊµãËØïÂ§±Ë¥•\r\n");
 204:HW/SDCard/SDCard.c ****   }
 205:HW/SDCard/SDCard.c **** }
 206:HW/SDCard/SDCard.c **** 
 207:HW/SDCard/SDCard.c **** /**
 208:HW/SDCard/SDCard.c ****   * @brief  Tests the SD card Single Blocks operations.
 209:HW/SDCard/SDCard.c ****   * @param  None
 210:HW/SDCard/SDCard.c ****   * @retval None
 211:HW/SDCard/SDCard.c ****   */
 212:HW/SDCard/SDCard.c **** void SD_SingleBlockTest(void)
 213:HW/SDCard/SDCard.c **** {
 214:HW/SDCard/SDCard.c ****   /*------------------- Block Read/Write --------------------------*/
 215:HW/SDCard/SDCard.c ****   /* Fill the buffer to send */
 216:HW/SDCard/SDCard.c ****   Fill_Buffer(Buffer_Block_Tx, BLOCK_SIZE, 0x320F);
 217:HW/SDCard/SDCard.c **** 
 218:HW/SDCard/SDCard.c ****   if (Status == SD_OK)
 219:HW/SDCard/SDCard.c ****   {
 220:HW/SDCard/SDCard.c ****     /* Write block of 512 bytes on address 0 */
 221:HW/SDCard/SDCard.c ****     Status = SD_WriteBlock(Buffer_Block_Tx, 0x00, BLOCK_SIZE);
 222:HW/SDCard/SDCard.c ****     /* Check if the Transfer is finished */
 223:HW/SDCard/SDCard.c ****     Status = SD_WaitWriteOperation();
 224:HW/SDCard/SDCard.c ****     while(SD_GetStatus() != SD_TRANSFER_OK);
 225:HW/SDCard/SDCard.c ****   }
 226:HW/SDCard/SDCard.c **** 
 227:HW/SDCard/SDCard.c ****   if (Status == SD_OK)
 228:HW/SDCard/SDCard.c ****   {
 229:HW/SDCard/SDCard.c ****     /* Read block of 512 bytes from address 0 */
 230:HW/SDCard/SDCard.c ****     Status = SD_ReadBlock(Buffer_Block_Rx, 0x00, BLOCK_SIZE);
 231:HW/SDCard/SDCard.c ****     /* Check if the Transfer is finished */
 232:HW/SDCard/SDCard.c ****     Status = SD_WaitReadOperation();
 233:HW/SDCard/SDCard.c ****     while(SD_GetStatus() != SD_TRANSFER_OK);
 234:HW/SDCard/SDCard.c ****   }
 235:HW/SDCard/SDCard.c **** 
 236:HW/SDCard/SDCard.c ****   /* Check the correctness of written data */
 237:HW/SDCard/SDCard.c ****   if (Status == SD_OK)
 238:HW/SDCard/SDCard.c ****   {
 239:HW/SDCard/SDCard.c ****     TransferStatus1 = Buffercmp(Buffer_Block_Tx, Buffer_Block_Rx, BLOCK_SIZE);
 240:HW/SDCard/SDCard.c ****   }
 241:HW/SDCard/SDCard.c ****   
 242:HW/SDCard/SDCard.c ****   if(TransferStatus1 == PASSED)
 243:HW/SDCard/SDCard.c ****   {
 244:HW/SDCard/SDCard.c ****     printf("ÂçïblockÂÜôÂÖ•ÊµãËØïÊàêÂäü\r\n");
 245:HW/SDCard/SDCard.c ****   }
 246:HW/SDCard/SDCard.c ****   else
 247:HW/SDCard/SDCard.c ****   {
 248:HW/SDCard/SDCard.c ****     printf("ÂçïblockÂÜôÂÖ•ÊµãËØïÂ§±Ë¥•\r\n");
 249:HW/SDCard/SDCard.c ****   }
 250:HW/SDCard/SDCard.c **** }
 251:HW/SDCard/SDCard.c **** 
 252:HW/SDCard/SDCard.c **** /**
 253:HW/SDCard/SDCard.c ****   * @brief  Tests the SD card Multiple Blocks operations.
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 18


 254:HW/SDCard/SDCard.c ****   * @param  None
 255:HW/SDCard/SDCard.c ****   * @retval None
 256:HW/SDCard/SDCard.c ****   */
 257:HW/SDCard/SDCard.c **** void SD_MultiBlockTest(void)
 258:HW/SDCard/SDCard.c **** {
 259:HW/SDCard/SDCard.c ****   /*--------------- Multiple Block Read/Write ---------------------*/
 260:HW/SDCard/SDCard.c ****   /* Fill the buffer to send */
 261:HW/SDCard/SDCard.c ****   Fill_Buffer(Buffer_MultiBlock_Tx, MULTI_BUFFER_SIZE, 0x0);
 262:HW/SDCard/SDCard.c **** 
 263:HW/SDCard/SDCard.c ****   if (Status == SD_OK)
 264:HW/SDCard/SDCard.c ****   {
 265:HW/SDCard/SDCard.c ****     /* Write multiple block of many bytes on address 0 */
 266:HW/SDCard/SDCard.c ****     Status = SD_WriteMultiBlocks(Buffer_MultiBlock_Tx, 0x00, BLOCK_SIZE, NUMBER_OF_BLOCKS);
 267:HW/SDCard/SDCard.c ****     /* Check if the Transfer is finished */
 268:HW/SDCard/SDCard.c ****     Status = SD_WaitWriteOperation();
 269:HW/SDCard/SDCard.c ****     while(SD_GetStatus() != SD_TRANSFER_OK);
 270:HW/SDCard/SDCard.c ****   }
 271:HW/SDCard/SDCard.c **** 
 272:HW/SDCard/SDCard.c ****   if (Status == SD_OK)
 273:HW/SDCard/SDCard.c ****   {
 274:HW/SDCard/SDCard.c ****     /* Read block of many bytes from address 0 */
 275:HW/SDCard/SDCard.c ****     Status = SD_ReadMultiBlocks(Buffer_MultiBlock_Rx, 0x00, BLOCK_SIZE, NUMBER_OF_BLOCKS);
 276:HW/SDCard/SDCard.c ****     /* Check if the Transfer is finished */
 277:HW/SDCard/SDCard.c ****     Status = SD_WaitReadOperation();
 278:HW/SDCard/SDCard.c ****     while(SD_GetStatus() != SD_TRANSFER_OK);
 279:HW/SDCard/SDCard.c ****   }
 280:HW/SDCard/SDCard.c **** 
 281:HW/SDCard/SDCard.c ****   /* Check the correctness of written data */
 282:HW/SDCard/SDCard.c ****   if (Status == SD_OK)
 283:HW/SDCard/SDCard.c ****   {
 284:HW/SDCard/SDCard.c ****     TransferStatus2 = Buffercmp(Buffer_MultiBlock_Tx, Buffer_MultiBlock_Rx, MULTI_BUFFER_SIZE);
 285:HW/SDCard/SDCard.c ****   }
 286:HW/SDCard/SDCard.c ****   
 287:HW/SDCard/SDCard.c ****   if(TransferStatus2 == PASSED)
 288:HW/SDCard/SDCard.c ****   {
 289:HW/SDCard/SDCard.c ****     printf("Â§öblockÂÜôÂÖ•ÊµãËØïÊàêÂäü\r\n");
 290:HW/SDCard/SDCard.c ****   }
 291:HW/SDCard/SDCard.c ****   else
 292:HW/SDCard/SDCard.c ****   {
 293:HW/SDCard/SDCard.c ****     printf("Â§öblockÂÜôÂÖ•ÊµãËØïÂ§±Ë¥•\r\n");
 294:HW/SDCard/SDCard.c ****   }
 295:HW/SDCard/SDCard.c **** }
 296:HW/SDCard/SDCard.c **** 
 297:HW/SDCard/SDCard.c **** /**
 298:HW/SDCard/SDCard.c ****   * @brief  Compares two buffers.
 299:HW/SDCard/SDCard.c ****   * @param  pBuffer1, pBuffer2: buffers to be compared.
 300:HW/SDCard/SDCard.c ****   * @param  BufferLength: buffer's length
 301:HW/SDCard/SDCard.c ****   * @retval PASSED: pBuffer1 identical to pBuffer2
 302:HW/SDCard/SDCard.c ****   *         FAILED: pBuffer1 differs from pBuffer2
 303:HW/SDCard/SDCard.c ****   */
 304:HW/SDCard/SDCard.c **** TestStatus Buffercmp(uint8_t* pBuffer1, uint8_t* pBuffer2, uint32_t BufferLength)
 305:HW/SDCard/SDCard.c **** {
 591              		.loc 1 305 1 view -0
 592              		.cfi_startproc
 593              		@ args = 0, pretend = 0, frame = 0
 594              		@ frame_needed = 0, uses_anonymous_args = 0
 595              		@ link register save eliminated.
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 19


 306:HW/SDCard/SDCard.c ****   while (BufferLength--)
 596              		.loc 1 306 3 view .LVU137
 597              		.loc 1 306 9 is_stmt 0 view .LVU138
 598 0000 02E0     		b	.L31
 599              	.LVL76:
 600              	.L36:
 307:HW/SDCard/SDCard.c ****   {
 308:HW/SDCard/SDCard.c ****     if (*pBuffer1 != *pBuffer2)
 309:HW/SDCard/SDCard.c ****     {
 310:HW/SDCard/SDCard.c ****       return FAILED;
 311:HW/SDCard/SDCard.c ****     }
 312:HW/SDCard/SDCard.c **** 
 313:HW/SDCard/SDCard.c ****     pBuffer1++;
 601              		.loc 1 313 5 is_stmt 1 view .LVU139
 602              		.loc 1 313 13 is_stmt 0 view .LVU140
 603 0002 0130     		adds	r0, r0, #1
 604              	.LVL77:
 314:HW/SDCard/SDCard.c ****     pBuffer2++;
 605              		.loc 1 314 5 is_stmt 1 view .LVU141
 606              		.loc 1 314 13 is_stmt 0 view .LVU142
 607 0004 0131     		adds	r1, r1, #1
 608              	.LVL78:
 306:HW/SDCard/SDCard.c ****   while (BufferLength--)
 609              		.loc 1 306 22 view .LVU143
 610 0006 1A46     		mov	r2, r3
 611              	.LVL79:
 612              	.L31:
 306:HW/SDCard/SDCard.c ****   while (BufferLength--)
 613              		.loc 1 306 10 is_stmt 1 view .LVU144
 306:HW/SDCard/SDCard.c ****   while (BufferLength--)
 614              		.loc 1 306 22 is_stmt 0 view .LVU145
 615 0008 531E     		subs	r3, r2, #1
 616              	.LVL80:
 306:HW/SDCard/SDCard.c ****   while (BufferLength--)
 617              		.loc 1 306 10 view .LVU146
 618 000a 32B1     		cbz	r2, .L35
 308:HW/SDCard/SDCard.c ****     {
 619              		.loc 1 308 5 is_stmt 1 view .LVU147
 308:HW/SDCard/SDCard.c ****     {
 620              		.loc 1 308 9 is_stmt 0 view .LVU148
 621 000c 90F800C0 		ldrb	ip, [r0]	@ zero_extendqisi2
 308:HW/SDCard/SDCard.c ****     {
 622              		.loc 1 308 22 view .LVU149
 623 0010 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 308:HW/SDCard/SDCard.c ****     {
 624              		.loc 1 308 8 view .LVU150
 625 0012 9445     		cmp	ip, r2
 626 0014 F5D0     		beq	.L36
 310:HW/SDCard/SDCard.c ****     }
 627              		.loc 1 310 14 view .LVU151
 628 0016 0020     		movs	r0, #0
 629              	.LVL81:
 315:HW/SDCard/SDCard.c ****   }
 316:HW/SDCard/SDCard.c **** 
 317:HW/SDCard/SDCard.c ****   return PASSED;
 318:HW/SDCard/SDCard.c **** }
 630              		.loc 1 318 1 view .LVU152
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 20


 631 0018 7047     		bx	lr
 632              	.LVL82:
 633              	.L35:
 317:HW/SDCard/SDCard.c **** }
 634              		.loc 1 317 10 view .LVU153
 635 001a 0120     		movs	r0, #1
 636              	.LVL83:
 317:HW/SDCard/SDCard.c **** }
 637              		.loc 1 317 10 view .LVU154
 638 001c 7047     		bx	lr
 639              		.cfi_endproc
 640              	.LFE37:
 642              		.section	.text.Fill_Buffer,"ax",%progbits
 643              		.align	1
 644              		.global	Fill_Buffer
 645              		.syntax unified
 646              		.thumb
 647              		.thumb_func
 649              	Fill_Buffer:
 650              	.LVL84:
 651              	.LFB38:
 319:HW/SDCard/SDCard.c **** 
 320:HW/SDCard/SDCard.c **** /**
 321:HW/SDCard/SDCard.c ****   * @brief  Fills buffer with user predefined data.
 322:HW/SDCard/SDCard.c ****   * @param  pBuffer: pointer on the Buffer to fill
 323:HW/SDCard/SDCard.c ****   * @param  BufferLength: size of the buffer to fill
 324:HW/SDCard/SDCard.c ****   * @param  Offset: first value to fill on the Buffer
 325:HW/SDCard/SDCard.c ****   * @retval None
 326:HW/SDCard/SDCard.c ****   */
 327:HW/SDCard/SDCard.c **** void Fill_Buffer(uint8_t *pBuffer, uint32_t BufferLength, uint32_t Offset)
 328:HW/SDCard/SDCard.c **** {
 652              		.loc 1 328 1 is_stmt 1 view -0
 653              		.cfi_startproc
 654              		@ args = 0, pretend = 0, frame = 0
 655              		@ frame_needed = 0, uses_anonymous_args = 0
 656              		@ link register save eliminated.
 329:HW/SDCard/SDCard.c ****   uint16_t index = 0;
 657              		.loc 1 329 3 view .LVU156
 330:HW/SDCard/SDCard.c **** 
 331:HW/SDCard/SDCard.c ****   /* Put in global buffer same values */
 332:HW/SDCard/SDCard.c ****   for (index = 0; index < BufferLength; index++)
 658              		.loc 1 332 3 view .LVU157
 659              		.loc 1 332 14 is_stmt 0 view .LVU158
 660 0000 0023     		movs	r3, #0
 661              		.loc 1 332 3 view .LVU159
 662 0002 05E0     		b	.L38
 663              	.LVL85:
 664              	.L39:
 333:HW/SDCard/SDCard.c ****   {
 334:HW/SDCard/SDCard.c ****     pBuffer[index] = index + Offset;
 665              		.loc 1 334 5 is_stmt 1 discriminator 3 view .LVU160
 666              		.loc 1 334 28 is_stmt 0 discriminator 3 view .LVU161
 667 0004 03EB020C 		add	ip, r3, r2
 668              		.loc 1 334 20 discriminator 3 view .LVU162
 669 0008 00F803C0 		strb	ip, [r0, r3]
 332:HW/SDCard/SDCard.c ****   {
 670              		.loc 1 332 46 is_stmt 1 discriminator 3 view .LVU163
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 21


 671 000c 0133     		adds	r3, r3, #1
 672              	.LVL86:
 332:HW/SDCard/SDCard.c ****   {
 673              		.loc 1 332 46 is_stmt 0 discriminator 3 view .LVU164
 674 000e 9BB2     		uxth	r3, r3
 675              	.LVL87:
 676              	.L38:
 332:HW/SDCard/SDCard.c ****   {
 677              		.loc 1 332 25 is_stmt 1 discriminator 1 view .LVU165
 678 0010 8B42     		cmp	r3, r1
 679 0012 F7D3     		bcc	.L39
 335:HW/SDCard/SDCard.c ****   }
 336:HW/SDCard/SDCard.c **** }
 680              		.loc 1 336 1 is_stmt 0 view .LVU166
 681 0014 7047     		bx	lr
 682              		.cfi_endproc
 683              	.LFE38:
 685              		.section	.rodata.SD_SingleBlockTest.str1.4,"aMS",%progbits,1
 686              		.align	2
 687              	.LC10:
 688 0000 E58D9562 		.ascii	"\345\215\225block\345\206\231\345\205\245\346\265\213"
 688      6C6F636B 
 688      E58699E5 
 688      85A5E6B5 
 688      8B
 689 0011 E8AF95E6 		.ascii	"\350\257\225\346\210\220\345\212\237\015\000"
 689      8890E58A 
 689      9F0D00
 690              		.align	2
 691              	.LC11:
 692 001c E58D9562 		.ascii	"\345\215\225block\345\206\231\345\205\245\346\265\213"
 692      6C6F636B 
 692      E58699E5 
 692      85A5E6B5 
 692      8B
 693 002d E8AF95E5 		.ascii	"\350\257\225\345\244\261\350\264\245\015\000"
 693      A4B1E8B4 
 693      A50D00
 694              		.section	.text.SD_SingleBlockTest,"ax",%progbits
 695              		.align	1
 696              		.global	SD_SingleBlockTest
 697              		.syntax unified
 698              		.thumb
 699              		.thumb_func
 701              	SD_SingleBlockTest:
 702              	.LFB35:
 213:HW/SDCard/SDCard.c ****   /*------------------- Block Read/Write --------------------------*/
 703              		.loc 1 213 1 is_stmt 1 view -0
 704              		.cfi_startproc
 705              		@ args = 0, pretend = 0, frame = 0
 706              		@ frame_needed = 0, uses_anonymous_args = 0
 707 0000 10B5     		push	{r4, lr}
 708              	.LCFI4:
 709              		.cfi_def_cfa_offset 8
 710              		.cfi_offset 4, -8
 711              		.cfi_offset 14, -4
 216:HW/SDCard/SDCard.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 22


 712              		.loc 1 216 3 view .LVU168
 713 0002 43F20F22 		movw	r2, #12815
 714 0006 4FF40071 		mov	r1, #512
 715 000a 2048     		ldr	r0, .L52
 716 000c FFF7FEFF 		bl	Fill_Buffer
 717              	.LVL88:
 218:HW/SDCard/SDCard.c ****   {
 718              		.loc 1 218 3 view .LVU169
 218:HW/SDCard/SDCard.c ****   {
 719              		.loc 1 218 14 is_stmt 0 view .LVU170
 720 0010 1F4B     		ldr	r3, .L52+4
 721 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 218:HW/SDCard/SDCard.c ****   {
 722              		.loc 1 218 6 view .LVU171
 723 0014 B3B1     		cbz	r3, .L49
 724              	.L41:
 227:HW/SDCard/SDCard.c ****   {
 725              		.loc 1 227 3 is_stmt 1 view .LVU172
 227:HW/SDCard/SDCard.c ****   {
 726              		.loc 1 227 14 is_stmt 0 view .LVU173
 727 0016 1E4B     		ldr	r3, .L52+4
 728 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 227:HW/SDCard/SDCard.c ****   {
 729              		.loc 1 227 6 view .LVU174
 730 001a 1BB3     		cbz	r3, .L50
 731              	.L43:
 237:HW/SDCard/SDCard.c ****   {
 732              		.loc 1 237 3 is_stmt 1 view .LVU175
 237:HW/SDCard/SDCard.c ****   {
 733              		.loc 1 237 14 is_stmt 0 view .LVU176
 734 001c 1C4B     		ldr	r3, .L52+4
 735 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 237:HW/SDCard/SDCard.c ****   {
 736              		.loc 1 237 6 view .LVU177
 737 0020 3BB9     		cbnz	r3, .L45
 239:HW/SDCard/SDCard.c ****   }
 738              		.loc 1 239 5 is_stmt 1 view .LVU178
 239:HW/SDCard/SDCard.c ****   }
 739              		.loc 1 239 23 is_stmt 0 view .LVU179
 740 0022 4FF40072 		mov	r2, #512
 741 0026 1B49     		ldr	r1, .L52+8
 742 0028 1848     		ldr	r0, .L52
 743 002a FFF7FEFF 		bl	Buffercmp
 744              	.LVL89:
 239:HW/SDCard/SDCard.c ****   }
 745              		.loc 1 239 21 view .LVU180
 746 002e 1A4B     		ldr	r3, .L52+12
 747 0030 1870     		strb	r0, [r3]
 748              	.L45:
 242:HW/SDCard/SDCard.c ****   {
 749              		.loc 1 242 3 is_stmt 1 view .LVU181
 242:HW/SDCard/SDCard.c ****   {
 750              		.loc 1 242 22 is_stmt 0 view .LVU182
 751 0032 194B     		ldr	r3, .L52+12
 752 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 753 0036 DBB2     		uxtb	r3, r3
 242:HW/SDCard/SDCard.c ****   {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 23


 754              		.loc 1 242 5 view .LVU183
 755 0038 012B     		cmp	r3, #1
 756 003a 23D0     		beq	.L51
 248:HW/SDCard/SDCard.c ****   }
 757              		.loc 1 248 5 is_stmt 1 view .LVU184
 758 003c 1748     		ldr	r0, .L52+16
 759 003e FFF7FEFF 		bl	puts
 760              	.LVL90:
 761              	.L40:
 250:HW/SDCard/SDCard.c **** 
 762              		.loc 1 250 1 is_stmt 0 view .LVU185
 763 0042 10BD     		pop	{r4, pc}
 764              	.L49:
 221:HW/SDCard/SDCard.c ****     /* Check if the Transfer is finished */
 765              		.loc 1 221 5 is_stmt 1 view .LVU186
 221:HW/SDCard/SDCard.c ****     /* Check if the Transfer is finished */
 766              		.loc 1 221 14 is_stmt 0 view .LVU187
 767 0044 4FF40072 		mov	r2, #512
 768 0048 0021     		movs	r1, #0
 769 004a 1048     		ldr	r0, .L52
 770 004c FFF7FEFF 		bl	SD_WriteBlock
 771              	.LVL91:
 221:HW/SDCard/SDCard.c ****     /* Check if the Transfer is finished */
 772              		.loc 1 221 12 view .LVU188
 773 0050 0F4C     		ldr	r4, .L52+4
 774 0052 2070     		strb	r0, [r4]
 223:HW/SDCard/SDCard.c ****     while(SD_GetStatus() != SD_TRANSFER_OK);
 775              		.loc 1 223 5 is_stmt 1 view .LVU189
 223:HW/SDCard/SDCard.c ****     while(SD_GetStatus() != SD_TRANSFER_OK);
 776              		.loc 1 223 14 is_stmt 0 view .LVU190
 777 0054 FFF7FEFF 		bl	SD_WaitWriteOperation
 778              	.LVL92:
 223:HW/SDCard/SDCard.c ****     while(SD_GetStatus() != SD_TRANSFER_OK);
 779              		.loc 1 223 12 view .LVU191
 780 0058 2070     		strb	r0, [r4]
 224:HW/SDCard/SDCard.c ****   }
 781              		.loc 1 224 5 is_stmt 1 view .LVU192
 782              	.L42:
 224:HW/SDCard/SDCard.c ****   }
 783              		.loc 1 224 26 discriminator 1 view .LVU193
 224:HW/SDCard/SDCard.c ****   }
 784              		.loc 1 224 11 is_stmt 0 discriminator 1 view .LVU194
 785 005a FFF7FEFF 		bl	SD_GetStatus
 786              	.LVL93:
 224:HW/SDCard/SDCard.c ****   }
 787              		.loc 1 224 26 discriminator 1 view .LVU195
 788 005e 0028     		cmp	r0, #0
 789 0060 FBD1     		bne	.L42
 790 0062 D8E7     		b	.L41
 791              	.L50:
 230:HW/SDCard/SDCard.c ****     /* Check if the Transfer is finished */
 792              		.loc 1 230 5 is_stmt 1 view .LVU196
 230:HW/SDCard/SDCard.c ****     /* Check if the Transfer is finished */
 793              		.loc 1 230 14 is_stmt 0 view .LVU197
 794 0064 4FF40072 		mov	r2, #512
 795 0068 0021     		movs	r1, #0
 796 006a 0A48     		ldr	r0, .L52+8
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 24


 797 006c FFF7FEFF 		bl	SD_ReadBlock
 798              	.LVL94:
 230:HW/SDCard/SDCard.c ****     /* Check if the Transfer is finished */
 799              		.loc 1 230 12 view .LVU198
 800 0070 074C     		ldr	r4, .L52+4
 801 0072 2070     		strb	r0, [r4]
 232:HW/SDCard/SDCard.c ****     while(SD_GetStatus() != SD_TRANSFER_OK);
 802              		.loc 1 232 5 is_stmt 1 view .LVU199
 232:HW/SDCard/SDCard.c ****     while(SD_GetStatus() != SD_TRANSFER_OK);
 803              		.loc 1 232 14 is_stmt 0 view .LVU200
 804 0074 FFF7FEFF 		bl	SD_WaitReadOperation
 805              	.LVL95:
 232:HW/SDCard/SDCard.c ****     while(SD_GetStatus() != SD_TRANSFER_OK);
 806              		.loc 1 232 12 view .LVU201
 807 0078 2070     		strb	r0, [r4]
 233:HW/SDCard/SDCard.c ****   }
 808              		.loc 1 233 5 is_stmt 1 view .LVU202
 809              	.L44:
 233:HW/SDCard/SDCard.c ****   }
 810              		.loc 1 233 26 discriminator 1 view .LVU203
 233:HW/SDCard/SDCard.c ****   }
 811              		.loc 1 233 11 is_stmt 0 discriminator 1 view .LVU204
 812 007a FFF7FEFF 		bl	SD_GetStatus
 813              	.LVL96:
 233:HW/SDCard/SDCard.c ****   }
 814              		.loc 1 233 26 discriminator 1 view .LVU205
 815 007e 0028     		cmp	r0, #0
 816 0080 FBD1     		bne	.L44
 817 0082 CBE7     		b	.L43
 818              	.L51:
 244:HW/SDCard/SDCard.c ****   }
 819              		.loc 1 244 5 is_stmt 1 view .LVU206
 820 0084 0648     		ldr	r0, .L52+20
 821 0086 FFF7FEFF 		bl	puts
 822              	.LVL97:
 823 008a DAE7     		b	.L40
 824              	.L53:
 825              		.align	2
 826              	.L52:
 827 008c 00000000 		.word	Buffer_Block_Tx
 828 0090 00000000 		.word	Status
 829 0094 00000000 		.word	Buffer_Block_Rx
 830 0098 00000000 		.word	TransferStatus1
 831 009c 1C000000 		.word	.LC11
 832 00a0 00000000 		.word	.LC10
 833              		.cfi_endproc
 834              	.LFE35:
 836              		.section	.rodata.SD_MultiBlockTest.str1.4,"aMS",%progbits,1
 837              		.align	2
 838              	.LC12:
 839 0000 E5A49A62 		.ascii	"\345\244\232block\345\206\231\345\205\245\346\265\213"
 839      6C6F636B 
 839      E58699E5 
 839      85A5E6B5 
 839      8B
 840 0011 E8AF95E6 		.ascii	"\350\257\225\346\210\220\345\212\237\015\000"
 840      8890E58A 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 25


 840      9F0D00
 841              		.align	2
 842              	.LC13:
 843 001c E5A49A62 		.ascii	"\345\244\232block\345\206\231\345\205\245\346\265\213"
 843      6C6F636B 
 843      E58699E5 
 843      85A5E6B5 
 843      8B
 844 002d E8AF95E5 		.ascii	"\350\257\225\345\244\261\350\264\245\015\000"
 844      A4B1E8B4 
 844      A50D00
 845              		.section	.text.SD_MultiBlockTest,"ax",%progbits
 846              		.align	1
 847              		.global	SD_MultiBlockTest
 848              		.syntax unified
 849              		.thumb
 850              		.thumb_func
 852              	SD_MultiBlockTest:
 853              	.LFB36:
 258:HW/SDCard/SDCard.c ****   /*--------------- Multiple Block Read/Write ---------------------*/
 854              		.loc 1 258 1 view -0
 855              		.cfi_startproc
 856              		@ args = 0, pretend = 0, frame = 0
 857              		@ frame_needed = 0, uses_anonymous_args = 0
 858 0000 10B5     		push	{r4, lr}
 859              	.LCFI5:
 860              		.cfi_def_cfa_offset 8
 861              		.cfi_offset 4, -8
 862              		.cfi_offset 14, -4
 261:HW/SDCard/SDCard.c **** 
 863              		.loc 1 261 3 view .LVU208
 864 0002 0022     		movs	r2, #0
 865 0004 4FF48041 		mov	r1, #16384
 866 0008 2148     		ldr	r0, .L66
 867 000a FFF7FEFF 		bl	Fill_Buffer
 868              	.LVL98:
 263:HW/SDCard/SDCard.c ****   {
 869              		.loc 1 263 3 view .LVU209
 263:HW/SDCard/SDCard.c ****   {
 870              		.loc 1 263 14 is_stmt 0 view .LVU210
 871 000e 214B     		ldr	r3, .L66+4
 872 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 263:HW/SDCard/SDCard.c ****   {
 873              		.loc 1 263 6 view .LVU211
 874 0012 B3B1     		cbz	r3, .L63
 875              	.L55:
 272:HW/SDCard/SDCard.c ****   {
 876              		.loc 1 272 3 is_stmt 1 view .LVU212
 272:HW/SDCard/SDCard.c ****   {
 877              		.loc 1 272 14 is_stmt 0 view .LVU213
 878 0014 1F4B     		ldr	r3, .L66+4
 879 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 272:HW/SDCard/SDCard.c ****   {
 880              		.loc 1 272 6 view .LVU214
 881 0018 23B3     		cbz	r3, .L64
 882              	.L57:
 282:HW/SDCard/SDCard.c ****   {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 26


 883              		.loc 1 282 3 is_stmt 1 view .LVU215
 282:HW/SDCard/SDCard.c ****   {
 884              		.loc 1 282 14 is_stmt 0 view .LVU216
 885 001a 1E4B     		ldr	r3, .L66+4
 886 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 282:HW/SDCard/SDCard.c ****   {
 887              		.loc 1 282 6 view .LVU217
 888 001e 3BB9     		cbnz	r3, .L59
 284:HW/SDCard/SDCard.c ****   }
 889              		.loc 1 284 5 is_stmt 1 view .LVU218
 284:HW/SDCard/SDCard.c ****   }
 890              		.loc 1 284 23 is_stmt 0 view .LVU219
 891 0020 4FF48042 		mov	r2, #16384
 892 0024 1C49     		ldr	r1, .L66+8
 893 0026 1A48     		ldr	r0, .L66
 894 0028 FFF7FEFF 		bl	Buffercmp
 895              	.LVL99:
 284:HW/SDCard/SDCard.c ****   }
 896              		.loc 1 284 21 view .LVU220
 897 002c 1B4B     		ldr	r3, .L66+12
 898 002e 1870     		strb	r0, [r3]
 899              	.L59:
 287:HW/SDCard/SDCard.c ****   {
 900              		.loc 1 287 3 is_stmt 1 view .LVU221
 287:HW/SDCard/SDCard.c ****   {
 901              		.loc 1 287 22 is_stmt 0 view .LVU222
 902 0030 1A4B     		ldr	r3, .L66+12
 903 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 904 0034 DBB2     		uxtb	r3, r3
 287:HW/SDCard/SDCard.c ****   {
 905              		.loc 1 287 5 view .LVU223
 906 0036 012B     		cmp	r3, #1
 907 0038 25D0     		beq	.L65
 293:HW/SDCard/SDCard.c ****   }
 908              		.loc 1 293 5 is_stmt 1 view .LVU224
 909 003a 1948     		ldr	r0, .L66+16
 910 003c FFF7FEFF 		bl	puts
 911              	.LVL100:
 912              	.L54:
 295:HW/SDCard/SDCard.c **** 
 913              		.loc 1 295 1 is_stmt 0 view .LVU225
 914 0040 10BD     		pop	{r4, pc}
 915              	.L63:
 266:HW/SDCard/SDCard.c ****     /* Check if the Transfer is finished */
 916              		.loc 1 266 5 is_stmt 1 view .LVU226
 266:HW/SDCard/SDCard.c ****     /* Check if the Transfer is finished */
 917              		.loc 1 266 14 is_stmt 0 view .LVU227
 918 0042 2023     		movs	r3, #32
 919 0044 4FF40072 		mov	r2, #512
 920 0048 0021     		movs	r1, #0
 921 004a 1148     		ldr	r0, .L66
 922 004c FFF7FEFF 		bl	SD_WriteMultiBlocks
 923              	.LVL101:
 266:HW/SDCard/SDCard.c ****     /* Check if the Transfer is finished */
 924              		.loc 1 266 12 view .LVU228
 925 0050 104C     		ldr	r4, .L66+4
 926 0052 2070     		strb	r0, [r4]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 27


 268:HW/SDCard/SDCard.c ****     while(SD_GetStatus() != SD_TRANSFER_OK);
 927              		.loc 1 268 5 is_stmt 1 view .LVU229
 268:HW/SDCard/SDCard.c ****     while(SD_GetStatus() != SD_TRANSFER_OK);
 928              		.loc 1 268 14 is_stmt 0 view .LVU230
 929 0054 FFF7FEFF 		bl	SD_WaitWriteOperation
 930              	.LVL102:
 268:HW/SDCard/SDCard.c ****     while(SD_GetStatus() != SD_TRANSFER_OK);
 931              		.loc 1 268 12 view .LVU231
 932 0058 2070     		strb	r0, [r4]
 269:HW/SDCard/SDCard.c ****   }
 933              		.loc 1 269 5 is_stmt 1 view .LVU232
 934              	.L56:
 269:HW/SDCard/SDCard.c ****   }
 935              		.loc 1 269 26 discriminator 1 view .LVU233
 269:HW/SDCard/SDCard.c ****   }
 936              		.loc 1 269 11 is_stmt 0 discriminator 1 view .LVU234
 937 005a FFF7FEFF 		bl	SD_GetStatus
 938              	.LVL103:
 269:HW/SDCard/SDCard.c ****   }
 939              		.loc 1 269 26 discriminator 1 view .LVU235
 940 005e 0028     		cmp	r0, #0
 941 0060 FBD1     		bne	.L56
 942 0062 D7E7     		b	.L55
 943              	.L64:
 275:HW/SDCard/SDCard.c ****     /* Check if the Transfer is finished */
 944              		.loc 1 275 5 is_stmt 1 view .LVU236
 275:HW/SDCard/SDCard.c ****     /* Check if the Transfer is finished */
 945              		.loc 1 275 14 is_stmt 0 view .LVU237
 946 0064 2023     		movs	r3, #32
 947 0066 4FF40072 		mov	r2, #512
 948 006a 0021     		movs	r1, #0
 949 006c 0A48     		ldr	r0, .L66+8
 950 006e FFF7FEFF 		bl	SD_ReadMultiBlocks
 951              	.LVL104:
 275:HW/SDCard/SDCard.c ****     /* Check if the Transfer is finished */
 952              		.loc 1 275 12 view .LVU238
 953 0072 084C     		ldr	r4, .L66+4
 954 0074 2070     		strb	r0, [r4]
 277:HW/SDCard/SDCard.c ****     while(SD_GetStatus() != SD_TRANSFER_OK);
 955              		.loc 1 277 5 is_stmt 1 view .LVU239
 277:HW/SDCard/SDCard.c ****     while(SD_GetStatus() != SD_TRANSFER_OK);
 956              		.loc 1 277 14 is_stmt 0 view .LVU240
 957 0076 FFF7FEFF 		bl	SD_WaitReadOperation
 958              	.LVL105:
 277:HW/SDCard/SDCard.c ****     while(SD_GetStatus() != SD_TRANSFER_OK);
 959              		.loc 1 277 12 view .LVU241
 960 007a 2070     		strb	r0, [r4]
 278:HW/SDCard/SDCard.c ****   }
 961              		.loc 1 278 5 is_stmt 1 view .LVU242
 962              	.L58:
 278:HW/SDCard/SDCard.c ****   }
 963              		.loc 1 278 26 discriminator 1 view .LVU243
 278:HW/SDCard/SDCard.c ****   }
 964              		.loc 1 278 11 is_stmt 0 discriminator 1 view .LVU244
 965 007c FFF7FEFF 		bl	SD_GetStatus
 966              	.LVL106:
 278:HW/SDCard/SDCard.c ****   }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 28


 967              		.loc 1 278 26 discriminator 1 view .LVU245
 968 0080 0028     		cmp	r0, #0
 969 0082 FBD1     		bne	.L58
 970 0084 C9E7     		b	.L57
 971              	.L65:
 289:HW/SDCard/SDCard.c ****   }
 972              		.loc 1 289 5 is_stmt 1 view .LVU246
 973 0086 0748     		ldr	r0, .L66+20
 974 0088 FFF7FEFF 		bl	puts
 975              	.LVL107:
 976 008c D8E7     		b	.L54
 977              	.L67:
 978 008e 00BF     		.align	2
 979              	.L66:
 980 0090 00000000 		.word	Buffer_MultiBlock_Tx
 981 0094 00000000 		.word	Status
 982 0098 00000000 		.word	Buffer_MultiBlock_Rx
 983 009c 00000000 		.word	TransferStatus2
 984 00a0 1C000000 		.word	.LC13
 985 00a4 00000000 		.word	.LC12
 986              		.cfi_endproc
 987              	.LFE36:
 989              		.section	.text.eBuffercmp,"ax",%progbits
 990              		.align	1
 991              		.global	eBuffercmp
 992              		.syntax unified
 993              		.thumb
 994              		.thumb_func
 996              	eBuffercmp:
 997              	.LVL108:
 998              	.LFB39:
 337:HW/SDCard/SDCard.c **** 
 338:HW/SDCard/SDCard.c **** /**
 339:HW/SDCard/SDCard.c ****   * @brief  Checks if a buffer has all its values are equal to zero.
 340:HW/SDCard/SDCard.c ****   * @param  pBuffer: buffer to be compared.
 341:HW/SDCard/SDCard.c ****   * @param  BufferLength: buffer's length
 342:HW/SDCard/SDCard.c ****   * @retval PASSED: pBuffer values are zero
 343:HW/SDCard/SDCard.c ****   *         FAILED: At least one value from pBuffer buffer is different from zero.
 344:HW/SDCard/SDCard.c ****   */
 345:HW/SDCard/SDCard.c **** TestStatus eBuffercmp(uint8_t* pBuffer, uint32_t BufferLength)
 346:HW/SDCard/SDCard.c **** {
 999              		.loc 1 346 1 view -0
 1000              		.cfi_startproc
 1001              		@ args = 0, pretend = 0, frame = 0
 1002              		@ frame_needed = 0, uses_anonymous_args = 0
 1003              		@ link register save eliminated.
 347:HW/SDCard/SDCard.c ****   while (BufferLength--)
 1004              		.loc 1 347 3 view .LVU248
 1005              		.loc 1 347 9 is_stmt 0 view .LVU249
 1006 0000 01E0     		b	.L69
 1007              	.LVL109:
 1008              	.L74:
 348:HW/SDCard/SDCard.c ****   {
 349:HW/SDCard/SDCard.c ****     /* In some SD Cards the erased state is 0xFF, in others it's 0x00 */
 350:HW/SDCard/SDCard.c ****     if ((*pBuffer != 0xFF) && (*pBuffer != 0x00))
 351:HW/SDCard/SDCard.c ****     {
 352:HW/SDCard/SDCard.c ****       return FAILED;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 29


 353:HW/SDCard/SDCard.c ****     }
 354:HW/SDCard/SDCard.c **** 
 355:HW/SDCard/SDCard.c ****     pBuffer++;
 1009              		.loc 1 355 5 is_stmt 1 view .LVU250
 1010              		.loc 1 355 12 is_stmt 0 view .LVU251
 1011 0002 0130     		adds	r0, r0, #1
 1012              	.LVL110:
 347:HW/SDCard/SDCard.c ****   while (BufferLength--)
 1013              		.loc 1 347 22 view .LVU252
 1014 0004 1146     		mov	r1, r2
 1015              	.LVL111:
 1016              	.L69:
 347:HW/SDCard/SDCard.c ****   while (BufferLength--)
 1017              		.loc 1 347 10 is_stmt 1 view .LVU253
 347:HW/SDCard/SDCard.c ****   while (BufferLength--)
 1018              		.loc 1 347 22 is_stmt 0 view .LVU254
 1019 0006 4A1E     		subs	r2, r1, #1
 1020              	.LVL112:
 347:HW/SDCard/SDCard.c ****   while (BufferLength--)
 1021              		.loc 1 347 10 view .LVU255
 1022 0008 31B1     		cbz	r1, .L73
 350:HW/SDCard/SDCard.c ****     {
 1023              		.loc 1 350 5 is_stmt 1 view .LVU256
 350:HW/SDCard/SDCard.c ****     {
 1024              		.loc 1 350 10 is_stmt 0 view .LVU257
 1025 000a 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 350:HW/SDCard/SDCard.c ****     {
 1026              		.loc 1 350 28 view .LVU258
 1027 000c 013B     		subs	r3, r3, #1
 1028 000e DBB2     		uxtb	r3, r3
 350:HW/SDCard/SDCard.c ****     {
 1029              		.loc 1 350 8 view .LVU259
 1030 0010 FD2B     		cmp	r3, #253
 1031 0012 F6D8     		bhi	.L74
 352:HW/SDCard/SDCard.c ****     }
 1032              		.loc 1 352 14 view .LVU260
 1033 0014 0020     		movs	r0, #0
 1034              	.LVL113:
 356:HW/SDCard/SDCard.c ****   }
 357:HW/SDCard/SDCard.c **** 
 358:HW/SDCard/SDCard.c ****   return PASSED;
 359:HW/SDCard/SDCard.c **** }
 1035              		.loc 1 359 1 view .LVU261
 1036 0016 7047     		bx	lr
 1037              	.LVL114:
 1038              	.L73:
 358:HW/SDCard/SDCard.c **** }
 1039              		.loc 1 358 10 view .LVU262
 1040 0018 0120     		movs	r0, #1
 1041              	.LVL115:
 358:HW/SDCard/SDCard.c **** }
 1042              		.loc 1 358 10 view .LVU263
 1043 001a 7047     		bx	lr
 1044              		.cfi_endproc
 1045              	.LFE39:
 1047              		.section	.rodata.SD_EraseTest.str1.4,"aMS",%progbits,1
 1048              		.align	2
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 30


 1049              	.LC14:
 1050 0000 E693A6E9 		.ascii	"\346\223\246\351\231\244\346\265\213\350\257\225\346"
 1050      99A4E6B5 
 1050      8BE8AF95 
 1050      E6
 1051 000d 8890E58A 		.ascii	"\210\220\345\212\237\015\000"
 1051      9F0D00
 1052              		.align	2
 1053              	.LC15:
 1054 0014 E693A6E9 		.ascii	"\346\223\246\351\231\244\346\265\213\350\257\225\345"
 1054      99A4E6B5 
 1054      8BE8AF95 
 1054      E5
 1055 0021 A4B1E8B4 		.ascii	"\244\261\350\264\245\015\000"
 1055      A50D00
 1056              		.section	.text.SD_EraseTest,"ax",%progbits
 1057              		.align	1
 1058              		.global	SD_EraseTest
 1059              		.syntax unified
 1060              		.thumb
 1061              		.thumb_func
 1063              	SD_EraseTest:
 1064              	.LFB34:
 172:HW/SDCard/SDCard.c ****   /*------------------- Block Erase ------------------------------------------*/
 1065              		.loc 1 172 1 is_stmt 1 view -0
 1066              		.cfi_startproc
 1067              		@ args = 0, pretend = 0, frame = 0
 1068              		@ frame_needed = 0, uses_anonymous_args = 0
 1069 0000 10B5     		push	{r4, lr}
 1070              	.LCFI6:
 1071              		.cfi_def_cfa_offset 8
 1072              		.cfi_offset 4, -8
 1073              		.cfi_offset 14, -4
 174:HW/SDCard/SDCard.c ****   {
 1074              		.loc 1 174 3 view .LVU265
 174:HW/SDCard/SDCard.c ****   {
 1075              		.loc 1 174 14 is_stmt 0 view .LVU266
 1076 0002 1B4B     		ldr	r3, .L86
 1077 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 174:HW/SDCard/SDCard.c ****   {
 1078              		.loc 1 174 6 view .LVU267
 1079 0006 ABB1     		cbz	r3, .L83
 1080              	.L76:
 180:HW/SDCard/SDCard.c ****   {
 1081              		.loc 1 180 3 is_stmt 1 view .LVU268
 180:HW/SDCard/SDCard.c ****   {
 1082              		.loc 1 180 14 is_stmt 0 view .LVU269
 1083 0008 194B     		ldr	r3, .L86
 1084 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 180:HW/SDCard/SDCard.c ****   {
 1085              		.loc 1 180 6 view .LVU270
 1086 000c D3B1     		cbz	r3, .L84
 1087              	.L77:
 192:HW/SDCard/SDCard.c ****   {
 1088              		.loc 1 192 3 is_stmt 1 view .LVU271
 192:HW/SDCard/SDCard.c ****   {
 1089              		.loc 1 192 14 is_stmt 0 view .LVU272
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 31


 1090 000e 184B     		ldr	r3, .L86
 1091 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 192:HW/SDCard/SDCard.c ****   {
 1092              		.loc 1 192 6 view .LVU273
 1093 0012 33B9     		cbnz	r3, .L79
 194:HW/SDCard/SDCard.c ****   }
 1094              		.loc 1 194 5 is_stmt 1 view .LVU274
 194:HW/SDCard/SDCard.c ****   }
 1095              		.loc 1 194 19 is_stmt 0 view .LVU275
 1096 0014 4FF48041 		mov	r1, #16384
 1097 0018 1648     		ldr	r0, .L86+4
 1098 001a FFF7FEFF 		bl	eBuffercmp
 1099              	.LVL116:
 194:HW/SDCard/SDCard.c ****   }
 1100              		.loc 1 194 17 view .LVU276
 1101 001e 164B     		ldr	r3, .L86+8
 1102 0020 1870     		strb	r0, [r3]
 1103              	.L79:
 197:HW/SDCard/SDCard.c ****   {
 1104              		.loc 1 197 3 is_stmt 1 view .LVU277
 197:HW/SDCard/SDCard.c ****   {
 1105              		.loc 1 197 18 is_stmt 0 view .LVU278
 1106 0022 154B     		ldr	r3, .L86+8
 1107 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1108 0026 DBB2     		uxtb	r3, r3
 197:HW/SDCard/SDCard.c ****   {
 1109              		.loc 1 197 5 view .LVU279
 1110 0028 012B     		cmp	r3, #1
 1111 002a 1CD0     		beq	.L85
 203:HW/SDCard/SDCard.c ****   }
 1112              		.loc 1 203 5 is_stmt 1 view .LVU280
 1113 002c 1348     		ldr	r0, .L86+12
 1114 002e FFF7FEFF 		bl	puts
 1115              	.LVL117:
 1116              	.L75:
 205:HW/SDCard/SDCard.c **** 
 1117              		.loc 1 205 1 is_stmt 0 view .LVU281
 1118 0032 10BD     		pop	{r4, pc}
 1119              	.L83:
 177:HW/SDCard/SDCard.c ****   }
 1120              		.loc 1 177 5 is_stmt 1 view .LVU282
 177:HW/SDCard/SDCard.c ****   }
 1121              		.loc 1 177 14 is_stmt 0 view .LVU283
 1122 0034 4FF48041 		mov	r1, #16384
 1123 0038 0020     		movs	r0, #0
 1124 003a FFF7FEFF 		bl	SD_Erase
 1125              	.LVL118:
 177:HW/SDCard/SDCard.c ****   }
 1126              		.loc 1 177 12 view .LVU284
 1127 003e 0C4B     		ldr	r3, .L86
 1128 0040 1870     		strb	r0, [r3]
 1129 0042 E1E7     		b	.L76
 1130              	.L84:
 182:HW/SDCard/SDCard.c **** 
 1131              		.loc 1 182 5 is_stmt 1 view .LVU285
 182:HW/SDCard/SDCard.c **** 
 1132              		.loc 1 182 14 is_stmt 0 view .LVU286
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 32


 1133 0044 2023     		movs	r3, #32
 1134 0046 4FF40072 		mov	r2, #512
 1135 004a 0021     		movs	r1, #0
 1136 004c 0948     		ldr	r0, .L86+4
 1137 004e FFF7FEFF 		bl	SD_ReadMultiBlocks
 1138              	.LVL119:
 182:HW/SDCard/SDCard.c **** 
 1139              		.loc 1 182 12 view .LVU287
 1140 0052 074C     		ldr	r4, .L86
 1141 0054 2070     		strb	r0, [r4]
 185:HW/SDCard/SDCard.c **** 
 1142              		.loc 1 185 5 is_stmt 1 view .LVU288
 185:HW/SDCard/SDCard.c **** 
 1143              		.loc 1 185 14 is_stmt 0 view .LVU289
 1144 0056 FFF7FEFF 		bl	SD_WaitReadOperation
 1145              	.LVL120:
 185:HW/SDCard/SDCard.c **** 
 1146              		.loc 1 185 12 view .LVU290
 1147 005a 2070     		strb	r0, [r4]
 188:HW/SDCard/SDCard.c ****   }
 1148              		.loc 1 188 5 is_stmt 1 view .LVU291
 1149              	.L78:
 188:HW/SDCard/SDCard.c ****   }
 1150              		.loc 1 188 26 discriminator 1 view .LVU292
 188:HW/SDCard/SDCard.c ****   }
 1151              		.loc 1 188 11 is_stmt 0 discriminator 1 view .LVU293
 1152 005c FFF7FEFF 		bl	SD_GetStatus
 1153              	.LVL121:
 188:HW/SDCard/SDCard.c ****   }
 1154              		.loc 1 188 26 discriminator 1 view .LVU294
 1155 0060 0028     		cmp	r0, #0
 1156 0062 FBD1     		bne	.L78
 1157 0064 D3E7     		b	.L77
 1158              	.L85:
 199:HW/SDCard/SDCard.c ****   }
 1159              		.loc 1 199 5 is_stmt 1 view .LVU295
 1160 0066 0648     		ldr	r0, .L86+16
 1161 0068 FFF7FEFF 		bl	puts
 1162              	.LVL122:
 1163 006c E1E7     		b	.L75
 1164              	.L87:
 1165 006e 00BF     		.align	2
 1166              	.L86:
 1167 0070 00000000 		.word	Status
 1168 0074 00000000 		.word	Buffer_MultiBlock_Rx
 1169 0078 00000000 		.word	EraseStatus
 1170 007c 14000000 		.word	.LC15
 1171 0080 00000000 		.word	.LC14
 1172              		.cfi_endproc
 1173              	.LFE34:
 1175              		.section	.rodata.SDCard_Run.str1.4,"aMS",%progbits,1
 1176              		.align	2
 1177              	.LC16:
 1178 0000 5344E58D 		.ascii	"SD\345\215\241\345\210\235\345\247\213\345\214\226\345"
 1178      A1E5889D 
 1178      E5A78BE5 
 1178      8C96E5
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 33


 1179 000f A4B1E8B4 		.ascii	"\244\261\350\264\245: %d\015\012\000"
 1179      A53A2025 
 1179      640D0A00 
 1180 001b 00       		.align	2
 1181              	.LC17:
 1182 001c 5344E58D 		.ascii	"SD\345\215\241\345\210\235\345\247\213\345\214\226\346"
 1182      A1E5889D 
 1182      E5A78BE5 
 1182      8C96E6
 1183 002b 8890E58A 		.ascii	"\210\220\345\212\237\015\000"
 1183      9F0D00
 1184              		.section	.text.SDCard_Run,"ax",%progbits
 1185              		.align	1
 1186              		.global	SDCard_Run
 1187              		.syntax unified
 1188              		.thumb
 1189              		.thumb_func
 1191              	SDCard_Run:
 1192              	.LFB32:
  14:HW/SDCard/SDCard.c ****     /* ÈÖçÁΩÆ‰∏≠Êñ≠‰ºòÂÖàÁ∫ßÁªÑ */
 1193              		.loc 1 14 18 view -0
 1194              		.cfi_startproc
 1195              		@ args = 0, pretend = 0, frame = 0
 1196              		@ frame_needed = 0, uses_anonymous_args = 0
 1197 0000 08B5     		push	{r3, lr}
 1198              	.LCFI7:
 1199              		.cfi_def_cfa_offset 8
 1200              		.cfi_offset 3, -8
 1201              		.cfi_offset 14, -4
  16:HW/SDCard/SDCard.c **** 
 1202              		.loc 1 16 5 view .LVU297
 1203 0002 4FF4A060 		mov	r0, #1280
 1204 0006 FFF7FEFF 		bl	NVIC_PriorityGroupConfig
 1205              	.LVL123:
  19:HW/SDCard/SDCard.c ****     SD_Error err = SD_Init();
 1206              		.loc 1 19 5 view .LVU298
 1207 000a FFF7FEFF 		bl	USART1_Init
 1208              	.LVL124:
  20:HW/SDCard/SDCard.c ****     if(err != SD_OK){
 1209              		.loc 1 20 5 view .LVU299
  20:HW/SDCard/SDCard.c ****     if(err != SD_OK){
 1210              		.loc 1 20 20 is_stmt 0 view .LVU300
 1211 000e FFF7FEFF 		bl	SD_Init
 1212              	.LVL125:
  21:HW/SDCard/SDCard.c ****         printf("SDÂç°ÂàùÂßãÂåñÂ§±Ë¥•: %d\r\n", err);
 1213              		.loc 1 21 5 is_stmt 1 view .LVU301
  21:HW/SDCard/SDCard.c ****         printf("SDÂç°ÂàùÂßãÂåñÂ§±Ë¥•: %d\r\n", err);
 1214              		.loc 1 21 7 is_stmt 0 view .LVU302
 1215 0012 48B9     		cbnz	r0, .L92
  25:HW/SDCard/SDCard.c ****     }
 1216              		.loc 1 25 9 is_stmt 1 view .LVU303
 1217 0014 0748     		ldr	r0, .L93
 1218              	.LVL126:
  25:HW/SDCard/SDCard.c ****     }
 1219              		.loc 1 25 9 is_stmt 0 view .LVU304
 1220 0016 FFF7FEFF 		bl	puts
 1221              	.LVL127:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 34


  29:HW/SDCard/SDCard.c ****     SD_SingleBlockTest();
 1222              		.loc 1 29 5 is_stmt 1 view .LVU305
 1223 001a FFF7FEFF 		bl	SD_EraseTest
 1224              	.LVL128:
  30:HW/SDCard/SDCard.c ****     SD_MultiBlockTest();
 1225              		.loc 1 30 5 view .LVU306
 1226 001e FFF7FEFF 		bl	SD_SingleBlockTest
 1227              	.LVL129:
  31:HW/SDCard/SDCard.c **** }
 1228              		.loc 1 31 5 view .LVU307
 1229 0022 FFF7FEFF 		bl	SD_MultiBlockTest
 1230              	.LVL130:
 1231              	.L88:
  32:HW/SDCard/SDCard.c **** 
 1232              		.loc 1 32 1 is_stmt 0 view .LVU308
 1233 0026 08BD     		pop	{r3, pc}
 1234              	.LVL131:
 1235              	.L92:
  32:HW/SDCard/SDCard.c **** 
 1236              		.loc 1 32 1 view .LVU309
 1237 0028 0146     		mov	r1, r0
  22:HW/SDCard/SDCard.c ****         return;
 1238              		.loc 1 22 9 is_stmt 1 view .LVU310
 1239 002a 0348     		ldr	r0, .L93+4
 1240              	.LVL132:
  22:HW/SDCard/SDCard.c ****         return;
 1241              		.loc 1 22 9 is_stmt 0 view .LVU311
 1242 002c FFF7FEFF 		bl	printf
 1243              	.LVL133:
  23:HW/SDCard/SDCard.c ****     }else{
 1244              		.loc 1 23 9 is_stmt 1 view .LVU312
 1245 0030 F9E7     		b	.L88
 1246              	.L94:
 1247 0032 00BF     		.align	2
 1248              	.L93:
 1249 0034 1C000000 		.word	.LC17
 1250 0038 00000000 		.word	.LC16
 1251              		.cfi_endproc
 1252              	.LFE32:
 1254              		.section	.rodata.__FUNCTION__.0,"a"
 1255              		.align	2
 1258              	__FUNCTION__.0:
 1259 0000 53444361 		.ascii	"SDCard_Fats_Run\000"
 1259      72645F46 
 1259      6174735F 
 1259      52756E00 
 1260              		.global	SDCardOperation
 1261              		.section	.bss.SDCardOperation,"aw",%nobits
 1262              		.align	2
 1265              	SDCardOperation:
 1266 0000 00000000 		.space	4
 1267              		.global	Status
 1268              		.section	.bss.Status,"aw",%nobits
 1271              	Status:
 1272 0000 00       		.space	1
 1273              		.global	TransferStatus2
 1274              		.section	.bss.TransferStatus2,"aw",%nobits
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 35


 1277              	TransferStatus2:
 1278 0000 00       		.space	1
 1279              		.global	TransferStatus1
 1280              		.section	.bss.TransferStatus1,"aw",%nobits
 1283              	TransferStatus1:
 1284 0000 00       		.space	1
 1285              		.global	EraseStatus
 1286              		.section	.bss.EraseStatus,"aw",%nobits
 1289              	EraseStatus:
 1290 0000 00       		.space	1
 1291              		.global	Buffer_MultiBlock_Rx
 1292              		.section	.bss.Buffer_MultiBlock_Rx,"aw",%nobits
 1293              		.align	2
 1296              	Buffer_MultiBlock_Rx:
 1297 0000 00000000 		.space	16384
 1297      00000000 
 1297      00000000 
 1297      00000000 
 1297      00000000 
 1298              		.global	Buffer_MultiBlock_Tx
 1299              		.section	.bss.Buffer_MultiBlock_Tx,"aw",%nobits
 1300              		.align	2
 1303              	Buffer_MultiBlock_Tx:
 1304 0000 00000000 		.space	16384
 1304      00000000 
 1304      00000000 
 1304      00000000 
 1304      00000000 
 1305              		.global	Buffer_Block_Rx
 1306              		.section	.bss.Buffer_Block_Rx,"aw",%nobits
 1307              		.align	2
 1310              	Buffer_Block_Rx:
 1311 0000 00000000 		.space	512
 1311      00000000 
 1311      00000000 
 1311      00000000 
 1311      00000000 
 1312              		.global	Buffer_Block_Tx
 1313              		.section	.bss.Buffer_Block_Tx,"aw",%nobits
 1314              		.align	2
 1317              	Buffer_Block_Tx:
 1318 0000 00000000 		.space	512
 1318      00000000 
 1318      00000000 
 1318      00000000 
 1318      00000000 
 1319              		.section	.data.errInfo,"aw"
 1320              		.align	2
 1323              	errInfo:
 1324 0000 28302920 		.ascii	"(0) Succeeded\000"
 1324      53756363 
 1324      65656465 
 1324      6400
 1325 000e 00000000 		.space	58
 1325      00000000 
 1325      00000000 
 1325      00000000 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 36


 1325      00000000 
 1326 0048 28312920 		.ascii	"(1) A hard error occurred in the low level disk I/O"
 1326      41206861 
 1326      72642065 
 1326      72726F72 
 1326      206F6363 
 1327 007b 206C6179 		.ascii	" layer\000"
 1327      657200
 1328 0082 00000000 		.space	14
 1328      00000000 
 1328      00000000 
 1328      0000
 1329 0090 28322920 		.ascii	"(2) Assertion failed\000"
 1329      41737365 
 1329      7274696F 
 1329      6E206661 
 1329      696C6564 
 1330 00a5 00000000 		.space	51
 1330      00000000 
 1330      00000000 
 1330      00000000 
 1330      00000000 
 1331 00d8 28332920 		.ascii	"(3) The physical drive cannot work\000"
 1331      54686520 
 1331      70687973 
 1331      6963616C 
 1331      20647269 
 1332 00fb 00000000 		.space	37
 1332      00000000 
 1332      00000000 
 1332      00000000 
 1332      00000000 
 1333 0120 28342920 		.ascii	"(4) Could not find the file\000"
 1333      436F756C 
 1333      64206E6F 
 1333      74206669 
 1333      6E642074 
 1334 013c 00000000 		.space	44
 1334      00000000 
 1334      00000000 
 1334      00000000 
 1334      00000000 
 1335 0168 28352920 		.ascii	"(5) Could not find the path\000"
 1335      436F756C 
 1335      64206E6F 
 1335      74206669 
 1335      6E642074 
 1336 0184 00000000 		.space	44
 1336      00000000 
 1336      00000000 
 1336      00000000 
 1336      00000000 
 1337 01b0 28362920 		.ascii	"(6) The path name format is invalid\000"
 1337      54686520 
 1337      70617468 
 1337      206E616D 
 1337      6520666F 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 37


 1338 01d4 00000000 		.space	36
 1338      00000000 
 1338      00000000 
 1338      00000000 
 1338      00000000 
 1339 01f8 28372920 		.ascii	"(7) Access denied due to prohibited access or direc"
 1339      41636365 
 1339      73732064 
 1339      656E6965 
 1339      64206475 
 1340 022b 746F7279 		.ascii	"tory full\000"
 1340      2066756C 
 1340      6C00
 1341 0235 00000000 		.space	11
 1341      00000000 
 1341      000000
 1342 0240 28382920 		.ascii	"(8) Access denied due to prohibited access\000"
 1342      41636365 
 1342      73732064 
 1342      656E6965 
 1342      64206475 
 1343 026b 00000000 		.space	29
 1343      00000000 
 1343      00000000 
 1343      00000000 
 1343      00000000 
 1344 0288 28392920 		.ascii	"(9) The file/directory object is invalid\000"
 1344      54686520 
 1344      66696C65 
 1344      2F646972 
 1344      6563746F 
 1345 02b1 00000000 		.space	31
 1345      00000000 
 1345      00000000 
 1345      00000000 
 1345      00000000 
 1346 02d0 28313029 		.ascii	"(10) The physical drive is write protected\000"
 1346      20546865 
 1346      20706879 
 1346      73696361 
 1346      6C206472 
 1347 02fb 00000000 		.space	29
 1347      00000000 
 1347      00000000 
 1347      00000000 
 1347      00000000 
 1348 0318 28313129 		.ascii	"(11) The logical drive number is invalid\000"
 1348      20546865 
 1348      206C6F67 
 1348      6963616C 
 1348      20647269 
 1349 0341 00000000 		.space	31
 1349      00000000 
 1349      00000000 
 1349      00000000 
 1349      00000000 
 1350 0360 28313229 		.ascii	"(12) The volume has no work area\000"
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 38


 1350      20546865 
 1350      20766F6C 
 1350      756D6520 
 1350      68617320 
 1351 0381 00000000 		.space	39
 1351      00000000 
 1351      00000000 
 1351      00000000 
 1351      00000000 
 1352 03a8 28313329 		.ascii	"(13) There is no valid FAT volume\000"
 1352      20546865 
 1352      72652069 
 1352      73206E6F 
 1352      2076616C 
 1353 03ca 00000000 		.space	38
 1353      00000000 
 1353      00000000 
 1353      00000000 
 1353      00000000 
 1354 03f0 28313429 		.ascii	"(14) The f_mkfs() aborted due to any problem\000"
 1354      20546865 
 1354      20665F6D 
 1354      6B667328 
 1354      29206162 
 1355 041d 00000000 		.space	27
 1355      00000000 
 1355      00000000 
 1355      00000000 
 1355      00000000 
 1356 0438 28313529 		.ascii	"(15) Could not get a grant to access the volume wit"
 1356      20436F75 
 1356      6C64206E 
 1356      6F742067 
 1356      65742061 
 1357 046b 68696E20 		.ascii	"hin defined perio\000"
 1357      64656669 
 1357      6E656420 
 1357      70657269 
 1357      6F00
 1358 047d 000000   		.space	3
 1359 0480 28313629 		.ascii	"(16) The operation is rejected according to the fil"
 1359      20546865 
 1359      206F7065 
 1359      72617469 
 1359      6F6E2069 
 1360 04b3 65207368 		.ascii	"e sharing policy\000"
 1360      6172696E 
 1360      6720706F 
 1360      6C696379 
 1360      00
 1361 04c4 00000000 		.space	4
 1362 04c8 28313729 		.ascii	"(17) LFN working src could not be allocated\000"
 1362      204C464E 
 1362      20776F72 
 1362      6B696E67 
 1362      20737263 
 1363 04f4 00000000 		.space	28
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 39


 1363      00000000 
 1363      00000000 
 1363      00000000 
 1363      00000000 
 1364 0510 28313829 		.ascii	"(18) Number of open files > FF_FS_LOCK\000"
 1364      204E756D 
 1364      62657220 
 1364      6F66206F 
 1364      70656E20 
 1365 0537 00000000 		.space	33
 1365      00000000 
 1365      00000000 
 1365      00000000 
 1365      00000000 
 1366 0558 28313929 		.ascii	"(19) Given parameter is invalid\000"
 1366      20476976 
 1366      656E2070 
 1366      6172616D 
 1366      65746572 
 1367 0578 00000000 		.space	40
 1367      00000000 
 1367      00000000 
 1367      00000000 
 1367      00000000 
 1368              		.section	.rodata
 1369              		.align	2
 1370              		.set	.LANCHOR0,. + 0
 1371              	.LC4:
 1372 0000 4469616E 		.ascii	"Diana Ava\000"
 1372      61204176 
 1372      6100
 1373 000a 00000000 		.space	10
 1373      00000000 
 1373      0000
 1374              		.text
 1375              	.Letext0:
 1376              		.file 2 "e:\\windows\\programs\\arm-gnu-toolchain-12.2.mpacbti-bet1-mingw-w64-i686-arm-none-eabi\\
 1377              		.file 3 "e:\\windows\\programs\\arm-gnu-toolchain-12.2.mpacbti-bet1-mingw-w64-i686-arm-none-eabi\\
 1378              		.file 4 "e:\\windows\\programs\\arm-gnu-toolchain-12.2.mpacbti-bet1-mingw-w64-i686-arm-none-eabi\\
 1379              		.file 5 "e:\\windows\\programs\\arm-gnu-toolchain-12.2.mpacbti-bet1-mingw-w64-i686-arm-none-eabi\\
 1380              		.file 6 "e:\\windows\\programs\\arm-gnu-toolchain-12.2.mpacbti-bet1-mingw-w64-i686-arm-none-eabi\\
 1381              		.file 7 "e:\\windows\\programs\\arm-gnu-toolchain-12.2.mpacbti-bet1-mingw-w64-i686-arm-none-eabi\\
 1382              		.file 8 "e:\\windows\\programs\\arm-gnu-toolchain-12.2.mpacbti-bet1-mingw-w64-i686-arm-none-eabi\\
 1383              		.file 9 "HW/SDCard/stm32_eval_sdio_sd.h"
 1384              		.file 10 "DRIVER/FatFs/source/ff.h"
 1385              		.file 11 "e:\\windows\\programs\\arm-gnu-toolchain-12.2.mpacbti-bet1-mingw-w64-i686-arm-none-eabi\
 1386              		.file 12 "STM32F10x_FWLib/inc/misc.h"
 1387              		.file 13 "<built-in>"
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 40


DEFINED SYMBOLS
                            *ABS*:00000000 SDCard.c
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:19     .rodata.SDCard_Fats_Run.str1.4:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:54     .text.SDCard_Fats_Run:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:60     .text.SDCard_Fats_Run:00000000 SDCard_Fats_Run
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:565    .text.SDCard_Fats_Run:00000278 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1258   .rodata.__FUNCTION__.0:00000000 __FUNCTION__.0
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1323   .data.errInfo:00000000 errInfo
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:582    .text.Buffercmp:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:588    .text.Buffercmp:00000000 Buffercmp
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:643    .text.Fill_Buffer:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:649    .text.Fill_Buffer:00000000 Fill_Buffer
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:686    .rodata.SD_SingleBlockTest.str1.4:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:695    .text.SD_SingleBlockTest:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:701    .text.SD_SingleBlockTest:00000000 SD_SingleBlockTest
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:827    .text.SD_SingleBlockTest:0000008c $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1317   .bss.Buffer_Block_Tx:00000000 Buffer_Block_Tx
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1271   .bss.Status:00000000 Status
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1310   .bss.Buffer_Block_Rx:00000000 Buffer_Block_Rx
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1283   .bss.TransferStatus1:00000000 TransferStatus1
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:837    .rodata.SD_MultiBlockTest.str1.4:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:846    .text.SD_MultiBlockTest:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:852    .text.SD_MultiBlockTest:00000000 SD_MultiBlockTest
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:980    .text.SD_MultiBlockTest:00000090 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1303   .bss.Buffer_MultiBlock_Tx:00000000 Buffer_MultiBlock_Tx
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1296   .bss.Buffer_MultiBlock_Rx:00000000 Buffer_MultiBlock_Rx
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1277   .bss.TransferStatus2:00000000 TransferStatus2
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:990    .text.eBuffercmp:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:996    .text.eBuffercmp:00000000 eBuffercmp
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1048   .rodata.SD_EraseTest.str1.4:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1057   .text.SD_EraseTest:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1063   .text.SD_EraseTest:00000000 SD_EraseTest
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1167   .text.SD_EraseTest:00000070 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1289   .bss.EraseStatus:00000000 EraseStatus
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1176   .rodata.SDCard_Run.str1.4:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1185   .text.SDCard_Run:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1191   .text.SDCard_Run:00000000 SDCard_Run
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1249   .text.SDCard_Run:00000034 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1255   .rodata.__FUNCTION__.0:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1265   .bss.SDCardOperation:00000000 SDCardOperation
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1262   .bss.SDCardOperation:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1272   .bss.Status:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1278   .bss.TransferStatus2:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1284   .bss.TransferStatus1:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1290   .bss.EraseStatus:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1293   .bss.Buffer_MultiBlock_Rx:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1300   .bss.Buffer_MultiBlock_Tx:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1307   .bss.Buffer_Block_Rx:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1314   .bss.Buffer_Block_Tx:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1320   .data.errInfo:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s:1369   .rodata:00000000 $d

UNDEFINED SYMBOLS
USART1_Init
malloc
f_mount
f_open
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccj9AHzQ.s 			page 41


f_write
fprintf
puts
f_mkfs
free
f_close
f_read
printf
f_getfree
_impure_ptr
SD_WriteBlock
SD_WaitWriteOperation
SD_GetStatus
SD_ReadBlock
SD_WaitReadOperation
SD_WriteMultiBlocks
SD_ReadMultiBlocks
SD_Erase
NVIC_PriorityGroupConfig
SD_Init
