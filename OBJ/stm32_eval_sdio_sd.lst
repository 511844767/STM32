ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32_eval_sdio_sd.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "HW/SDCard/stm32_eval_sdio_sd.c"
  18              		.section	.text.CmdResp1Error,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	CmdResp1Error:
  25              	.LFB62:
   1:HW/SDCard/stm32_eval_sdio_sd.c **** /**
   2:HW/SDCard/stm32_eval_sdio_sd.c ****   ******************************************************************************
   3:HW/SDCard/stm32_eval_sdio_sd.c ****   * @file    stm32_eval_sdio_sd.c
   4:HW/SDCard/stm32_eval_sdio_sd.c ****   * @author  MCD Application Team
   5:HW/SDCard/stm32_eval_sdio_sd.c ****   * @version V4.5.0
   6:HW/SDCard/stm32_eval_sdio_sd.c ****   * @date    07-March-2011
   7:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief   This file provides a set of functions needed to manage the SDIO SD 
   8:HW/SDCard/stm32_eval_sdio_sd.c ****   *          Card memory mounted on STM32xx-EVAL board (refer to stm32_eval.h
   9:HW/SDCard/stm32_eval_sdio_sd.c ****   *          to know about the boards supporting this memory). 
  10:HW/SDCard/stm32_eval_sdio_sd.c ****   *          
  11:HW/SDCard/stm32_eval_sdio_sd.c ****   *            
  12:HW/SDCard/stm32_eval_sdio_sd.c ****   *  @verbatim
  13:HW/SDCard/stm32_eval_sdio_sd.c ****   *
  14:HW/SDCard/stm32_eval_sdio_sd.c ****   *          ===================================================================
  15:HW/SDCard/stm32_eval_sdio_sd.c ****   *                                   How to use this driver
  16:HW/SDCard/stm32_eval_sdio_sd.c ****   *          ===================================================================
  17:HW/SDCard/stm32_eval_sdio_sd.c ****   *          It implements a high level communication layer for read and write 
  18:HW/SDCard/stm32_eval_sdio_sd.c ****   *          from/to this memory. The needed STM32 hardware resources (SDIO and 
  19:HW/SDCard/stm32_eval_sdio_sd.c ****   *          GPIO) are defined in stm32xx_eval.h file, and the initialization is 
  20:HW/SDCard/stm32_eval_sdio_sd.c ****   *          performed in SD_LowLevel_Init() function declared in stm32xx_eval.c 
  21:HW/SDCard/stm32_eval_sdio_sd.c ****   *          file.
  22:HW/SDCard/stm32_eval_sdio_sd.c ****   *          You can easily tailor this driver to any other development board, 
  23:HW/SDCard/stm32_eval_sdio_sd.c ****   *          by just adapting the defines for hardware resources and 
  24:HW/SDCard/stm32_eval_sdio_sd.c ****   *          SD_LowLevel_Init() function.
  25:HW/SDCard/stm32_eval_sdio_sd.c ****   *            
  26:HW/SDCard/stm32_eval_sdio_sd.c ****   *          A - SD Card Initialization and configuration
  27:HW/SDCard/stm32_eval_sdio_sd.c ****   *          ============================================    
  28:HW/SDCard/stm32_eval_sdio_sd.c ****   *            - To initialize the SD Card, use the SD_Init() function.  It 
  29:HW/SDCard/stm32_eval_sdio_sd.c ****   *              Initializes the SD Card and put it into StandBy State (Ready 
  30:HW/SDCard/stm32_eval_sdio_sd.c ****   *              for data transfer). This function provide the following operations:
  31:HW/SDCard/stm32_eval_sdio_sd.c ****   *           
  32:HW/SDCard/stm32_eval_sdio_sd.c ****   *              1 - Apply the SD Card initialization process at 400KHz and check
  33:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  the SD Card type (Standard Capacity or High Capacity). You 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 2


  34:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  can change or adapt this frequency by adjusting the 
  35:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  "SDIO_INIT_CLK_DIV" define inside the stm32xx_eval.h file. 
  36:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  The SD Card frequency (SDIO_CK) is computed as follows:
  37:HW/SDCard/stm32_eval_sdio_sd.c ****   *                    
  38:HW/SDCard/stm32_eval_sdio_sd.c ****   *                     +---------------------------------------------+    
  39:HW/SDCard/stm32_eval_sdio_sd.c ****   *                     | SDIO_CK = SDIOCLK / (SDIO_INIT_CLK_DIV + 2) |
  40:HW/SDCard/stm32_eval_sdio_sd.c ****   *                     +---------------------------------------------+  
  41:HW/SDCard/stm32_eval_sdio_sd.c ****   *                          
  42:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  In initialization mode and according to the SD Card standard, 
  43:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  make sure that the SDIO_CK frequency don't exceed 400KHz.        
  44:HW/SDCard/stm32_eval_sdio_sd.c ****   *         
  45:HW/SDCard/stm32_eval_sdio_sd.c ****   *              2 - Get the SD CID and CSD data. All these information are
  46:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  managed by the SDCardInfo structure. This structure provide
  47:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  also ready computed SD Card capacity and Block size.   
  48:HW/SDCard/stm32_eval_sdio_sd.c ****   *
  49:HW/SDCard/stm32_eval_sdio_sd.c ****   *              3 - Configure the SD Card Data transfer frequency. By Default,
  50:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  the card transfer frequency is set to 24MHz. You can change
  51:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  or adapt this frequency by adjusting the "SDIO_TRANSFER_CLK_DIV" 
  52:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  define inside the stm32xx_eval.h file.
  53:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  The SD Card frequency (SDIO_CK) is computed as follows:
  54:HW/SDCard/stm32_eval_sdio_sd.c ****   *                    
  55:HW/SDCard/stm32_eval_sdio_sd.c ****   *                     +---------------------------------------------+    
  56:HW/SDCard/stm32_eval_sdio_sd.c ****   *                     | SDIO_CK = SDIOCLK / (SDIO_INIT_CLK_DIV + 2) |
  57:HW/SDCard/stm32_eval_sdio_sd.c ****   *                     +---------------------------------------------+     
  58:HW/SDCard/stm32_eval_sdio_sd.c ****   *                                    
  59:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  In transfer mode and according to the SD Card standard, 
  60:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  make sure that the SDIO_CK frequency don't exceed 25MHz
  61:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  and 50MHz in High-speed mode switch.
  62:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  To be able to use a frequency higher than 24MHz, you should
  63:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  use the SDIO peripheral in bypass mode. Refer to the 
  64:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  corresponding reference manual for more details.
  65:HW/SDCard/stm32_eval_sdio_sd.c ****   *                    
  66:HW/SDCard/stm32_eval_sdio_sd.c ****   *              4 -  Select the corresponding SD Card according to the address
  67:HW/SDCard/stm32_eval_sdio_sd.c ****   *                   read with the step 2.
  68:HW/SDCard/stm32_eval_sdio_sd.c ****   *                                   
  69:HW/SDCard/stm32_eval_sdio_sd.c ****   *              5 -  Configure the SD Card in wide bus mode: 4-bits data.                
  70:HW/SDCard/stm32_eval_sdio_sd.c ****   *
  71:HW/SDCard/stm32_eval_sdio_sd.c ****   *          B - SD Card Read operation
  72:HW/SDCard/stm32_eval_sdio_sd.c ****   *          ========================== 
  73:HW/SDCard/stm32_eval_sdio_sd.c ****   *           - You can read SD card by using two function: SD_ReadBlock() and
  74:HW/SDCard/stm32_eval_sdio_sd.c ****   *             SD_ReadMultiBlocks() functions. These functions support only
  75:HW/SDCard/stm32_eval_sdio_sd.c ****   *             512-byte block length.
  76:HW/SDCard/stm32_eval_sdio_sd.c ****   *           - The SD_ReadBlock() function read only one block (512-byte). This
  77:HW/SDCard/stm32_eval_sdio_sd.c ****   *             function can transfer the data using DMA controller or using 
  78:HW/SDCard/stm32_eval_sdio_sd.c ****   *             polling mode. To select between DMA or polling mode refer to 
  79:HW/SDCard/stm32_eval_sdio_sd.c ****   *             "SD_DMA_MODE" or "SD_POLLING_MODE" inside the stm32_eval_sdio_sd.h
  80:HW/SDCard/stm32_eval_sdio_sd.c ****   *             file and uncomment the corresponding line. By default the SD DMA
  81:HW/SDCard/stm32_eval_sdio_sd.c ****   *             mode is selected          
  82:HW/SDCard/stm32_eval_sdio_sd.c ****   *           - The SD_ReadMultiBlocks() function read only mutli blocks (multiple 
  83:HW/SDCard/stm32_eval_sdio_sd.c ****   *             of 512-byte). 
  84:HW/SDCard/stm32_eval_sdio_sd.c ****   *           - Any read operation should be followed by two functions to check
  85:HW/SDCard/stm32_eval_sdio_sd.c ****   *             if the DMA Controller and SD Card status.
  86:HW/SDCard/stm32_eval_sdio_sd.c ****   *              - SD_ReadWaitOperation(): this function insure that the DMA
  87:HW/SDCard/stm32_eval_sdio_sd.c ****   *                controller has finished all data transfer.
  88:HW/SDCard/stm32_eval_sdio_sd.c ****   *              - SD_GetStatus(): to check that the SD Card has finished the 
  89:HW/SDCard/stm32_eval_sdio_sd.c ****   *                data transfer and it is ready for data.
  90:HW/SDCard/stm32_eval_sdio_sd.c ****   *                  
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 3


  91:HW/SDCard/stm32_eval_sdio_sd.c ****   *           - The DMA transfer is finished by the SDIO Data End interrupt. User
  92:HW/SDCard/stm32_eval_sdio_sd.c ****   *             has to call the SD_ProcessIRQ() function inside the SDIO_IRQHandler().
  93:HW/SDCard/stm32_eval_sdio_sd.c ****   *             Don't forget to enable the SDIO_IRQn interrupt using the NVIC controller.      
  94:HW/SDCard/stm32_eval_sdio_sd.c ****   *                
  95:HW/SDCard/stm32_eval_sdio_sd.c ****   *          C - SD Card Write operation
  96:HW/SDCard/stm32_eval_sdio_sd.c ****   *          =========================== 
  97:HW/SDCard/stm32_eval_sdio_sd.c ****   *           - You can write SD card by using two function: SD_WriteBlock() and
  98:HW/SDCard/stm32_eval_sdio_sd.c ****   *             SD_WriteMultiBlocks() functions. These functions support only
  99:HW/SDCard/stm32_eval_sdio_sd.c ****   *             512-byte block length.   
 100:HW/SDCard/stm32_eval_sdio_sd.c ****   *           - The SD_WriteBlock() function write only one block (512-byte). This
 101:HW/SDCard/stm32_eval_sdio_sd.c ****   *             function can transfer the data using DMA controller or using 
 102:HW/SDCard/stm32_eval_sdio_sd.c ****   *             polling mode. To select between DMA or polling mode refer to 
 103:HW/SDCard/stm32_eval_sdio_sd.c ****   *             "SD_DMA_MODE" or "SD_POLLING_MODE" inside the stm32_eval_sdio_sd.h
 104:HW/SDCard/stm32_eval_sdio_sd.c ****   *             file and uncomment the corresponding line. By default the SD DMA
 105:HW/SDCard/stm32_eval_sdio_sd.c ****   *             mode is selected          
 106:HW/SDCard/stm32_eval_sdio_sd.c ****   *           - The SD_WriteMultiBlocks() function write only mutli blocks (multiple 
 107:HW/SDCard/stm32_eval_sdio_sd.c ****   *             of 512-byte). 
 108:HW/SDCard/stm32_eval_sdio_sd.c ****   *           - Any write operation should be followed by two functions to check
 109:HW/SDCard/stm32_eval_sdio_sd.c ****   *             if the DMA Controller and SD Card status.
 110:HW/SDCard/stm32_eval_sdio_sd.c ****   *              - SD_ReadWaitOperation(): this function insure that the DMA
 111:HW/SDCard/stm32_eval_sdio_sd.c ****   *                controller has finished all data transfer.
 112:HW/SDCard/stm32_eval_sdio_sd.c ****   *              - SD_GetStatus(): to check that the SD Card has finished the 
 113:HW/SDCard/stm32_eval_sdio_sd.c ****   *                data transfer and it is ready for data.         
 114:HW/SDCard/stm32_eval_sdio_sd.c ****   *                
 115:HW/SDCard/stm32_eval_sdio_sd.c ****   *           - The DMA transfer is finished by the SDIO Data End interrupt. User
 116:HW/SDCard/stm32_eval_sdio_sd.c ****   *             has to call the SD_ProcessIRQ() function inside the SDIO_IRQHandler().
 117:HW/SDCard/stm32_eval_sdio_sd.c ****   *             Don't forget to enable the SDIO_IRQn interrupt using the NVIC controller.      
 118:HW/SDCard/stm32_eval_sdio_sd.c ****                
 119:HW/SDCard/stm32_eval_sdio_sd.c ****   *             
 120:HW/SDCard/stm32_eval_sdio_sd.c ****   *          D - SD card status
 121:HW/SDCard/stm32_eval_sdio_sd.c ****   *          ================== 
 122:HW/SDCard/stm32_eval_sdio_sd.c ****   *           - At any time, you can check the SD Card status and get the SD card
 123:HW/SDCard/stm32_eval_sdio_sd.c ****   *             state by using the SD_GetStatus() function. This function checks
 124:HW/SDCard/stm32_eval_sdio_sd.c ****   *             first if the SD card is still connected and then get the internal
 125:HW/SDCard/stm32_eval_sdio_sd.c ****   *             SD Card transfer state.     
 126:HW/SDCard/stm32_eval_sdio_sd.c ****   *           - You can also get the SD card SD Status register by using the 
 127:HW/SDCard/stm32_eval_sdio_sd.c ****   *             SD_SendSDStatus() function.       
 128:HW/SDCard/stm32_eval_sdio_sd.c ****   *               
 129:HW/SDCard/stm32_eval_sdio_sd.c ****   *          E - Programming Model
 130:HW/SDCard/stm32_eval_sdio_sd.c ****   *          ===================== 
 131:HW/SDCard/stm32_eval_sdio_sd.c ****   *             Status = SD_Init(); // Initialization Step as described in section A
 132:HW/SDCard/stm32_eval_sdio_sd.c ****   *               
 133:HW/SDCard/stm32_eval_sdio_sd.c ****   *             // SDIO Interrupt ENABLE
 134:HW/SDCard/stm32_eval_sdio_sd.c ****   *             NVIC_InitStructure.NVIC_IRQChannel = SDIO_IRQn;
 135:HW/SDCard/stm32_eval_sdio_sd.c ****   *             NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
 136:HW/SDCard/stm32_eval_sdio_sd.c ****   *             NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;
 137:HW/SDCard/stm32_eval_sdio_sd.c ****   *             NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 138:HW/SDCard/stm32_eval_sdio_sd.c ****   *             NVIC_Init(&NVIC_InitStructure);
 139:HW/SDCard/stm32_eval_sdio_sd.c ****   *             
 140:HW/SDCard/stm32_eval_sdio_sd.c ****   *             // Write operation as described in Section C
 141:HW/SDCard/stm32_eval_sdio_sd.c ****   *             Status = SD_WriteBlock(buffer, address, 512);
 142:HW/SDCard/stm32_eval_sdio_sd.c ****   *             Status = SD_WaitWriteOperation();
 143:HW/SDCard/stm32_eval_sdio_sd.c ****   *             while(SD_GetStatus() != SD_TRANSFER_OK); 
 144:HW/SDCard/stm32_eval_sdio_sd.c ****   *             
 145:HW/SDCard/stm32_eval_sdio_sd.c ****   *             Status = SD_WriteMultiBlocks(buffer, address, 512, NUMBEROFBLOCKS);
 146:HW/SDCard/stm32_eval_sdio_sd.c ****   *             Status = SD_WaitWriteOperation();
 147:HW/SDCard/stm32_eval_sdio_sd.c ****   *             while(SD_GetStatus() != SD_TRANSFER_OK);     
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 4


 148:HW/SDCard/stm32_eval_sdio_sd.c ****   *             
 149:HW/SDCard/stm32_eval_sdio_sd.c ****   *             // Read operation as described in Section B
 150:HW/SDCard/stm32_eval_sdio_sd.c ****   *             Status = SD_ReadBlock(buffer, address, 512);
 151:HW/SDCard/stm32_eval_sdio_sd.c ****   *             Status = SD_WaitReadOperation();
 152:HW/SDCard/stm32_eval_sdio_sd.c ****   *             while(SD_GetStatus() != SD_TRANSFER_OK);
 153:HW/SDCard/stm32_eval_sdio_sd.c ****   *             
 154:HW/SDCard/stm32_eval_sdio_sd.c ****   *             Status = SD_ReadMultiBlocks(buffer, address, 512, NUMBEROFBLOCKS);
 155:HW/SDCard/stm32_eval_sdio_sd.c ****   *             Status = SD_WaitReadOperation();
 156:HW/SDCard/stm32_eval_sdio_sd.c ****   *             while(SD_GetStatus() != SD_TRANSFER_OK);            
 157:HW/SDCard/stm32_eval_sdio_sd.c ****   *               
 158:HW/SDCard/stm32_eval_sdio_sd.c ****   *                                     
 159:HW/SDCard/stm32_eval_sdio_sd.c ****   *          STM32 SDIO Pin assignment
 160:HW/SDCard/stm32_eval_sdio_sd.c ****   *          =========================    
 161:HW/SDCard/stm32_eval_sdio_sd.c ****   *          +-----------------------------------------------------------+
 162:HW/SDCard/stm32_eval_sdio_sd.c ****   *          |                     Pin assignment                        |
 163:HW/SDCard/stm32_eval_sdio_sd.c ****   *          +-----------------------------+---------------+-------------+
 164:HW/SDCard/stm32_eval_sdio_sd.c ****   *          |  STM32 SDIO Pins            |     SD        |    Pin      |
 165:HW/SDCard/stm32_eval_sdio_sd.c ****   *          +-----------------------------+---------------+-------------+
 166:HW/SDCard/stm32_eval_sdio_sd.c ****   *          |      SDIO D2                |   D2          |    1        |
 167:HW/SDCard/stm32_eval_sdio_sd.c ****   *          |      SDIO D3                |   D3          |    2        |
 168:HW/SDCard/stm32_eval_sdio_sd.c ****   *          |      SDIO CMD               |   CMD         |    3        |
 169:HW/SDCard/stm32_eval_sdio_sd.c ****   *          |                             |   VCC         |    4 (3.3 V)|
 170:HW/SDCard/stm32_eval_sdio_sd.c ****   *          |      SDIO CLK               |   CLK         |    5        |
 171:HW/SDCard/stm32_eval_sdio_sd.c ****   *          |                             |   GND         |    6 (0 V)  |
 172:HW/SDCard/stm32_eval_sdio_sd.c ****   *          |      SDIO D0                |   D0          |    7        |
 173:HW/SDCard/stm32_eval_sdio_sd.c ****   *          |      SDIO D1                |   D1          |    8        |  
 174:HW/SDCard/stm32_eval_sdio_sd.c ****   *          +-----------------------------+---------------+-------------+  
 175:HW/SDCard/stm32_eval_sdio_sd.c ****   *              
 176:HW/SDCard/stm32_eval_sdio_sd.c ****   *  @endverbatim                
 177:HW/SDCard/stm32_eval_sdio_sd.c ****   *             
 178:HW/SDCard/stm32_eval_sdio_sd.c ****   ******************************************************************************
 179:HW/SDCard/stm32_eval_sdio_sd.c ****   * @attention
 180:HW/SDCard/stm32_eval_sdio_sd.c ****   *
 181:HW/SDCard/stm32_eval_sdio_sd.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
 182:HW/SDCard/stm32_eval_sdio_sd.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
 183:HW/SDCard/stm32_eval_sdio_sd.c ****   * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
 184:HW/SDCard/stm32_eval_sdio_sd.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
 185:HW/SDCard/stm32_eval_sdio_sd.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
 186:HW/SDCard/stm32_eval_sdio_sd.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
 187:HW/SDCard/stm32_eval_sdio_sd.c ****   *
 188:HW/SDCard/stm32_eval_sdio_sd.c ****   * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
 189:HW/SDCard/stm32_eval_sdio_sd.c ****   ******************************************************************************  
 190:HW/SDCard/stm32_eval_sdio_sd.c ****   */ 
 191:HW/SDCard/stm32_eval_sdio_sd.c **** 
 192:HW/SDCard/stm32_eval_sdio_sd.c **** /* Includes ------------------------------------------------------------------*/
 193:HW/SDCard/stm32_eval_sdio_sd.c **** #include "stm32_eval_sdio_sd.h"
 194:HW/SDCard/stm32_eval_sdio_sd.c **** #include "SDCard_eval.h"
 195:HW/SDCard/stm32_eval_sdio_sd.c **** 
 196:HW/SDCard/stm32_eval_sdio_sd.c **** /** @addtogroup Utilities
 197:HW/SDCard/stm32_eval_sdio_sd.c ****   * @{
 198:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 199:HW/SDCard/stm32_eval_sdio_sd.c ****   
 200:HW/SDCard/stm32_eval_sdio_sd.c **** /** @addtogroup STM32_EVAL
 201:HW/SDCard/stm32_eval_sdio_sd.c ****   * @{
 202:HW/SDCard/stm32_eval_sdio_sd.c ****   */ 
 203:HW/SDCard/stm32_eval_sdio_sd.c **** 
 204:HW/SDCard/stm32_eval_sdio_sd.c **** /** @addtogroup Common
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 5


 205:HW/SDCard/stm32_eval_sdio_sd.c ****   * @{
 206:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 207:HW/SDCard/stm32_eval_sdio_sd.c ****   
 208:HW/SDCard/stm32_eval_sdio_sd.c **** /** @addtogroup STM32_EVAL_SDIO_SD
 209:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief      This file provides all the SD Card driver firmware functions.
 210:HW/SDCard/stm32_eval_sdio_sd.c ****   * @{
 211:HW/SDCard/stm32_eval_sdio_sd.c ****   */ 
 212:HW/SDCard/stm32_eval_sdio_sd.c **** 
 213:HW/SDCard/stm32_eval_sdio_sd.c **** /** @defgroup STM32_EVAL_SDIO_SD_Private_Types
 214:HW/SDCard/stm32_eval_sdio_sd.c ****   * @{
 215:HW/SDCard/stm32_eval_sdio_sd.c ****   */ 
 216:HW/SDCard/stm32_eval_sdio_sd.c **** /**
 217:HW/SDCard/stm32_eval_sdio_sd.c ****   * @}
 218:HW/SDCard/stm32_eval_sdio_sd.c ****   */ 
 219:HW/SDCard/stm32_eval_sdio_sd.c **** 
 220:HW/SDCard/stm32_eval_sdio_sd.c **** 
 221:HW/SDCard/stm32_eval_sdio_sd.c **** /** @defgroup STM32_EVAL_SDIO_SD_Private_Defines
 222:HW/SDCard/stm32_eval_sdio_sd.c ****   * @{
 223:HW/SDCard/stm32_eval_sdio_sd.c ****   */ 
 224:HW/SDCard/stm32_eval_sdio_sd.c **** /** 
 225:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  SDIO Static flags, TimeOut, FIFO Address  
 226:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 227:HW/SDCard/stm32_eval_sdio_sd.c **** #define NULL 0
 228:HW/SDCard/stm32_eval_sdio_sd.c **** #define SDIO_STATIC_FLAGS               ((uint32_t)0x000005FF)
 229:HW/SDCard/stm32_eval_sdio_sd.c **** #define SDIO_CMD0TIMEOUT                ((uint32_t)0x00010000)
 230:HW/SDCard/stm32_eval_sdio_sd.c **** 
 231:HW/SDCard/stm32_eval_sdio_sd.c **** /** 
 232:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Mask for errors Card Status R1 (OCR Register) 
 233:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 234:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_ADDR_OUT_OF_RANGE        ((uint32_t)0x80000000)
 235:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_ADDR_MISALIGNED          ((uint32_t)0x40000000)
 236:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_BLOCK_LEN_ERR            ((uint32_t)0x20000000)
 237:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_ERASE_SEQ_ERR            ((uint32_t)0x10000000)
 238:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_BAD_ERASE_PARAM          ((uint32_t)0x08000000)
 239:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_WRITE_PROT_VIOLATION     ((uint32_t)0x04000000)
 240:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_LOCK_UNLOCK_FAILED       ((uint32_t)0x01000000)
 241:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_COM_CRC_FAILED           ((uint32_t)0x00800000)
 242:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_ILLEGAL_CMD              ((uint32_t)0x00400000)
 243:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_CARD_ECC_FAILED          ((uint32_t)0x00200000)
 244:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_CC_ERROR                 ((uint32_t)0x00100000)
 245:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_GENERAL_UNKNOWN_ERROR    ((uint32_t)0x00080000)
 246:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_STREAM_READ_UNDERRUN     ((uint32_t)0x00040000)
 247:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_STREAM_WRITE_OVERRUN     ((uint32_t)0x00020000)
 248:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_CID_CSD_OVERWRIETE       ((uint32_t)0x00010000)
 249:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_WP_ERASE_SKIP            ((uint32_t)0x00008000)
 250:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_CARD_ECC_DISABLED        ((uint32_t)0x00004000)
 251:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_ERASE_RESET              ((uint32_t)0x00002000)
 252:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_AKE_SEQ_ERROR            ((uint32_t)0x00000008)
 253:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_OCR_ERRORBITS                ((uint32_t)0xFDFFE008)
 254:HW/SDCard/stm32_eval_sdio_sd.c **** 
 255:HW/SDCard/stm32_eval_sdio_sd.c **** /** 
 256:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Masks for R6 Response 
 257:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 258:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_R6_GENERAL_UNKNOWN_ERROR     ((uint32_t)0x00002000)
 259:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_R6_ILLEGAL_CMD               ((uint32_t)0x00004000)
 260:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_R6_COM_CRC_FAILED            ((uint32_t)0x00008000)
 261:HW/SDCard/stm32_eval_sdio_sd.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 6


 262:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_VOLTAGE_WINDOW_SD            ((uint32_t)0x80100000)
 263:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_HIGH_CAPACITY                ((uint32_t)0x40000000)
 264:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_STD_CAPACITY                 ((uint32_t)0x00000000)
 265:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_CHECK_PATTERN                ((uint32_t)0x000001AA)
 266:HW/SDCard/stm32_eval_sdio_sd.c **** 
 267:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_MAX_VOLT_TRIAL               ((uint32_t)0x0000FFFF)
 268:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_ALLZERO                      ((uint32_t)0x00000000)
 269:HW/SDCard/stm32_eval_sdio_sd.c **** 
 270:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_WIDE_BUS_SUPPORT             ((uint32_t)0x00040000)
 271:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_SINGLE_BUS_SUPPORT           ((uint32_t)0x00010000)
 272:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_CARD_LOCKED                  ((uint32_t)0x02000000)
 273:HW/SDCard/stm32_eval_sdio_sd.c **** 
 274:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_DATATIMEOUT                  ((uint32_t)0xFFFFFFFF)
 275:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_0TO7BITS                     ((uint32_t)0x000000FF)
 276:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_8TO15BITS                    ((uint32_t)0x0000FF00)
 277:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_16TO23BITS                   ((uint32_t)0x00FF0000)
 278:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_24TO31BITS                   ((uint32_t)0xFF000000)
 279:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_MAX_DATA_LENGTH              ((uint32_t)0x01FFFFFF)
 280:HW/SDCard/stm32_eval_sdio_sd.c **** 
 281:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_HALFFIFO                     ((uint32_t)0x00000008)
 282:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_HALFFIFOBYTES                ((uint32_t)0x00000020)
 283:HW/SDCard/stm32_eval_sdio_sd.c **** 
 284:HW/SDCard/stm32_eval_sdio_sd.c **** /** 
 285:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Command Class Supported 
 286:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 287:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_CCCC_LOCK_UNLOCK             ((uint32_t)0x00000080)
 288:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_CCCC_WRITE_PROT              ((uint32_t)0x00000040)
 289:HW/SDCard/stm32_eval_sdio_sd.c **** #define SD_CCCC_ERASE                   ((uint32_t)0x00000020)
 290:HW/SDCard/stm32_eval_sdio_sd.c **** 
 291:HW/SDCard/stm32_eval_sdio_sd.c **** /** 
 292:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Following commands are SD Card Specific commands.
 293:HW/SDCard/stm32_eval_sdio_sd.c ****   *         SDIO_APP_CMD should be sent before sending these commands. 
 294:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 295:HW/SDCard/stm32_eval_sdio_sd.c **** #define SDIO_SEND_IF_COND               ((uint32_t)0x00000008)
 296:HW/SDCard/stm32_eval_sdio_sd.c **** 
 297:HW/SDCard/stm32_eval_sdio_sd.c **** /**
 298:HW/SDCard/stm32_eval_sdio_sd.c ****   * @}
 299:HW/SDCard/stm32_eval_sdio_sd.c ****   */ 
 300:HW/SDCard/stm32_eval_sdio_sd.c **** 
 301:HW/SDCard/stm32_eval_sdio_sd.c **** 
 302:HW/SDCard/stm32_eval_sdio_sd.c **** /** @defgroup STM32_EVAL_SDIO_SD_Private_Macros
 303:HW/SDCard/stm32_eval_sdio_sd.c ****   * @{
 304:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 305:HW/SDCard/stm32_eval_sdio_sd.c **** /**
 306:HW/SDCard/stm32_eval_sdio_sd.c ****   * @}
 307:HW/SDCard/stm32_eval_sdio_sd.c ****   */ 
 308:HW/SDCard/stm32_eval_sdio_sd.c ****   
 309:HW/SDCard/stm32_eval_sdio_sd.c **** 
 310:HW/SDCard/stm32_eval_sdio_sd.c **** /** @defgroup STM32_EVAL_SDIO_SD_Private_Variables
 311:HW/SDCard/stm32_eval_sdio_sd.c ****   * @{
 312:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 313:HW/SDCard/stm32_eval_sdio_sd.c **** static uint32_t CardType =  SDIO_STD_CAPACITY_SD_CARD_V1_1;
 314:HW/SDCard/stm32_eval_sdio_sd.c **** static uint32_t CSD_Tab[4], CID_Tab[4], RCA = 0;
 315:HW/SDCard/stm32_eval_sdio_sd.c **** static uint8_t SDSTATUS_Tab[16];
 316:HW/SDCard/stm32_eval_sdio_sd.c **** __IO uint32_t StopCondition = 0;
 317:HW/SDCard/stm32_eval_sdio_sd.c **** __IO SD_Error TransferError = SD_OK;
 318:HW/SDCard/stm32_eval_sdio_sd.c **** __IO uint32_t TransferEnd = 0;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 7


 319:HW/SDCard/stm32_eval_sdio_sd.c **** SD_CardInfo SDCardInfo;
 320:HW/SDCard/stm32_eval_sdio_sd.c **** 
 321:HW/SDCard/stm32_eval_sdio_sd.c **** SDIO_InitTypeDef SDIO_InitStructure;
 322:HW/SDCard/stm32_eval_sdio_sd.c **** SDIO_CmdInitTypeDef SDIO_CmdInitStructure;
 323:HW/SDCard/stm32_eval_sdio_sd.c **** SDIO_DataInitTypeDef SDIO_DataInitStructure;   
 324:HW/SDCard/stm32_eval_sdio_sd.c **** /**
 325:HW/SDCard/stm32_eval_sdio_sd.c ****   * @}			     
 326:HW/SDCard/stm32_eval_sdio_sd.c ****   */ 
 327:HW/SDCard/stm32_eval_sdio_sd.c **** 
 328:HW/SDCard/stm32_eval_sdio_sd.c **** 
 329:HW/SDCard/stm32_eval_sdio_sd.c **** /** @defgroup STM32_EVAL_SDIO_SD_Private_Function_Prototypes
 330:HW/SDCard/stm32_eval_sdio_sd.c ****   * @{
 331:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 332:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error CmdError(void);
 333:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error CmdResp1Error(uint8_t cmd);
 334:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error CmdResp7Error(void);
 335:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error CmdResp3Error(void);
 336:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error CmdResp2Error(void);
 337:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error CmdResp6Error(uint8_t cmd, uint16_t *prca);
 338:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error SDEnWideBus(FunctionalState NewState);
 339:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error IsCardProgramming(uint8_t *pstatus);
 340:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error FindSCR(uint16_t rca, uint32_t *pscr);
 341:HW/SDCard/stm32_eval_sdio_sd.c **** uint8_t convert_from_bytes_to_power_of_two(uint16_t NumberOfBytes);
 342:HW/SDCard/stm32_eval_sdio_sd.c ****   
 343:HW/SDCard/stm32_eval_sdio_sd.c **** /**
 344:HW/SDCard/stm32_eval_sdio_sd.c ****   * @}
 345:HW/SDCard/stm32_eval_sdio_sd.c ****   */ 
 346:HW/SDCard/stm32_eval_sdio_sd.c **** 
 347:HW/SDCard/stm32_eval_sdio_sd.c **** 
 348:HW/SDCard/stm32_eval_sdio_sd.c **** /** @defgroup STM32_EVAL_SDIO_SD_Private_Functions
 349:HW/SDCard/stm32_eval_sdio_sd.c ****   * @{
 350:HW/SDCard/stm32_eval_sdio_sd.c ****   */  
 351:HW/SDCard/stm32_eval_sdio_sd.c **** 
 352:HW/SDCard/stm32_eval_sdio_sd.c **** /**
 353:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  DeInitializes the SDIO interface.
 354:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  None
 355:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval None
 356:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 357:HW/SDCard/stm32_eval_sdio_sd.c **** void SD_DeInit(void)
 358:HW/SDCard/stm32_eval_sdio_sd.c **** { 
 359:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_LowLevel_DeInit();
 360:HW/SDCard/stm32_eval_sdio_sd.c **** }
 361:HW/SDCard/stm32_eval_sdio_sd.c **** 
 362:HW/SDCard/stm32_eval_sdio_sd.c **** /**
 363:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Initializes the SD Card and put it into StandBy State (Ready for data 
 364:HW/SDCard/stm32_eval_sdio_sd.c ****   *         transfer).
 365:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  None
 366:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
 367:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 368:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_Init(void)
 369:HW/SDCard/stm32_eval_sdio_sd.c **** {
 370:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 371:HW/SDCard/stm32_eval_sdio_sd.c ****   
 372:HW/SDCard/stm32_eval_sdio_sd.c ****   /* SDIO Peripheral Low Level Init */
 373:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_LowLevel_Init();
 374:HW/SDCard/stm32_eval_sdio_sd.c **** 
 375:HW/SDCard/stm32_eval_sdio_sd.c ****   /* Â§ç‰ΩçSDIOÊâÄÊúâÂØÑÂ≠òÂô® */
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 8


 376:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DeInit();
 377:HW/SDCard/stm32_eval_sdio_sd.c **** 
 378:HW/SDCard/stm32_eval_sdio_sd.c ****   /* ‰∏äÁîµËØÜÂà´Èò∂ÊÆµÔºåËØÜÂà´ÂÆπÈáèÂûãÂè∑„ÄÅÊ£ÄÊü•ÁîµÂéãÊîØÊåÅ */
 379:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = SD_PowerON();
 380:HW/SDCard/stm32_eval_sdio_sd.c **** 
 381:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus != SD_OK)
 382:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 383:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< CMD Response TimeOut (wait for CMDSENT flag) */
 384:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 385:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 386:HW/SDCard/stm32_eval_sdio_sd.c **** 
 387:HW/SDCard/stm32_eval_sdio_sd.c ****   /* ÂàùÂßãÂåñÈò∂ÊÆµÔºåËØªSDÂç°ÁöÑCID„ÄÅRCA„ÄÅCSD‰ø°ÊÅØ */
 388:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = SD_InitializeCards();
 389:HW/SDCard/stm32_eval_sdio_sd.c **** 
 390:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus != SD_OK)
 391:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 392:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< CMD Response TimeOut (wait for CMDSENT flag) */
 393:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 394:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 395:HW/SDCard/stm32_eval_sdio_sd.c **** 
 396:HW/SDCard/stm32_eval_sdio_sd.c ****   /* Êï∞ÊçÆ‰º†ËæìÈò∂ÊÆµ */
 397:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Configure the SDIO peripheral */
 398:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< SDIOCLK = HCLK, SDIO_CK = HCLK/(2 + SDIO_TRANSFER_CLK_DIV) */
 399:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< on STM32F2xx devices, SDIOCLK is fixed to 48MHz */  
 400:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockDiv = SDIO_TRANSFER_CLK_DIV; 
 401:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 402:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
 403:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
 404:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_1b;
 405:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
 406:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_Init(&SDIO_InitStructure);
 407:HW/SDCard/stm32_eval_sdio_sd.c **** 
 408:HW/SDCard/stm32_eval_sdio_sd.c ****   /* Êñ∞Èò∂ÊÆµSDIOÈáçÊñ∞ÂàùÂßãÂåñ‰πãÂêéÔºåÈáçÊñ∞ËØªÂèñSDÂç°‰ø°ÊÅØ */
 409:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus == SD_OK)
 410:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 411:HW/SDCard/stm32_eval_sdio_sd.c ****     /*----------------- Read CSD/CID MSD registers ------------------*/
 412:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_GetCardInfo(&SDCardInfo);
 413:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 414:HW/SDCard/stm32_eval_sdio_sd.c **** 
 415:HW/SDCard/stm32_eval_sdio_sd.c ****   /* CMD7: ÈÄâ‰∏≠SDÂç° */
 416:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus == SD_OK)
 417:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 418:HW/SDCard/stm32_eval_sdio_sd.c ****     /*----------------- Select Card --------------------------------*/
 419:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_SelectDeselect((uint32_t) (SDCardInfo.RCA << 16));
 420:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 421:HW/SDCard/stm32_eval_sdio_sd.c **** 
 422:HW/SDCard/stm32_eval_sdio_sd.c ****   /* ÈáçÊñ∞ÂàùÂßãÂåñSDIOÁöÑÊï∞ÊçÆÁ∫ø‰∏∫4Ê†π */
 423:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus == SD_OK)
 424:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 425:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_EnableWideBusOperation(SDIO_BusWide_4b);
 426:HW/SDCard/stm32_eval_sdio_sd.c ****   }  
 427:HW/SDCard/stm32_eval_sdio_sd.c **** 
 428:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = SD_OK;
 429:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
 430:HW/SDCard/stm32_eval_sdio_sd.c **** }
 431:HW/SDCard/stm32_eval_sdio_sd.c **** 
 432:HW/SDCard/stm32_eval_sdio_sd.c **** /**
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 9


 433:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Gets the cuurent sd card data transfer status.
 434:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  None
 435:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SDTransferState: Data Transfer state.
 436:HW/SDCard/stm32_eval_sdio_sd.c ****   *   This value can be: 
 437:HW/SDCard/stm32_eval_sdio_sd.c ****   *        - SD_TRANSFER_OK: No data transfer is acting
 438:HW/SDCard/stm32_eval_sdio_sd.c ****   *        - SD_TRANSFER_BUSY: Data transfer is acting
 439:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 440:HW/SDCard/stm32_eval_sdio_sd.c **** SDTransferState SD_GetStatus(void)
 441:HW/SDCard/stm32_eval_sdio_sd.c **** {
 442:HW/SDCard/stm32_eval_sdio_sd.c ****   SDCardState cardstate =  SD_CARD_TRANSFER;
 443:HW/SDCard/stm32_eval_sdio_sd.c **** 
 444:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstate = SD_GetState();
 445:HW/SDCard/stm32_eval_sdio_sd.c ****   
 446:HW/SDCard/stm32_eval_sdio_sd.c ****   if (cardstate == SD_CARD_TRANSFER)
 447:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 448:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_TRANSFER_OK);
 449:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 450:HW/SDCard/stm32_eval_sdio_sd.c ****   else if(cardstate == SD_CARD_ERROR)
 451:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 452:HW/SDCard/stm32_eval_sdio_sd.c ****     return (SD_TRANSFER_ERROR);
 453:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 454:HW/SDCard/stm32_eval_sdio_sd.c ****   else
 455:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 456:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_TRANSFER_BUSY);
 457:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 458:HW/SDCard/stm32_eval_sdio_sd.c **** }
 459:HW/SDCard/stm32_eval_sdio_sd.c **** 
 460:HW/SDCard/stm32_eval_sdio_sd.c **** /**
 461:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Returns the current card's state.
 462:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  None
 463:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SDCardState: SD Card Error or SD Card Current State.
 464:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 465:HW/SDCard/stm32_eval_sdio_sd.c **** SDCardState SD_GetState(void)
 466:HW/SDCard/stm32_eval_sdio_sd.c **** {
 467:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t resp1 = 0;
 468:HW/SDCard/stm32_eval_sdio_sd.c ****   
 469:HW/SDCard/stm32_eval_sdio_sd.c ****   if(SD_Detect()== SD_PRESENT)
 470:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 471:HW/SDCard/stm32_eval_sdio_sd.c ****     if (SD_SendStatus(&resp1) != SD_OK)
 472:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 473:HW/SDCard/stm32_eval_sdio_sd.c ****       return SD_CARD_ERROR;
 474:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 475:HW/SDCard/stm32_eval_sdio_sd.c ****     else
 476:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 477:HW/SDCard/stm32_eval_sdio_sd.c ****       return (SDCardState)((resp1 >> 9) & 0x0F);
 478:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 479:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 480:HW/SDCard/stm32_eval_sdio_sd.c ****   else
 481:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 482:HW/SDCard/stm32_eval_sdio_sd.c ****     return SD_CARD_ERROR;
 483:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 484:HW/SDCard/stm32_eval_sdio_sd.c **** }
 485:HW/SDCard/stm32_eval_sdio_sd.c **** 
 486:HW/SDCard/stm32_eval_sdio_sd.c **** /**
 487:HW/SDCard/stm32_eval_sdio_sd.c ****  * @brief  Detect if SD card is correctly plugged in the memory slot.
 488:HW/SDCard/stm32_eval_sdio_sd.c ****  * @param  None
 489:HW/SDCard/stm32_eval_sdio_sd.c ****  * @retval Return if SD is detected or not
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 10


 490:HW/SDCard/stm32_eval_sdio_sd.c ****  */
 491:HW/SDCard/stm32_eval_sdio_sd.c **** uint8_t SD_Detect(void)
 492:HW/SDCard/stm32_eval_sdio_sd.c **** {
 493:HW/SDCard/stm32_eval_sdio_sd.c ****   __IO uint8_t status = SD_PRESENT;
 494:HW/SDCard/stm32_eval_sdio_sd.c **** 
 495:HW/SDCard/stm32_eval_sdio_sd.c ****   /* ‰øÆÊîπÔºöÊ≤°ÊúâÊé•SD_DETECTÁ∫øÔºåÁõ¥Êé•ËøîÂõû */
 496:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Check GPIO to detect SD */
 497:HW/SDCard/stm32_eval_sdio_sd.c ****   // if (GPIO_ReadInputDataBit(SD_DETECT_GPIO_PORT, SD_DETECT_PIN) != Bit_RESET)
 498:HW/SDCard/stm32_eval_sdio_sd.c ****   // {
 499:HW/SDCard/stm32_eval_sdio_sd.c ****   //   status = SD_NOT_PRESENT;
 500:HW/SDCard/stm32_eval_sdio_sd.c ****   // }
 501:HW/SDCard/stm32_eval_sdio_sd.c ****   return status;
 502:HW/SDCard/stm32_eval_sdio_sd.c **** }
 503:HW/SDCard/stm32_eval_sdio_sd.c **** 
 504:HW/SDCard/stm32_eval_sdio_sd.c **** /**
 505:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Enquires cards about their operating voltage and configures 
 506:HW/SDCard/stm32_eval_sdio_sd.c ****   *   clock controls.
 507:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  None
 508:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
 509:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 510:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_PowerON(void)
 511:HW/SDCard/stm32_eval_sdio_sd.c **** {
 512:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 513:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t response = 0, count = 0, validvoltage = 0;
 514:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t SDType = SD_STD_CAPACITY;
 515:HW/SDCard/stm32_eval_sdio_sd.c **** 
 516:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Power ON Sequence -----------------------------------------------------*/
 517:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Configure the SDIO peripheral */
 518:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< SDIOCLK = HCLK, SDIO_CK = HCLK/(2 + SDIO_INIT_CLK_DIV) */
 519:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< on STM32F2xx devices, SDIOCLK is fixed to 48MHz */
 520:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< SDIO_CK for initialization should not exceed 400 KHz */  
 521:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockDiv            = SDIO_INIT_CLK_DIV;                // SDIOÂàÜÈ¢ëÁ≥ªÊ
 522:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockEdge           = SDIO_ClockEdge_Rising;            // ‰∏äÂçáÊ≤øÊúâÊï
 523:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockBypass         = SDIO_ClockBypass_Disable;         // ÊòØÂê¶‰ΩøÁî®By
 524:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockPowerSave      = SDIO_ClockPowerSave_Disable;      // ÁúÅÁîµÊ®°ÂºèÔº
 525:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_BusWide             = SDIO_BusWide_1b;                  // Êï∞ÊçÆÁ∫øÊï∞Èá
 526:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable; // ÂÖ≥Èó≠Á°¨‰ª∂Êµ
 527:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_Init(&SDIO_InitStructure);
 528:HW/SDCard/stm32_eval_sdio_sd.c **** 
 529:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< ÂºÄÂêØSDIOÁöÑÁîµÊ∫ê */
 530:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SetPowerState(SDIO_PowerState_ON);
 531:HW/SDCard/stm32_eval_sdio_sd.c **** 
 532:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Enable SDIO Clock */
 533:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_ClockCmd(ENABLE);
 534:HW/SDCard/stm32_eval_sdio_sd.c **** 
 535:HW/SDCard/stm32_eval_sdio_sd.c ****   /* ÂèëÈÄÅCmd0ÂëΩ‰ª§ÔºöÂ§ç‰ΩçÊâÄÊúâSDÂç°ÔºåÊâÄÊúâSDÂç°ËøõÂÖ•Á©∫Èó≤Áä∂ÊÄÅ */
 536:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< CMD0: GO_IDLE_STATE ---------------------------------------------------*/
 537:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< No CMD response required */
 538:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument = 0x0;                    // ÂëΩ‰ª§ÂèÇÊï∞
 539:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_GO_IDLE_STATE;   // ÂëΩ‰ª§Âè∑
 540:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_No;       // ÂìçÂ∫îÁ±ªÂûã
 541:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait     = SDIO_Wait_No;           // ËÆæÁΩÆÁ≠âÂæÖÊ®°ÂºèÔºåÂç≥ SDIO_CM
 542:HW/SDCard/stm32_eval_sdio_sd.c ****                                                                 // ‰πà‰∫ã‰ª∂Ôºà‰∏ÄÂÖ±‰∏âÁßç‰∫ã‰ª∂Ôº
 543:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM     = SDIO_CPSM_Enable;       // CPSMÂú®ÂèëÈÄÅÂëΩ‰ª§ÂâçÁ≠âÂæÖ‰∏ä‰
 544:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 545:HW/SDCard/stm32_eval_sdio_sd.c **** 
 546:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdError();
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 11


 547:HW/SDCard/stm32_eval_sdio_sd.c **** 
 548:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus != SD_OK)
 549:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 550:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< CMD Response TimeOut (wait for CMDSENT flag) */
 551:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 552:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 553:HW/SDCard/stm32_eval_sdio_sd.c **** 
 554:HW/SDCard/stm32_eval_sdio_sd.c ****   /* ÂèëÈÄÅCmd8ÂëΩ‰ª§ÔºöËØ¢ÈóÆÁîµÊ∫êÁîµÂéãÊîØÊåÅËåÉÂõ¥ */
 555:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< CMD8: SEND_IF_COND ----------------------------------------------------*/
 556:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Send CMD8 to verify SD card interface operating condition */
 557:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Argument: - [31:12]: Reserved (shall be set to '0')
 558:HW/SDCard/stm32_eval_sdio_sd.c ****                - [11:8]: Supply Voltage (VHS) 0x1 (Range: 2.7-3.6 V)
 559:HW/SDCard/stm32_eval_sdio_sd.c ****                - [7:0]: Check Pattern (recommended 0xAA) */
 560:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< CMD Response: R7 */
 561:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument = SD_CHECK_PATTERN;
 562:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SDIO_SEND_IF_COND;
 563:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 564:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 565:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 566:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 567:HW/SDCard/stm32_eval_sdio_sd.c **** 
 568:HW/SDCard/stm32_eval_sdio_sd.c ****   /* Âà§Êñ≠R7ÂìçÂ∫î */
 569:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp7Error();
 570:HW/SDCard/stm32_eval_sdio_sd.c **** 
 571:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus == SD_OK) // Â¶ÇÊûúÊé•Êî∂Âà∞‰∫ÜÂìçÂ∫îÂàô‰∏ÄÂàáOK
 572:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 573:HW/SDCard/stm32_eval_sdio_sd.c ****     CardType = SDIO_STD_CAPACITY_SD_CARD_V2_0; /*!< SD Card 2.0 */
 574:HW/SDCard/stm32_eval_sdio_sd.c ****     SDType = SD_HIGH_CAPACITY;
 575:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 576:HW/SDCard/stm32_eval_sdio_sd.c ****   else                      // Â¶ÇÊûúÊ≤°Êé•Êî∂Âà∞ÂìçÂ∫îÔºåÂàôË°®Á§∫SDÂç°Èùû2.0ÊàñmmcÂç°ÔºåÊàñËÄÖÁîµ
 577:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 578:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< CMD55 */
 579:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Argument = 0x00;
 580:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 581:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 582:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 583:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 584:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 585:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
 586:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 587:HW/SDCard/stm32_eval_sdio_sd.c **** 
 588:HW/SDCard/stm32_eval_sdio_sd.c ****   /* ÂèëÈÄÅCmd55ÂëΩ‰ª§ÔºöACMDÂâçÁºÄ */
 589:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< CMD55 */
 590:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument = 0x00;
 591:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 592:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 593:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 594:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 595:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 596:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
 597:HW/SDCard/stm32_eval_sdio_sd.c **** 
 598:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< If errorstatus is Command TimeOut, it is a MMC card */
 599:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< If errorstatus is SD_OK it is a SD card: SD card 2.0 (voltage range mismatch)
 600:HW/SDCard/stm32_eval_sdio_sd.c ****      or SD card 1.x */
 601:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus == SD_OK)
 602:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 603:HW/SDCard/stm32_eval_sdio_sd.c ****     /* ÂèçÂ§çÂèëÈÄÅACMD41ÂëΩ‰ª§ÔºåÁõ¥Âà∞ËØªÂá∫validvoltageÊàñËÄÖË∂ÖËøáÊ¨°Êï∞‰∏äÈôê */
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 12


 604:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< SD CARD */
 605:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Send ACMD41 SD_APP_OP_COND with Argument 0x80100000 */
 606:HW/SDCard/stm32_eval_sdio_sd.c ****     while ((!validvoltage) && (count < SD_MAX_VOLT_TRIAL))
 607:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 608:HW/SDCard/stm32_eval_sdio_sd.c **** 
 609:HW/SDCard/stm32_eval_sdio_sd.c ****       /*!< SEND CMD55 APP_CMD with RCA as 0 */
 610:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Argument = 0x00;
 611:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 612:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 613:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 614:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 615:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 616:HW/SDCard/stm32_eval_sdio_sd.c **** 
 617:HW/SDCard/stm32_eval_sdio_sd.c ****       errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
 618:HW/SDCard/stm32_eval_sdio_sd.c **** 
 619:HW/SDCard/stm32_eval_sdio_sd.c ****       if (errorstatus != SD_OK)
 620:HW/SDCard/stm32_eval_sdio_sd.c ****       {
 621:HW/SDCard/stm32_eval_sdio_sd.c ****         return(errorstatus);
 622:HW/SDCard/stm32_eval_sdio_sd.c ****       }
 623:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Argument = SD_VOLTAGE_WINDOW_SD | SDType;
 624:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_OP_COND;
 625:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 626:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 627:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 628:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 629:HW/SDCard/stm32_eval_sdio_sd.c **** 
 630:HW/SDCard/stm32_eval_sdio_sd.c ****       errorstatus = CmdResp3Error();
 631:HW/SDCard/stm32_eval_sdio_sd.c ****       if (errorstatus != SD_OK)
 632:HW/SDCard/stm32_eval_sdio_sd.c ****       {
 633:HW/SDCard/stm32_eval_sdio_sd.c ****         return(errorstatus);
 634:HW/SDCard/stm32_eval_sdio_sd.c ****       }
 635:HW/SDCard/stm32_eval_sdio_sd.c **** 
 636:HW/SDCard/stm32_eval_sdio_sd.c ****       /* R3ÂìçÂ∫îÔºåÂìçÂ∫î‰∏≠ÂåÖÂê´SDÂç°ÁöÑOCRÂØÑÂ≠òÂô®ÂÄºÔºàOCRÂåÖÂê´ÁîµÂéãËåÉÂõ¥„ÄÅSDÂç°ÂÆπÈáèÂûã
 637:HW/SDCard/stm32_eval_sdio_sd.c ****       response = SDIO_GetResponse(SDIO_RESP1);
 638:HW/SDCard/stm32_eval_sdio_sd.c ****       validvoltage = (((response >> 31) == 1) ? 1 : 0);
 639:HW/SDCard/stm32_eval_sdio_sd.c ****       count++;
 640:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 641:HW/SDCard/stm32_eval_sdio_sd.c ****     /* Ê£ÄÊü•ACMD41ÂëΩ‰ª§ÊòØÂê¶ÂßãÁªàÊó†ÂìçÂ∫î */
 642:HW/SDCard/stm32_eval_sdio_sd.c ****     if (count >= SD_MAX_VOLT_TRIAL)
 643:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 644:HW/SDCard/stm32_eval_sdio_sd.c ****       errorstatus = SD_INVALID_VOLTRANGE;
 645:HW/SDCard/stm32_eval_sdio_sd.c ****       return(errorstatus);
 646:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 647:HW/SDCard/stm32_eval_sdio_sd.c **** 
 648:HW/SDCard/stm32_eval_sdio_sd.c ****     /* Âà§Êñ≠SDÂç°ÂÆπÈáèÂûãÂè∑ */
 649:HW/SDCard/stm32_eval_sdio_sd.c ****     if (response &= SD_HIGH_CAPACITY)
 650:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 651:HW/SDCard/stm32_eval_sdio_sd.c ****       CardType = SDIO_HIGH_CAPACITY_SD_CARD;
 652:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 653:HW/SDCard/stm32_eval_sdio_sd.c **** 
 654:HW/SDCard/stm32_eval_sdio_sd.c ****   }/*!< else MMC Card */
 655:HW/SDCard/stm32_eval_sdio_sd.c **** 
 656:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
 657:HW/SDCard/stm32_eval_sdio_sd.c **** }
 658:HW/SDCard/stm32_eval_sdio_sd.c **** 
 659:HW/SDCard/stm32_eval_sdio_sd.c **** /**
 660:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Turns the SDIO output signals off.
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 13


 661:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  None
 662:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
 663:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 664:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_PowerOFF(void)
 665:HW/SDCard/stm32_eval_sdio_sd.c **** {
 666:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 667:HW/SDCard/stm32_eval_sdio_sd.c **** 
 668:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Set Power State to OFF */
 669:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SetPowerState(SDIO_PowerState_OFF);
 670:HW/SDCard/stm32_eval_sdio_sd.c **** 
 671:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
 672:HW/SDCard/stm32_eval_sdio_sd.c **** }
 673:HW/SDCard/stm32_eval_sdio_sd.c **** 
 674:HW/SDCard/stm32_eval_sdio_sd.c **** /**
 675:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Intialises all cards or single card as the case may be Card(s) come 
 676:HW/SDCard/stm32_eval_sdio_sd.c ****   *         into standby state.
 677:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  None
 678:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
 679:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 680:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_InitializeCards(void)
 681:HW/SDCard/stm32_eval_sdio_sd.c **** {
 682:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 683:HW/SDCard/stm32_eval_sdio_sd.c ****   uint16_t rca = 0x01;
 684:HW/SDCard/stm32_eval_sdio_sd.c **** 
 685:HW/SDCard/stm32_eval_sdio_sd.c ****   if (SDIO_GetPowerState() == SDIO_PowerState_OFF)
 686:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 687:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_REQUEST_NOT_APPLICABLE;
 688:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 689:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 690:HW/SDCard/stm32_eval_sdio_sd.c **** 
 691:HW/SDCard/stm32_eval_sdio_sd.c ****   if (SDIO_SECURE_DIGITAL_IO_CARD != CardType)
 692:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 693:HW/SDCard/stm32_eval_sdio_sd.c ****     /* ËØªÂèñSDÂç°ÁöÑCID */
 694:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Send CMD2 ALL_SEND_CID */
 695:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Argument = 0x0;
 696:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_ALL_SEND_CID;
 697:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Long;
 698:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 699:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 700:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 701:HW/SDCard/stm32_eval_sdio_sd.c **** 
 702:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = CmdResp2Error();
 703:HW/SDCard/stm32_eval_sdio_sd.c **** 
 704:HW/SDCard/stm32_eval_sdio_sd.c ****     if (SD_OK != errorstatus)
 705:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 706:HW/SDCard/stm32_eval_sdio_sd.c ****       return(errorstatus);
 707:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 708:HW/SDCard/stm32_eval_sdio_sd.c **** 
 709:HW/SDCard/stm32_eval_sdio_sd.c ****     CID_Tab[0] = SDIO_GetResponse(SDIO_RESP1);
 710:HW/SDCard/stm32_eval_sdio_sd.c ****     CID_Tab[1] = SDIO_GetResponse(SDIO_RESP2);
 711:HW/SDCard/stm32_eval_sdio_sd.c ****     CID_Tab[2] = SDIO_GetResponse(SDIO_RESP3);
 712:HW/SDCard/stm32_eval_sdio_sd.c ****     CID_Tab[3] = SDIO_GetResponse(SDIO_RESP4);
 713:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 714:HW/SDCard/stm32_eval_sdio_sd.c ****   if ((SDIO_STD_CAPACITY_SD_CARD_V1_1 == CardType) ||  (SDIO_STD_CAPACITY_SD_CARD_V2_0 == CardType)
 715:HW/SDCard/stm32_eval_sdio_sd.c ****       ||  (SDIO_HIGH_CAPACITY_SD_CARD == CardType))
 716:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 717:HW/SDCard/stm32_eval_sdio_sd.c ****     /* ËØªÂèñSDÂç°ÁöÑRCAÁõ∏ÂØπÂú∞ÂùÄ */
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 14


 718:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Send CMD3 SET_REL_ADDR with argument 0 */
 719:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< SD Card publishes its RCA. */
 720:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Argument = 0x00;
 721:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_REL_ADDR;
 722:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 723:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 724:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 725:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 726:HW/SDCard/stm32_eval_sdio_sd.c **** 
 727:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = CmdResp6Error(SD_CMD_SET_REL_ADDR, &rca);
 728:HW/SDCard/stm32_eval_sdio_sd.c **** 
 729:HW/SDCard/stm32_eval_sdio_sd.c ****     if (SD_OK != errorstatus)
 730:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 731:HW/SDCard/stm32_eval_sdio_sd.c ****       return(errorstatus);
 732:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 733:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 734:HW/SDCard/stm32_eval_sdio_sd.c **** 
 735:HW/SDCard/stm32_eval_sdio_sd.c ****   if (SDIO_SECURE_DIGITAL_IO_CARD != CardType)
 736:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 737:HW/SDCard/stm32_eval_sdio_sd.c ****     RCA = rca;
 738:HW/SDCard/stm32_eval_sdio_sd.c ****     /* ËØªÂèñSDÂç°ÁöÑCSDÂØÑÂ≠òÂô®ÔºàCSD‰∏≠‰øùÂ≠òÁùÄSDÂç°ÁöÑÁ°¨‰ª∂‰ø°ÊÅØÔºâ */
 739:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Send CMD9 SEND_CSD with argument as card's RCA */
 740:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Argument = (uint32_t)(rca << 16);
 741:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SEND_CSD;
 742:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Long;
 743:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 744:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 745:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 746:HW/SDCard/stm32_eval_sdio_sd.c **** 
 747:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = CmdResp2Error();
 748:HW/SDCard/stm32_eval_sdio_sd.c **** 
 749:HW/SDCard/stm32_eval_sdio_sd.c ****     if (SD_OK != errorstatus)
 750:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 751:HW/SDCard/stm32_eval_sdio_sd.c ****       return(errorstatus);
 752:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 753:HW/SDCard/stm32_eval_sdio_sd.c **** 
 754:HW/SDCard/stm32_eval_sdio_sd.c ****     CSD_Tab[0] = SDIO_GetResponse(SDIO_RESP1);
 755:HW/SDCard/stm32_eval_sdio_sd.c ****     CSD_Tab[1] = SDIO_GetResponse(SDIO_RESP2);
 756:HW/SDCard/stm32_eval_sdio_sd.c ****     CSD_Tab[2] = SDIO_GetResponse(SDIO_RESP3);
 757:HW/SDCard/stm32_eval_sdio_sd.c ****     CSD_Tab[3] = SDIO_GetResponse(SDIO_RESP4);
 758:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 759:HW/SDCard/stm32_eval_sdio_sd.c **** 
 760:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = SD_OK; /*!< All cards get intialized */
 761:HW/SDCard/stm32_eval_sdio_sd.c **** 
 762:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
 763:HW/SDCard/stm32_eval_sdio_sd.c **** }
 764:HW/SDCard/stm32_eval_sdio_sd.c **** 
 765:HW/SDCard/stm32_eval_sdio_sd.c **** /**
 766:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Returns information about specific card.
 767:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  cardinfo: pointer to a SD_CardInfo structure that contains all SD card 
 768:HW/SDCard/stm32_eval_sdio_sd.c ****   *         information.
 769:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
 770:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 771:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_GetCardInfo(SD_CardInfo *cardinfo)
 772:HW/SDCard/stm32_eval_sdio_sd.c **** {
 773:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 774:HW/SDCard/stm32_eval_sdio_sd.c ****   uint8_t tmp = 0;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 15


 775:HW/SDCard/stm32_eval_sdio_sd.c **** 
 776:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->CardType = (uint8_t)CardType;
 777:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->RCA = (uint16_t)RCA;
 778:HW/SDCard/stm32_eval_sdio_sd.c **** 
 779:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 0 */
 780:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CSD_Tab[0] & 0xFF000000) >> 24);
 781:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.CSDStruct = (tmp & 0xC0) >> 6;
 782:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.SysSpecVersion = (tmp & 0x3C) >> 2;
 783:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.Reserved1 = tmp & 0x03;
 784:HW/SDCard/stm32_eval_sdio_sd.c **** 
 785:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 1 */
 786:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CSD_Tab[0] & 0x00FF0000) >> 16);
 787:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.TAAC = tmp;
 788:HW/SDCard/stm32_eval_sdio_sd.c **** 
 789:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 2 */
 790:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CSD_Tab[0] & 0x0000FF00) >> 8);
 791:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.NSAC = tmp;
 792:HW/SDCard/stm32_eval_sdio_sd.c **** 
 793:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 3 */
 794:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)(CSD_Tab[0] & 0x000000FF);
 795:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.MaxBusClkFrec = tmp;
 796:HW/SDCard/stm32_eval_sdio_sd.c **** 
 797:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 4 */
 798:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CSD_Tab[1] & 0xFF000000) >> 24);
 799:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.CardComdClasses = tmp << 4;
 800:HW/SDCard/stm32_eval_sdio_sd.c **** 
 801:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 5 */
 802:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CSD_Tab[1] & 0x00FF0000) >> 16);
 803:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.CardComdClasses |= (tmp & 0xF0) >> 4;
 804:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.RdBlockLen = tmp & 0x0F;
 805:HW/SDCard/stm32_eval_sdio_sd.c **** 
 806:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 6 */
 807:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CSD_Tab[1] & 0x0000FF00) >> 8);
 808:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.PartBlockRead = (tmp & 0x80) >> 7;
 809:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WrBlockMisalign = (tmp & 0x40) >> 6;
 810:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.RdBlockMisalign = (tmp & 0x20) >> 5;
 811:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.DSRImpl = (tmp & 0x10) >> 4;
 812:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.Reserved2 = 0; /*!< Reserved */
 813:HW/SDCard/stm32_eval_sdio_sd.c **** 
 814:HW/SDCard/stm32_eval_sdio_sd.c ****   if ((CardType == SDIO_STD_CAPACITY_SD_CARD_V1_1) || (CardType == SDIO_STD_CAPACITY_SD_CARD_V2_0))
 815:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 816:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.DeviceSize = (tmp & 0x03) << 10;
 817:HW/SDCard/stm32_eval_sdio_sd.c **** 
 818:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Byte 7 */
 819:HW/SDCard/stm32_eval_sdio_sd.c ****     tmp = (uint8_t)(CSD_Tab[1] & 0x000000FF);
 820:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.DeviceSize |= (tmp) << 2;
 821:HW/SDCard/stm32_eval_sdio_sd.c **** 
 822:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Byte 8 */
 823:HW/SDCard/stm32_eval_sdio_sd.c ****     tmp = (uint8_t)((CSD_Tab[2] & 0xFF000000) >> 24);
 824:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.DeviceSize |= (tmp & 0xC0) >> 6;
 825:HW/SDCard/stm32_eval_sdio_sd.c **** 
 826:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.MaxRdCurrentVDDMin = (tmp & 0x38) >> 3;
 827:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.MaxRdCurrentVDDMax = (tmp & 0x07);
 828:HW/SDCard/stm32_eval_sdio_sd.c **** 
 829:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Byte 9 */
 830:HW/SDCard/stm32_eval_sdio_sd.c ****     tmp = (uint8_t)((CSD_Tab[2] & 0x00FF0000) >> 16);
 831:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.MaxWrCurrentVDDMin = (tmp & 0xE0) >> 5;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 16


 832:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.MaxWrCurrentVDDMax = (tmp & 0x1C) >> 2;
 833:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.DeviceSizeMul = (tmp & 0x03) << 1;
 834:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Byte 10 */
 835:HW/SDCard/stm32_eval_sdio_sd.c ****     tmp = (uint8_t)((CSD_Tab[2] & 0x0000FF00) >> 8);
 836:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.DeviceSizeMul |= (tmp & 0x80) >> 7;
 837:HW/SDCard/stm32_eval_sdio_sd.c ****     
 838:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardCapacity = (cardinfo->SD_csd.DeviceSize + 1) ;
 839:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardCapacity *= (1 << (cardinfo->SD_csd.DeviceSizeMul + 2));
 840:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardBlockSize = 1 << (cardinfo->SD_csd.RdBlockLen);
 841:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardCapacity *= cardinfo->CardBlockSize;
 842:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 843:HW/SDCard/stm32_eval_sdio_sd.c ****   else if (CardType == SDIO_HIGH_CAPACITY_SD_CARD)
 844:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 845:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Byte 7 */
 846:HW/SDCard/stm32_eval_sdio_sd.c ****     tmp = (uint8_t)(CSD_Tab[1] & 0x000000FF);
 847:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.DeviceSize = (tmp & 0x3F) << 16;
 848:HW/SDCard/stm32_eval_sdio_sd.c **** 
 849:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Byte 8 */
 850:HW/SDCard/stm32_eval_sdio_sd.c ****     tmp = (uint8_t)((CSD_Tab[2] & 0xFF000000) >> 24);
 851:HW/SDCard/stm32_eval_sdio_sd.c **** 
 852:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.DeviceSize |= (tmp << 8);
 853:HW/SDCard/stm32_eval_sdio_sd.c **** 
 854:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Byte 9 */
 855:HW/SDCard/stm32_eval_sdio_sd.c ****     tmp = (uint8_t)((CSD_Tab[2] & 0x00FF0000) >> 16);
 856:HW/SDCard/stm32_eval_sdio_sd.c **** 
 857:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.DeviceSize |= (tmp);
 858:HW/SDCard/stm32_eval_sdio_sd.c **** 
 859:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Byte 10 */
 860:HW/SDCard/stm32_eval_sdio_sd.c ****     tmp = (uint8_t)((CSD_Tab[2] & 0x0000FF00) >> 8);
 861:HW/SDCard/stm32_eval_sdio_sd.c ****     
 862:HW/SDCard/stm32_eval_sdio_sd.c ****     /* ‰øÆÊîπÔºöËΩ¨Êç¢‰∏∫64‰ΩçÔºå‰ª•ÂÖºÂÆπÂ§ßÂÆπÈáèÂç° */
 863:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardCapacity = ((uint64_t)cardinfo->SD_csd.DeviceSize + 1) * 512 * 1024;
 864:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardBlockSize = 512;
 865:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 866:HW/SDCard/stm32_eval_sdio_sd.c **** 
 867:HW/SDCard/stm32_eval_sdio_sd.c **** 
 868:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.EraseGrSize = (tmp & 0x40) >> 6;
 869:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.EraseGrMul = (tmp & 0x3F) << 1;
 870:HW/SDCard/stm32_eval_sdio_sd.c **** 
 871:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 11 */
 872:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)(CSD_Tab[2] & 0x000000FF);
 873:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.EraseGrMul |= (tmp & 0x80) >> 7;
 874:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WrProtectGrSize = (tmp & 0x7F);
 875:HW/SDCard/stm32_eval_sdio_sd.c **** 
 876:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 12 */
 877:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CSD_Tab[3] & 0xFF000000) >> 24);
 878:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WrProtectGrEnable = (tmp & 0x80) >> 7;
 879:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.ManDeflECC = (tmp & 0x60) >> 5;
 880:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WrSpeedFact = (tmp & 0x1C) >> 2;
 881:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.MaxWrBlockLen = (tmp & 0x03) << 2;
 882:HW/SDCard/stm32_eval_sdio_sd.c **** 
 883:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 13 */
 884:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CSD_Tab[3] & 0x00FF0000) >> 16);
 885:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.MaxWrBlockLen |= (tmp & 0xC0) >> 6;
 886:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20) >> 5;
 887:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.Reserved3 = 0;
 888:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.ContentProtectAppli = (tmp & 0x01);
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 17


 889:HW/SDCard/stm32_eval_sdio_sd.c **** 
 890:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 14 */
 891:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CSD_Tab[3] & 0x0000FF00) >> 8);
 892:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.FileFormatGrouop = (tmp & 0x80) >> 7;
 893:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.CopyFlag = (tmp & 0x40) >> 6;
 894:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.PermWrProtect = (tmp & 0x20) >> 5;
 895:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.TempWrProtect = (tmp & 0x10) >> 4;
 896:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.FileFormat = (tmp & 0x0C) >> 2;
 897:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.ECC = (tmp & 0x03);
 898:HW/SDCard/stm32_eval_sdio_sd.c **** 
 899:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 15 */
 900:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)(CSD_Tab[3] & 0x000000FF);
 901:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.CSD_CRC = (tmp & 0xFE) >> 1;
 902:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.Reserved4 = 1;
 903:HW/SDCard/stm32_eval_sdio_sd.c **** 
 904:HW/SDCard/stm32_eval_sdio_sd.c **** 
 905:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 0 */
 906:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CID_Tab[0] & 0xFF000000) >> 24);
 907:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ManufacturerID = tmp;
 908:HW/SDCard/stm32_eval_sdio_sd.c **** 
 909:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 1 */
 910:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CID_Tab[0] & 0x00FF0000) >> 16);
 911:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.OEM_AppliID = tmp << 8;
 912:HW/SDCard/stm32_eval_sdio_sd.c **** 
 913:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 2 */
 914:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CID_Tab[0] & 0x000000FF00) >> 8);
 915:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.OEM_AppliID |= tmp;
 916:HW/SDCard/stm32_eval_sdio_sd.c **** 
 917:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 3 */
 918:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)(CID_Tab[0] & 0x000000FF);
 919:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdName1 = tmp << 24;
 920:HW/SDCard/stm32_eval_sdio_sd.c **** 
 921:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 4 */
 922:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CID_Tab[1] & 0xFF000000) >> 24);
 923:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdName1 |= tmp << 16;
 924:HW/SDCard/stm32_eval_sdio_sd.c **** 
 925:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 5 */
 926:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CID_Tab[1] & 0x00FF0000) >> 16);
 927:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdName1 |= tmp << 8;
 928:HW/SDCard/stm32_eval_sdio_sd.c **** 
 929:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 6 */
 930:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CID_Tab[1] & 0x0000FF00) >> 8);
 931:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdName1 |= tmp;
 932:HW/SDCard/stm32_eval_sdio_sd.c **** 
 933:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 7 */
 934:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)(CID_Tab[1] & 0x000000FF);
 935:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdName2 = tmp;
 936:HW/SDCard/stm32_eval_sdio_sd.c **** 
 937:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 8 */
 938:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CID_Tab[2] & 0xFF000000) >> 24);
 939:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdRev = tmp;
 940:HW/SDCard/stm32_eval_sdio_sd.c **** 
 941:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 9 */
 942:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CID_Tab[2] & 0x00FF0000) >> 16);
 943:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdSN = tmp << 24;
 944:HW/SDCard/stm32_eval_sdio_sd.c **** 
 945:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 10 */
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 18


 946:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CID_Tab[2] & 0x0000FF00) >> 8);
 947:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdSN |= tmp << 16;
 948:HW/SDCard/stm32_eval_sdio_sd.c **** 
 949:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 11 */
 950:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)(CID_Tab[2] & 0x000000FF);
 951:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdSN |= tmp << 8;
 952:HW/SDCard/stm32_eval_sdio_sd.c **** 
 953:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 12 */
 954:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CID_Tab[3] & 0xFF000000) >> 24);
 955:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdSN |= tmp;
 956:HW/SDCard/stm32_eval_sdio_sd.c **** 
 957:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 13 */
 958:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CID_Tab[3] & 0x00FF0000) >> 16);
 959:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.Reserved1 |= (tmp & 0xF0) >> 4;
 960:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ManufactDate = (tmp & 0x0F) << 8;
 961:HW/SDCard/stm32_eval_sdio_sd.c **** 
 962:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 14 */
 963:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((CID_Tab[3] & 0x0000FF00) >> 8);
 964:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ManufactDate |= tmp;
 965:HW/SDCard/stm32_eval_sdio_sd.c **** 
 966:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 15 */
 967:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)(CID_Tab[3] & 0x000000FF);
 968:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.CID_CRC = (tmp & 0xFE) >> 1;
 969:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.Reserved2 = 1;
 970:HW/SDCard/stm32_eval_sdio_sd.c ****   
 971:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
 972:HW/SDCard/stm32_eval_sdio_sd.c **** }
 973:HW/SDCard/stm32_eval_sdio_sd.c **** 
 974:HW/SDCard/stm32_eval_sdio_sd.c **** /**
 975:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Enables wide bus opeartion for the requeseted card if supported by 
 976:HW/SDCard/stm32_eval_sdio_sd.c ****   *         card.
 977:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  WideMode: Specifies the SD card wide bus mode. 
 978:HW/SDCard/stm32_eval_sdio_sd.c ****   *   This parameter can be one of the following values:
 979:HW/SDCard/stm32_eval_sdio_sd.c ****   *     @arg SDIO_BusWide_8b: 8-bit data transfer (Only for MMC)
 980:HW/SDCard/stm32_eval_sdio_sd.c ****   *     @arg SDIO_BusWide_4b: 4-bit data transfer
 981:HW/SDCard/stm32_eval_sdio_sd.c ****   *     @arg SDIO_BusWide_1b: 1-bit data transfer
 982:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
 983:HW/SDCard/stm32_eval_sdio_sd.c ****   */
 984:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_GetCardStatus(SD_CardStatus *cardstatus)
 985:HW/SDCard/stm32_eval_sdio_sd.c **** {
 986:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 987:HW/SDCard/stm32_eval_sdio_sd.c ****   uint8_t tmp = 0;
 988:HW/SDCard/stm32_eval_sdio_sd.c **** 
 989:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = SD_SendSDStatus((uint32_t *)SDSTATUS_Tab);
 990:HW/SDCard/stm32_eval_sdio_sd.c **** 
 991:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus  != SD_OK)
 992:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 993:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 994:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 995:HW/SDCard/stm32_eval_sdio_sd.c **** 
 996:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 0 */
 997:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((SDSTATUS_Tab[0] & 0xC0) >> 6);
 998:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->DAT_BUS_WIDTH = tmp;
 999:HW/SDCard/stm32_eval_sdio_sd.c **** 
1000:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 0 */
1001:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((SDSTATUS_Tab[0] & 0x20) >> 5);
1002:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SECURED_MODE = tmp;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 19


1003:HW/SDCard/stm32_eval_sdio_sd.c **** 
1004:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 2 */
1005:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((SDSTATUS_Tab[2] & 0xFF));
1006:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SD_CARD_TYPE = tmp << 8;
1007:HW/SDCard/stm32_eval_sdio_sd.c **** 
1008:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 3 */
1009:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((SDSTATUS_Tab[3] & 0xFF));
1010:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SD_CARD_TYPE |= tmp;
1011:HW/SDCard/stm32_eval_sdio_sd.c **** 
1012:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 4 */
1013:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)(SDSTATUS_Tab[4] & 0xFF);
1014:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SIZE_OF_PROTECTED_AREA = tmp << 24;
1015:HW/SDCard/stm32_eval_sdio_sd.c **** 
1016:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 5 */
1017:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)(SDSTATUS_Tab[5] & 0xFF);
1018:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp << 16;
1019:HW/SDCard/stm32_eval_sdio_sd.c **** 
1020:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 6 */
1021:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)(SDSTATUS_Tab[6] & 0xFF);
1022:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp << 8;
1023:HW/SDCard/stm32_eval_sdio_sd.c **** 
1024:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 7 */
1025:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)(SDSTATUS_Tab[7] & 0xFF);
1026:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp;
1027:HW/SDCard/stm32_eval_sdio_sd.c **** 
1028:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 8 */
1029:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((SDSTATUS_Tab[8] & 0xFF));
1030:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SPEED_CLASS = tmp;
1031:HW/SDCard/stm32_eval_sdio_sd.c **** 
1032:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 9 */
1033:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((SDSTATUS_Tab[9] & 0xFF));
1034:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->PERFORMANCE_MOVE = tmp;
1035:HW/SDCard/stm32_eval_sdio_sd.c **** 
1036:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 10 */
1037:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((SDSTATUS_Tab[10] & 0xF0) >> 4);
1038:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->AU_SIZE = tmp;
1039:HW/SDCard/stm32_eval_sdio_sd.c **** 
1040:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 11 */
1041:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)(SDSTATUS_Tab[11] & 0xFF);
1042:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->ERASE_SIZE = tmp << 8;
1043:HW/SDCard/stm32_eval_sdio_sd.c **** 
1044:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 12 */
1045:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)(SDSTATUS_Tab[12] & 0xFF);
1046:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->ERASE_SIZE |= tmp;
1047:HW/SDCard/stm32_eval_sdio_sd.c **** 
1048:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 13 */
1049:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((SDSTATUS_Tab[13] & 0xFC) >> 2);
1050:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->ERASE_TIMEOUT = tmp;
1051:HW/SDCard/stm32_eval_sdio_sd.c **** 
1052:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Byte 13 */
1053:HW/SDCard/stm32_eval_sdio_sd.c ****   tmp = (uint8_t)((SDSTATUS_Tab[13] & 0x3));
1054:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->ERASE_OFFSET = tmp;
1055:HW/SDCard/stm32_eval_sdio_sd.c ****  
1056:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
1057:HW/SDCard/stm32_eval_sdio_sd.c **** }
1058:HW/SDCard/stm32_eval_sdio_sd.c **** 
1059:HW/SDCard/stm32_eval_sdio_sd.c **** /**
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 20


1060:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Enables wide bus opeartion for the requeseted card if supported by 
1061:HW/SDCard/stm32_eval_sdio_sd.c ****   *         card.
1062:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  WideMode: Specifies the SD card wide bus mode. 
1063:HW/SDCard/stm32_eval_sdio_sd.c ****   *   This parameter can be one of the following values:
1064:HW/SDCard/stm32_eval_sdio_sd.c ****   *     @arg SDIO_BusWide_8b: 8-bit data transfer (Only for MMC)
1065:HW/SDCard/stm32_eval_sdio_sd.c ****   *     @arg SDIO_BusWide_4b: 4-bit data transfer
1066:HW/SDCard/stm32_eval_sdio_sd.c ****   *     @arg SDIO_BusWide_1b: 1-bit data transfer
1067:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
1068:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1069:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_EnableWideBusOperation(uint32_t WideMode)
1070:HW/SDCard/stm32_eval_sdio_sd.c **** {
1071:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
1072:HW/SDCard/stm32_eval_sdio_sd.c **** 
1073:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< MMC Card doesn't support this feature */
1074:HW/SDCard/stm32_eval_sdio_sd.c ****   if (SDIO_MULTIMEDIA_CARD == CardType)
1075:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1076:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_UNSUPPORTED_FEATURE;
1077:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1078:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1079:HW/SDCard/stm32_eval_sdio_sd.c ****   else if ((SDIO_STD_CAPACITY_SD_CARD_V1_1 == CardType) || (SDIO_STD_CAPACITY_SD_CARD_V2_0 == CardT
1080:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1081:HW/SDCard/stm32_eval_sdio_sd.c ****     if (SDIO_BusWide_8b == WideMode)
1082:HW/SDCard/stm32_eval_sdio_sd.c ****     {
1083:HW/SDCard/stm32_eval_sdio_sd.c ****       errorstatus = SD_UNSUPPORTED_FEATURE;
1084:HW/SDCard/stm32_eval_sdio_sd.c ****       return(errorstatus);
1085:HW/SDCard/stm32_eval_sdio_sd.c ****     }
1086:HW/SDCard/stm32_eval_sdio_sd.c ****     else if (SDIO_BusWide_4b == WideMode)
1087:HW/SDCard/stm32_eval_sdio_sd.c ****     {
1088:HW/SDCard/stm32_eval_sdio_sd.c ****       errorstatus = SDEnWideBus(ENABLE);
1089:HW/SDCard/stm32_eval_sdio_sd.c **** 
1090:HW/SDCard/stm32_eval_sdio_sd.c ****       if (SD_OK == errorstatus)
1091:HW/SDCard/stm32_eval_sdio_sd.c ****       {
1092:HW/SDCard/stm32_eval_sdio_sd.c ****         /*!< Configure the SDIO peripheral */
1093:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockDiv = SDIO_TRANSFER_CLK_DIV; 
1094:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
1095:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
1096:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
1097:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_4b;
1098:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
1099:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_Init(&SDIO_InitStructure);
1100:HW/SDCard/stm32_eval_sdio_sd.c ****       }
1101:HW/SDCard/stm32_eval_sdio_sd.c ****     }
1102:HW/SDCard/stm32_eval_sdio_sd.c ****     else
1103:HW/SDCard/stm32_eval_sdio_sd.c ****     {
1104:HW/SDCard/stm32_eval_sdio_sd.c ****       errorstatus = SDEnWideBus(DISABLE);
1105:HW/SDCard/stm32_eval_sdio_sd.c **** 
1106:HW/SDCard/stm32_eval_sdio_sd.c ****       if (SD_OK == errorstatus)
1107:HW/SDCard/stm32_eval_sdio_sd.c ****       {
1108:HW/SDCard/stm32_eval_sdio_sd.c ****         /*!< Configure the SDIO peripheral */
1109:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockDiv = SDIO_TRANSFER_CLK_DIV; 
1110:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
1111:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
1112:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
1113:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_1b;
1114:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
1115:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_Init(&SDIO_InitStructure);
1116:HW/SDCard/stm32_eval_sdio_sd.c ****       }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 21


1117:HW/SDCard/stm32_eval_sdio_sd.c ****     }
1118:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1119:HW/SDCard/stm32_eval_sdio_sd.c **** 
1120:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
1121:HW/SDCard/stm32_eval_sdio_sd.c **** }
1122:HW/SDCard/stm32_eval_sdio_sd.c **** 
1123:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1124:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Selects od Deselects the corresponding card.
1125:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  addr: Address of the Card to be selected.
1126:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
1127:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1128:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_SelectDeselect(uint32_t addr)
1129:HW/SDCard/stm32_eval_sdio_sd.c **** {
1130:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
1131:HW/SDCard/stm32_eval_sdio_sd.c **** 
1132:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Send CMD7 SDIO_SEL_DESEL_CARD */
1133:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument =  addr;
1134:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SEL_DESEL_CARD;
1135:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1136:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1137:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1138:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1139:HW/SDCard/stm32_eval_sdio_sd.c **** 
1140:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_SEL_DESEL_CARD);
1141:HW/SDCard/stm32_eval_sdio_sd.c **** 
1142:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
1143:HW/SDCard/stm32_eval_sdio_sd.c **** }
1144:HW/SDCard/stm32_eval_sdio_sd.c **** 
1145:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1146:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Allows to read one block from a specified address in a card. The Data
1147:HW/SDCard/stm32_eval_sdio_sd.c ****   *         transfer can be managed by DMA mode or Polling mode. 
1148:HW/SDCard/stm32_eval_sdio_sd.c ****   * @note   This operation should be followed by two functions to check if the 
1149:HW/SDCard/stm32_eval_sdio_sd.c ****   *         DMA Controller and SD Card status.
1150:HW/SDCard/stm32_eval_sdio_sd.c ****   *          - SD_ReadWaitOperation(): this function insure that the DMA
1151:HW/SDCard/stm32_eval_sdio_sd.c ****   *            controller has finished all data transfer.
1152:HW/SDCard/stm32_eval_sdio_sd.c ****   *          - SD_GetStatus(): to check that the SD Card has finished the 
1153:HW/SDCard/stm32_eval_sdio_sd.c ****   *            data transfer and it is ready for data.            
1154:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  readbuff: pointer to the buffer that will contain the received data
1155:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  ReadAddr: Address from where data are to be read.  
1156:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  BlockSize: the SD card Data block size. The Block size should be 512.
1157:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
1158:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1159:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_ReadBlock(uint8_t *readbuff, uint32_t ReadAddr, uint16_t BlockSize)
1160:HW/SDCard/stm32_eval_sdio_sd.c **** {
1161:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
1162:HW/SDCard/stm32_eval_sdio_sd.c **** #if defined (SD_POLLING_MODE) 
1163:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t count = 0, *tempbuff = (uint32_t *)readbuff;
1164:HW/SDCard/stm32_eval_sdio_sd.c **** #endif
1165:HW/SDCard/stm32_eval_sdio_sd.c **** 
1166:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferError = SD_OK;
1167:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 0;
1168:HW/SDCard/stm32_eval_sdio_sd.c ****   StopCondition = 0;
1169:HW/SDCard/stm32_eval_sdio_sd.c ****   
1170:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO->DCTRL = 0x0;
1171:HW/SDCard/stm32_eval_sdio_sd.c **** 
1172:HW/SDCard/stm32_eval_sdio_sd.c ****   
1173:HW/SDCard/stm32_eval_sdio_sd.c ****   if (CardType == SDIO_HIGH_CAPACITY_SD_CARD)
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 22


1174:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1175:HW/SDCard/stm32_eval_sdio_sd.c ****     BlockSize = 512;
1176:HW/SDCard/stm32_eval_sdio_sd.c ****     ReadAddr /= 512;
1177:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1178:HW/SDCard/stm32_eval_sdio_sd.c ****   
1179:HW/SDCard/stm32_eval_sdio_sd.c ****   /* ‰øÆÊîπÔºöÊ£ÄÊü•BlockSizeÊõ¥Êñ∞ */
1180:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_CHECK_BLOCKSIZE(BlockSize);
1181:HW/SDCard/stm32_eval_sdio_sd.c **** 
1182:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataTimeOut = SD_DATATIMEOUT;
1183:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = BlockSize;
1184:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
1185:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
1186:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
1187:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
1188:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
1189:HW/SDCard/stm32_eval_sdio_sd.c **** 
1190:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Send CMD17 READ_SINGLE_BLOCK */
1191:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t)ReadAddr;
1192:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_READ_SINGLE_BLOCK;
1193:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1194:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1195:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1196:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1197:HW/SDCard/stm32_eval_sdio_sd.c **** 
1198:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_READ_SINGLE_BLOCK);
1199:HW/SDCard/stm32_eval_sdio_sd.c **** 
1200:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus != SD_OK)
1201:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1202:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1203:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1204:HW/SDCard/stm32_eval_sdio_sd.c **** 
1205:HW/SDCard/stm32_eval_sdio_sd.c **** #if defined (SD_POLLING_MODE)  
1206:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< In case of single block transfer, no need of stop transfer at all.*/
1207:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Polling mode */
1208:HW/SDCard/stm32_eval_sdio_sd.c ****   while (!(SDIO->STA &(SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SDIO_FLAG_DBCK
1209:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1210:HW/SDCard/stm32_eval_sdio_sd.c ****     if (SDIO_GetFlagStatus(SDIO_FLAG_RXFIFOHF) != RESET)
1211:HW/SDCard/stm32_eval_sdio_sd.c ****     {
1212:HW/SDCard/stm32_eval_sdio_sd.c ****       for (count = 0; count < 8; count++)
1213:HW/SDCard/stm32_eval_sdio_sd.c ****       {
1214:HW/SDCard/stm32_eval_sdio_sd.c ****         *(tempbuff + count) = SDIO_ReadData();
1215:HW/SDCard/stm32_eval_sdio_sd.c ****       }
1216:HW/SDCard/stm32_eval_sdio_sd.c ****       tempbuff += 8;
1217:HW/SDCard/stm32_eval_sdio_sd.c ****     }
1218:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1219:HW/SDCard/stm32_eval_sdio_sd.c **** 
1220:HW/SDCard/stm32_eval_sdio_sd.c ****   if (SDIO_GetFlagStatus(SDIO_FLAG_DTIMEOUT) != RESET)
1221:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1222:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_DTIMEOUT);
1223:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_DATA_TIMEOUT;
1224:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1225:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1226:HW/SDCard/stm32_eval_sdio_sd.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_DCRCFAIL) != RESET)
1227:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1228:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_DCRCFAIL);
1229:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_DATA_CRC_FAIL;
1230:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 23


1231:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1232:HW/SDCard/stm32_eval_sdio_sd.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_RXOVERR) != RESET)
1233:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1234:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_RXOVERR);
1235:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_RX_OVERRUN;
1236:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1237:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1238:HW/SDCard/stm32_eval_sdio_sd.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_STBITERR) != RESET)
1239:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1240:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_STBITERR);
1241:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_START_BIT_ERR;
1242:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1243:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1244:HW/SDCard/stm32_eval_sdio_sd.c ****   while (SDIO_GetFlagStatus(SDIO_FLAG_RXDAVL) != RESET)
1245:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1246:HW/SDCard/stm32_eval_sdio_sd.c ****     *tempbuff = SDIO_ReadData();
1247:HW/SDCard/stm32_eval_sdio_sd.c ****     tempbuff++;
1248:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1249:HW/SDCard/stm32_eval_sdio_sd.c ****   
1250:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Clear all the static flags */
1251:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
1252:HW/SDCard/stm32_eval_sdio_sd.c **** 
1253:HW/SDCard/stm32_eval_sdio_sd.c **** #elif defined (SD_DMA_MODE)
1254:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ITConfig(SDIO_IT_DATAEND, ENABLE);
1255:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_DMACmd(ENABLE);
1256:HW/SDCard/stm32_eval_sdio_sd.c ****     SD_LowLevel_DMA_RxConfig((uint32_t *)readbuff, BlockSize);
1257:HW/SDCard/stm32_eval_sdio_sd.c **** #endif
1258:HW/SDCard/stm32_eval_sdio_sd.c **** 
1259:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
1260:HW/SDCard/stm32_eval_sdio_sd.c **** }
1261:HW/SDCard/stm32_eval_sdio_sd.c **** 
1262:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1263:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Allows to read blocks from a specified address  in a card.  The Data
1264:HW/SDCard/stm32_eval_sdio_sd.c ****   *         transfer can be managed by DMA mode or Polling mode. 
1265:HW/SDCard/stm32_eval_sdio_sd.c ****   * @note   This operation should be followed by two functions to check if the 
1266:HW/SDCard/stm32_eval_sdio_sd.c ****   *         DMA Controller and SD Card status.
1267:HW/SDCard/stm32_eval_sdio_sd.c ****   *          - SD_ReadWaitOperation(): this function insure that the DMA
1268:HW/SDCard/stm32_eval_sdio_sd.c ****   *            controller has finished all data transfer.
1269:HW/SDCard/stm32_eval_sdio_sd.c ****   *          - SD_GetStatus(): to check that the SD Card has finished the 
1270:HW/SDCard/stm32_eval_sdio_sd.c ****   *            data transfer and it is ready for data.   
1271:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  readbuff: pointer to the buffer that will contain the received data.
1272:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  ReadAddr: Address from where data are to be read.
1273:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  BlockSize: the SD card Data block size. The Block size should be 512.
1274:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  NumberOfBlocks: number of blocks to be read.
1275:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
1276:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1277:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_ReadMultiBlocks(uint8_t *readbuff, uint32_t ReadAddr, uint16_t BlockSize, uint32_t Numb
1278:HW/SDCard/stm32_eval_sdio_sd.c **** {
1279:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
1280:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferError = SD_OK;
1281:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 0;
1282:HW/SDCard/stm32_eval_sdio_sd.c ****   StopCondition = 1;
1283:HW/SDCard/stm32_eval_sdio_sd.c **** 	
1284:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO->DCTRL = 0x0;
1285:HW/SDCard/stm32_eval_sdio_sd.c **** 
1286:HW/SDCard/stm32_eval_sdio_sd.c ****   if (CardType == SDIO_HIGH_CAPACITY_SD_CARD)
1287:HW/SDCard/stm32_eval_sdio_sd.c ****   {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 24


1288:HW/SDCard/stm32_eval_sdio_sd.c ****     BlockSize = 512;
1289:HW/SDCard/stm32_eval_sdio_sd.c ****     ReadAddr /= 512;
1290:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1291:HW/SDCard/stm32_eval_sdio_sd.c ****   
1292:HW/SDCard/stm32_eval_sdio_sd.c ****   /* ‰øÆÊîπÔºöÊ£ÄÊü•BlockSizeÊõ¥Êñ∞ */
1293:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_CHECK_BLOCKSIZE(BlockSize);
1294:HW/SDCard/stm32_eval_sdio_sd.c ****     
1295:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataTimeOut = SD_DATATIMEOUT;
1296:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = NumberOfBlocks * BlockSize;
1297:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
1298:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
1299:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
1300:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
1301:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
1302:HW/SDCard/stm32_eval_sdio_sd.c **** 
1303:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Send CMD18 READ_MULT_BLOCK with argument data address */
1304:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t)ReadAddr;
1305:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_READ_MULT_BLOCK;
1306:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1307:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1308:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1309:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1310:HW/SDCard/stm32_eval_sdio_sd.c **** 
1311:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_READ_MULT_BLOCK);
1312:HW/SDCard/stm32_eval_sdio_sd.c **** 
1313:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus != SD_OK)
1314:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1315:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1316:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1317:HW/SDCard/stm32_eval_sdio_sd.c **** 
1318:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_ITConfig(SDIO_IT_DATAEND, ENABLE);
1319:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DMACmd(ENABLE);
1320:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_LowLevel_DMA_RxConfig((uint32_t *)readbuff, (NumberOfBlocks * BlockSize));
1321:HW/SDCard/stm32_eval_sdio_sd.c **** 
1322:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
1323:HW/SDCard/stm32_eval_sdio_sd.c **** }
1324:HW/SDCard/stm32_eval_sdio_sd.c **** 
1325:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1326:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  This function waits until the SDIO DMA data transfer is finished. 
1327:HW/SDCard/stm32_eval_sdio_sd.c ****   *         This function should be called after SDIO_ReadMultiBlocks() function
1328:HW/SDCard/stm32_eval_sdio_sd.c ****   *         to insure that all data sent by the card are already transferred by 
1329:HW/SDCard/stm32_eval_sdio_sd.c ****   *         the DMA controller.        
1330:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  None.
1331:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
1332:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1333:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_WaitReadOperation(void)
1334:HW/SDCard/stm32_eval_sdio_sd.c **** {
1335:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
1336:HW/SDCard/stm32_eval_sdio_sd.c ****   /* Á≠âÂæÖDMA‰º†ËæìÁªìÊùü */
1337:HW/SDCard/stm32_eval_sdio_sd.c ****   while ((SD_DMAEndOfTransferStatus() == RESET) && (TransferEnd == 0) && (TransferError == SD_OK))
1338:HW/SDCard/stm32_eval_sdio_sd.c ****   {}
1339:HW/SDCard/stm32_eval_sdio_sd.c **** 
1340:HW/SDCard/stm32_eval_sdio_sd.c ****   if (TransferError != SD_OK)
1341:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1342:HW/SDCard/stm32_eval_sdio_sd.c ****     return(TransferError);
1343:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1344:HW/SDCard/stm32_eval_sdio_sd.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 25


1345:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
1346:HW/SDCard/stm32_eval_sdio_sd.c **** }
1347:HW/SDCard/stm32_eval_sdio_sd.c **** 
1348:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1349:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Allows to write one block starting from a specified address in a card.
1350:HW/SDCard/stm32_eval_sdio_sd.c ****   *         The Data transfer can be managed by DMA mode or Polling mode.
1351:HW/SDCard/stm32_eval_sdio_sd.c ****   * @note   This operation should be followed by two functions to check if the 
1352:HW/SDCard/stm32_eval_sdio_sd.c ****   *         DMA Controller and SD Card status.
1353:HW/SDCard/stm32_eval_sdio_sd.c ****   *          - SD_ReadWaitOperation(): this function insure that the DMA
1354:HW/SDCard/stm32_eval_sdio_sd.c ****   *            controller has finished all data transfer.
1355:HW/SDCard/stm32_eval_sdio_sd.c ****   *          - SD_GetStatus(): to check that the SD Card has finished the 
1356:HW/SDCard/stm32_eval_sdio_sd.c ****   *            data transfer and it is ready for data.      
1357:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  writebuff: pointer to the buffer that contain the data to be transferred.
1358:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  WriteAddr: Address from where data are to be read.   
1359:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  BlockSize: the SD card Data block size. The Block size should be 512.
1360:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
1361:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1362:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_WriteBlock(uint8_t *writebuff, uint32_t WriteAddr, uint16_t BlockSize)
1363:HW/SDCard/stm32_eval_sdio_sd.c **** {
1364:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
1365:HW/SDCard/stm32_eval_sdio_sd.c **** 
1366:HW/SDCard/stm32_eval_sdio_sd.c **** #if defined (SD_POLLING_MODE)
1367:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t bytestransferred = 0, count = 0, restwords = 0;
1368:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t *tempbuff = (uint32_t *)writebuff;
1369:HW/SDCard/stm32_eval_sdio_sd.c **** #endif
1370:HW/SDCard/stm32_eval_sdio_sd.c **** 
1371:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferError = SD_OK;
1372:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 0;
1373:HW/SDCard/stm32_eval_sdio_sd.c ****   StopCondition = 0;
1374:HW/SDCard/stm32_eval_sdio_sd.c ****   
1375:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO->DCTRL = 0x0;
1376:HW/SDCard/stm32_eval_sdio_sd.c **** 
1377:HW/SDCard/stm32_eval_sdio_sd.c **** 
1378:HW/SDCard/stm32_eval_sdio_sd.c ****   if (CardType == SDIO_HIGH_CAPACITY_SD_CARD)
1379:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1380:HW/SDCard/stm32_eval_sdio_sd.c ****     BlockSize = 512;
1381:HW/SDCard/stm32_eval_sdio_sd.c ****     WriteAddr /= 512;
1382:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1383:HW/SDCard/stm32_eval_sdio_sd.c **** 
1384:HW/SDCard/stm32_eval_sdio_sd.c ****   /* ‰øÆÊîπÔºöÊ£ÄÊü•BlockSizeÊõ¥Êñ∞ */
1385:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_CHECK_BLOCKSIZE(BlockSize);
1386:HW/SDCard/stm32_eval_sdio_sd.c **** 
1387:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Send CMD24 WRITE_SINGLE_BLOCK */
1388:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument = WriteAddr;
1389:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_WRITE_SINGLE_BLOCK;
1390:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1391:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1392:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1393:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1394:HW/SDCard/stm32_eval_sdio_sd.c **** 
1395:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_WRITE_SINGLE_BLOCK);
1396:HW/SDCard/stm32_eval_sdio_sd.c **** 
1397:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus != SD_OK)
1398:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1399:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1400:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1401:HW/SDCard/stm32_eval_sdio_sd.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 26


1402:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataTimeOut = SD_DATATIMEOUT;
1403:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = BlockSize;
1404:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
1405:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToCard;
1406:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
1407:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
1408:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
1409:HW/SDCard/stm32_eval_sdio_sd.c **** 
1410:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< In case of single data block transfer no need of stop command at all */
1411:HW/SDCard/stm32_eval_sdio_sd.c **** #if defined (SD_POLLING_MODE) 
1412:HW/SDCard/stm32_eval_sdio_sd.c ****   while (!(SDIO->STA & (SDIO_FLAG_DBCKEND | SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTI
1413:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1414:HW/SDCard/stm32_eval_sdio_sd.c ****     if (SDIO_GetFlagStatus(SDIO_FLAG_TXFIFOHE) != RESET)
1415:HW/SDCard/stm32_eval_sdio_sd.c ****     {
1416:HW/SDCard/stm32_eval_sdio_sd.c ****       if ((512 - bytestransferred) < 32)
1417:HW/SDCard/stm32_eval_sdio_sd.c ****       {
1418:HW/SDCard/stm32_eval_sdio_sd.c ****         restwords = ((512 - bytestransferred) % 4 == 0) ? ((512 - bytestransferred) / 4) : (( 512 -
1419:HW/SDCard/stm32_eval_sdio_sd.c ****         for (count = 0; count < restwords; count++, tempbuff++, bytestransferred += 4)
1420:HW/SDCard/stm32_eval_sdio_sd.c ****         {
1421:HW/SDCard/stm32_eval_sdio_sd.c ****           SDIO_WriteData(*tempbuff);
1422:HW/SDCard/stm32_eval_sdio_sd.c ****         }
1423:HW/SDCard/stm32_eval_sdio_sd.c ****       }
1424:HW/SDCard/stm32_eval_sdio_sd.c ****       else
1425:HW/SDCard/stm32_eval_sdio_sd.c ****       {
1426:HW/SDCard/stm32_eval_sdio_sd.c ****         for (count = 0; count < 8; count++)
1427:HW/SDCard/stm32_eval_sdio_sd.c ****         {
1428:HW/SDCard/stm32_eval_sdio_sd.c ****           SDIO_WriteData(*(tempbuff + count));
1429:HW/SDCard/stm32_eval_sdio_sd.c ****         }
1430:HW/SDCard/stm32_eval_sdio_sd.c ****         tempbuff += 8;
1431:HW/SDCard/stm32_eval_sdio_sd.c ****         bytestransferred += 32;
1432:HW/SDCard/stm32_eval_sdio_sd.c ****       }
1433:HW/SDCard/stm32_eval_sdio_sd.c ****     }
1434:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1435:HW/SDCard/stm32_eval_sdio_sd.c ****   if (SDIO_GetFlagStatus(SDIO_FLAG_DTIMEOUT) != RESET)
1436:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1437:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_DTIMEOUT);
1438:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_DATA_TIMEOUT;
1439:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1440:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1441:HW/SDCard/stm32_eval_sdio_sd.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_DCRCFAIL) != RESET)
1442:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1443:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_DCRCFAIL);
1444:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_DATA_CRC_FAIL;
1445:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1446:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1447:HW/SDCard/stm32_eval_sdio_sd.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_TXUNDERR) != RESET)
1448:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1449:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_TXUNDERR);
1450:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_TX_UNDERRUN;
1451:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1452:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1453:HW/SDCard/stm32_eval_sdio_sd.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_STBITERR) != RESET)
1454:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1455:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_STBITERR);
1456:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_START_BIT_ERR;
1457:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1458:HW/SDCard/stm32_eval_sdio_sd.c ****   }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 27


1459:HW/SDCard/stm32_eval_sdio_sd.c **** #elif defined (SD_DMA_MODE)
1460:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_ITConfig(SDIO_IT_DATAEND, ENABLE);
1461:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_LowLevel_DMA_TxConfig((uint32_t *)writebuff, BlockSize);
1462:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DMACmd(ENABLE);
1463:HW/SDCard/stm32_eval_sdio_sd.c **** #endif
1464:HW/SDCard/stm32_eval_sdio_sd.c **** 
1465:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
1466:HW/SDCard/stm32_eval_sdio_sd.c **** }
1467:HW/SDCard/stm32_eval_sdio_sd.c **** 
1468:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1469:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Allows to write blocks starting from a specified address in a card.
1470:HW/SDCard/stm32_eval_sdio_sd.c ****   *         The Data transfer can be managed by DMA mode only. 
1471:HW/SDCard/stm32_eval_sdio_sd.c ****   * @note   This operation should be followed by two functions to check if the 
1472:HW/SDCard/stm32_eval_sdio_sd.c ****   *         DMA Controller and SD Card status.
1473:HW/SDCard/stm32_eval_sdio_sd.c ****   *          - SD_ReadWaitOperation(): this function insure that the DMA
1474:HW/SDCard/stm32_eval_sdio_sd.c ****   *            controller has finished all data transfer.
1475:HW/SDCard/stm32_eval_sdio_sd.c ****   *          - SD_GetStatus(): to check that the SD Card has finished the 
1476:HW/SDCard/stm32_eval_sdio_sd.c ****   *            data transfer and it is ready for data.     
1477:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  WriteAddr: Address from where data are to be read.
1478:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  writebuff: pointer to the buffer that contain the data to be transferred.
1479:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  BlockSize: the SD card Data block size. The Block size should be 512.
1480:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  NumberOfBlocks: number of blocks to be written.
1481:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
1482:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1483:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_WriteMultiBlocks(uint8_t *writebuff, uint32_t WriteAddr, uint16_t BlockSize, uint32_t N
1484:HW/SDCard/stm32_eval_sdio_sd.c **** {
1485:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
1486:HW/SDCard/stm32_eval_sdio_sd.c **** 
1487:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferError = SD_OK;
1488:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 0;
1489:HW/SDCard/stm32_eval_sdio_sd.c ****   StopCondition = 1;
1490:HW/SDCard/stm32_eval_sdio_sd.c ****   
1491:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO->DCTRL = 0x0;
1492:HW/SDCard/stm32_eval_sdio_sd.c **** 
1493:HW/SDCard/stm32_eval_sdio_sd.c ****   if (CardType == SDIO_HIGH_CAPACITY_SD_CARD)
1494:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1495:HW/SDCard/stm32_eval_sdio_sd.c ****     BlockSize = 512;
1496:HW/SDCard/stm32_eval_sdio_sd.c ****     WriteAddr /= 512;
1497:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1498:HW/SDCard/stm32_eval_sdio_sd.c **** 
1499:HW/SDCard/stm32_eval_sdio_sd.c ****   /* ‰øÆÊîπÔºöÊ£ÄÊü•BlockSizeÊõ¥Êñ∞ */
1500:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_CHECK_BLOCKSIZE(BlockSize);
1501:HW/SDCard/stm32_eval_sdio_sd.c **** 
1502:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< To improve performance */
1503:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t) (RCA << 16);
1504:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
1505:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1506:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1507:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1508:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1509:HW/SDCard/stm32_eval_sdio_sd.c **** 
1510:HW/SDCard/stm32_eval_sdio_sd.c **** 
1511:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
1512:HW/SDCard/stm32_eval_sdio_sd.c **** 
1513:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus != SD_OK)
1514:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1515:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 28


1516:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1517:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< To improve performance */
1518:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t)NumberOfBlocks;
1519:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCK_COUNT;
1520:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1521:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1522:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1523:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1524:HW/SDCard/stm32_eval_sdio_sd.c **** 
1525:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_SET_BLOCK_COUNT);
1526:HW/SDCard/stm32_eval_sdio_sd.c **** 
1527:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus != SD_OK)
1528:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1529:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1530:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1531:HW/SDCard/stm32_eval_sdio_sd.c **** 
1532:HW/SDCard/stm32_eval_sdio_sd.c **** 
1533:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Send CMD25 WRITE_MULT_BLOCK with argument data address */
1534:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t)WriteAddr;
1535:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_WRITE_MULT_BLOCK;
1536:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1537:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1538:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1539:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1540:HW/SDCard/stm32_eval_sdio_sd.c **** 
1541:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_WRITE_MULT_BLOCK);
1542:HW/SDCard/stm32_eval_sdio_sd.c **** 
1543:HW/SDCard/stm32_eval_sdio_sd.c ****   if (SD_OK != errorstatus)
1544:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1545:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1546:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1547:HW/SDCard/stm32_eval_sdio_sd.c **** 
1548:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataTimeOut = SD_DATATIMEOUT;
1549:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = NumberOfBlocks * BlockSize;
1550:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
1551:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToCard;
1552:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
1553:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
1554:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
1555:HW/SDCard/stm32_eval_sdio_sd.c **** 
1556:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_ITConfig(SDIO_IT_DATAEND, ENABLE);
1557:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DMACmd(ENABLE);    
1558:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_LowLevel_DMA_TxConfig((uint32_t *)writebuff, (NumberOfBlocks * BlockSize));
1559:HW/SDCard/stm32_eval_sdio_sd.c **** 
1560:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
1561:HW/SDCard/stm32_eval_sdio_sd.c **** }
1562:HW/SDCard/stm32_eval_sdio_sd.c **** 
1563:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1564:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  This function waits until the SDIO DMA data transfer is finished. 
1565:HW/SDCard/stm32_eval_sdio_sd.c ****   *         This function should be called after SDIO_WriteBlock() and
1566:HW/SDCard/stm32_eval_sdio_sd.c ****   *         SDIO_WriteMultiBlocks() function to insure that all data sent by the 
1567:HW/SDCard/stm32_eval_sdio_sd.c ****   *         card are already transferred by the DMA controller.        
1568:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  None.
1569:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
1570:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1571:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_WaitWriteOperation(void)
1572:HW/SDCard/stm32_eval_sdio_sd.c **** {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 29


1573:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
1574:HW/SDCard/stm32_eval_sdio_sd.c **** 
1575:HW/SDCard/stm32_eval_sdio_sd.c ****   while ((SD_DMAEndOfTransferStatus() == RESET) && (TransferEnd == 0) && (TransferError == SD_OK))
1576:HW/SDCard/stm32_eval_sdio_sd.c ****   {}
1577:HW/SDCard/stm32_eval_sdio_sd.c **** 
1578:HW/SDCard/stm32_eval_sdio_sd.c ****   if (TransferError != SD_OK)
1579:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1580:HW/SDCard/stm32_eval_sdio_sd.c ****     return(TransferError);
1581:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1582:HW/SDCard/stm32_eval_sdio_sd.c **** 
1583:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Clear all the static flags */
1584:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
1585:HW/SDCard/stm32_eval_sdio_sd.c **** 
1586:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
1587:HW/SDCard/stm32_eval_sdio_sd.c **** }
1588:HW/SDCard/stm32_eval_sdio_sd.c **** 
1589:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1590:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Gets the cuurent data transfer state.
1591:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  None
1592:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SDTransferState: Data Transfer state.
1593:HW/SDCard/stm32_eval_sdio_sd.c ****   *   This value can be: 
1594:HW/SDCard/stm32_eval_sdio_sd.c ****   *        - SD_TRANSFER_OK: No data transfer is acting
1595:HW/SDCard/stm32_eval_sdio_sd.c ****   *        - SD_TRANSFER_BUSY: Data transfer is acting
1596:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1597:HW/SDCard/stm32_eval_sdio_sd.c **** SDTransferState SD_GetTransferState(void)
1598:HW/SDCard/stm32_eval_sdio_sd.c **** {
1599:HW/SDCard/stm32_eval_sdio_sd.c ****   if (SDIO->STA & (SDIO_FLAG_TXACT | SDIO_FLAG_RXACT))
1600:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1601:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_TRANSFER_BUSY);
1602:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1603:HW/SDCard/stm32_eval_sdio_sd.c ****   else
1604:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1605:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_TRANSFER_OK);
1606:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1607:HW/SDCard/stm32_eval_sdio_sd.c **** }
1608:HW/SDCard/stm32_eval_sdio_sd.c **** 
1609:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1610:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Aborts an ongoing data transfer.
1611:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  None
1612:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
1613:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1614:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_StopTransfer(void)
1615:HW/SDCard/stm32_eval_sdio_sd.c **** {
1616:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
1617:HW/SDCard/stm32_eval_sdio_sd.c **** 
1618:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Send CMD12 STOP_TRANSMISSION  */
1619:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO->ARG = 0x0;
1620:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO->CMD = 0x44C;
1621:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_STOP_TRANSMISSION);
1622:HW/SDCard/stm32_eval_sdio_sd.c **** 
1623:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
1624:HW/SDCard/stm32_eval_sdio_sd.c **** }
1625:HW/SDCard/stm32_eval_sdio_sd.c **** 
1626:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1627:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Allows to erase memory area specified for the given card.
1628:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  startaddr: the start address.
1629:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  endaddr: the end address.
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 30


1630:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
1631:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1632:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_Erase(uint32_t startaddr, uint32_t endaddr)
1633:HW/SDCard/stm32_eval_sdio_sd.c **** {
1634:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
1635:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t delay = 0;
1636:HW/SDCard/stm32_eval_sdio_sd.c ****   __IO uint32_t maxdelay = 0;
1637:HW/SDCard/stm32_eval_sdio_sd.c ****   uint8_t cardstate = 0;
1638:HW/SDCard/stm32_eval_sdio_sd.c **** 
1639:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Check if the card coomnd class supports erase command */
1640:HW/SDCard/stm32_eval_sdio_sd.c ****   if (((CSD_Tab[1] >> 20) & SD_CCCC_ERASE) == 0)
1641:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1642:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_REQUEST_NOT_APPLICABLE;
1643:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1644:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1645:HW/SDCard/stm32_eval_sdio_sd.c **** 
1646:HW/SDCard/stm32_eval_sdio_sd.c ****   maxdelay = 120000 / ((SDIO->CLKCR & 0xFF) + 2);
1647:HW/SDCard/stm32_eval_sdio_sd.c **** 
1648:HW/SDCard/stm32_eval_sdio_sd.c ****   if (SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED)
1649:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1650:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_LOCK_UNLOCK_FAILED;
1651:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1652:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1653:HW/SDCard/stm32_eval_sdio_sd.c **** 
1654:HW/SDCard/stm32_eval_sdio_sd.c ****   if (CardType == SDIO_HIGH_CAPACITY_SD_CARD)
1655:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1656:HW/SDCard/stm32_eval_sdio_sd.c ****     startaddr /= 512;
1657:HW/SDCard/stm32_eval_sdio_sd.c ****     endaddr /= 512;
1658:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1659:HW/SDCard/stm32_eval_sdio_sd.c ****   
1660:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< According to sd-card spec 1.0 ERASE_GROUP_START (CMD32) and erase_group_end(CMD33) */
1661:HW/SDCard/stm32_eval_sdio_sd.c ****   if ((SDIO_STD_CAPACITY_SD_CARD_V1_1 == CardType) || (SDIO_STD_CAPACITY_SD_CARD_V2_0 == CardType) 
1662:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1663:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Send CMD32 SD_ERASE_GRP_START with argument as addr  */
1664:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Argument = startaddr;
1665:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_ERASE_GRP_START;
1666:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1667:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1668:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1669:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
1670:HW/SDCard/stm32_eval_sdio_sd.c **** 
1671:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = CmdResp1Error(SD_CMD_SD_ERASE_GRP_START);
1672:HW/SDCard/stm32_eval_sdio_sd.c ****     if (errorstatus != SD_OK)
1673:HW/SDCard/stm32_eval_sdio_sd.c ****     {
1674:HW/SDCard/stm32_eval_sdio_sd.c ****       return(errorstatus);
1675:HW/SDCard/stm32_eval_sdio_sd.c ****     }
1676:HW/SDCard/stm32_eval_sdio_sd.c **** 
1677:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Send CMD33 SD_ERASE_GRP_END with argument as addr  */
1678:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Argument = endaddr;
1679:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_ERASE_GRP_END;
1680:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1681:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1682:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1683:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
1684:HW/SDCard/stm32_eval_sdio_sd.c **** 
1685:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = CmdResp1Error(SD_CMD_SD_ERASE_GRP_END);
1686:HW/SDCard/stm32_eval_sdio_sd.c ****     if (errorstatus != SD_OK)
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 31


1687:HW/SDCard/stm32_eval_sdio_sd.c ****     {
1688:HW/SDCard/stm32_eval_sdio_sd.c ****       return(errorstatus);
1689:HW/SDCard/stm32_eval_sdio_sd.c ****     }
1690:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1691:HW/SDCard/stm32_eval_sdio_sd.c **** 
1692:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Send CMD38 ERASE */
1693:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument = 0;
1694:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_ERASE;
1695:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1696:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1697:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1698:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1699:HW/SDCard/stm32_eval_sdio_sd.c **** 
1700:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_ERASE);
1701:HW/SDCard/stm32_eval_sdio_sd.c **** 
1702:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus != SD_OK)
1703:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1704:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1705:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1706:HW/SDCard/stm32_eval_sdio_sd.c **** 
1707:HW/SDCard/stm32_eval_sdio_sd.c ****   for (delay = 0; delay < maxdelay; delay++)
1708:HW/SDCard/stm32_eval_sdio_sd.c ****   {}
1709:HW/SDCard/stm32_eval_sdio_sd.c **** 
1710:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Wait till the card is in programming state */
1711:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = IsCardProgramming(&cardstate);
1712:HW/SDCard/stm32_eval_sdio_sd.c **** 
1713:HW/SDCard/stm32_eval_sdio_sd.c ****   while ((errorstatus == SD_OK) && ((SD_CARD_PROGRAMMING == cardstate) || (SD_CARD_RECEIVING == car
1714:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1715:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = IsCardProgramming(&cardstate);
1716:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1717:HW/SDCard/stm32_eval_sdio_sd.c **** 
1718:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
1719:HW/SDCard/stm32_eval_sdio_sd.c **** }
1720:HW/SDCard/stm32_eval_sdio_sd.c **** 
1721:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1722:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Returns the current card's status.
1723:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  pcardstatus: pointer to the buffer that will contain the SD card 
1724:HW/SDCard/stm32_eval_sdio_sd.c ****   *         status (Card Status register).
1725:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
1726:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1727:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_SendStatus(uint32_t *pcardstatus)
1728:HW/SDCard/stm32_eval_sdio_sd.c **** {
1729:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
1730:HW/SDCard/stm32_eval_sdio_sd.c **** 
1731:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO->ARG = (uint32_t) RCA << 16;
1732:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO->CMD = 0x44D;
1733:HW/SDCard/stm32_eval_sdio_sd.c ****   
1734:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_SEND_STATUS);
1735:HW/SDCard/stm32_eval_sdio_sd.c **** 
1736:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus != SD_OK)
1737:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1738:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1739:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1740:HW/SDCard/stm32_eval_sdio_sd.c **** 
1741:HW/SDCard/stm32_eval_sdio_sd.c ****   *pcardstatus = SDIO->RESP1;
1742:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
1743:HW/SDCard/stm32_eval_sdio_sd.c **** }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 32


1744:HW/SDCard/stm32_eval_sdio_sd.c **** 
1745:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1746:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Returns the current SD card's status.
1747:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  psdstatus: pointer to the buffer that will contain the SD card status 
1748:HW/SDCard/stm32_eval_sdio_sd.c ****   *         (SD Status register).
1749:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
1750:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1751:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_SendSDStatus(uint32_t *psdstatus)
1752:HW/SDCard/stm32_eval_sdio_sd.c **** {
1753:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
1754:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t count = 0;
1755:HW/SDCard/stm32_eval_sdio_sd.c **** 
1756:HW/SDCard/stm32_eval_sdio_sd.c ****   if (SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED)
1757:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1758:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_LOCK_UNLOCK_FAILED;
1759:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1760:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1761:HW/SDCard/stm32_eval_sdio_sd.c **** 
1762:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Set block size for card if it is not equal to current block size for card. */
1763:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument = 64;
1764:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCKLEN;
1765:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1766:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1767:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1768:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1769:HW/SDCard/stm32_eval_sdio_sd.c **** 
1770:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_SET_BLOCKLEN);
1771:HW/SDCard/stm32_eval_sdio_sd.c **** 
1772:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus != SD_OK)
1773:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1774:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1775:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1776:HW/SDCard/stm32_eval_sdio_sd.c **** 
1777:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< CMD55 */
1778:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t) RCA << 16;
1779:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
1780:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1781:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1782:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1783:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1784:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
1785:HW/SDCard/stm32_eval_sdio_sd.c **** 
1786:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus != SD_OK)
1787:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1788:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1789:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1790:HW/SDCard/stm32_eval_sdio_sd.c **** 
1791:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataTimeOut = SD_DATATIMEOUT;
1792:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = 64;
1793:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = SDIO_DataBlockSize_64b;
1794:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
1795:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
1796:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
1797:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
1798:HW/SDCard/stm32_eval_sdio_sd.c **** 
1799:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Send ACMD13 SD_APP_STAUS  with argument as card's RCA.*/
1800:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument = 0;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 33


1801:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_STAUS;
1802:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
1803:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
1804:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
1805:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
1806:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_SD_APP_STAUS);
1807:HW/SDCard/stm32_eval_sdio_sd.c **** 
1808:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus != SD_OK)
1809:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1810:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1811:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1812:HW/SDCard/stm32_eval_sdio_sd.c **** 
1813:HW/SDCard/stm32_eval_sdio_sd.c ****   while (!(SDIO->STA &(SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SDIO_FLAG_DBCK
1814:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1815:HW/SDCard/stm32_eval_sdio_sd.c ****     if (SDIO_GetFlagStatus(SDIO_FLAG_RXFIFOHF) != RESET)
1816:HW/SDCard/stm32_eval_sdio_sd.c ****     {
1817:HW/SDCard/stm32_eval_sdio_sd.c ****       for (count = 0; count < 8; count++)
1818:HW/SDCard/stm32_eval_sdio_sd.c ****       {
1819:HW/SDCard/stm32_eval_sdio_sd.c ****         *(psdstatus + count) = SDIO_ReadData();
1820:HW/SDCard/stm32_eval_sdio_sd.c ****       }
1821:HW/SDCard/stm32_eval_sdio_sd.c ****       psdstatus += 8;
1822:HW/SDCard/stm32_eval_sdio_sd.c ****     }
1823:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1824:HW/SDCard/stm32_eval_sdio_sd.c **** 
1825:HW/SDCard/stm32_eval_sdio_sd.c ****   if (SDIO_GetFlagStatus(SDIO_FLAG_DTIMEOUT) != RESET)
1826:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1827:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_DTIMEOUT);
1828:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_DATA_TIMEOUT;
1829:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1830:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1831:HW/SDCard/stm32_eval_sdio_sd.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_DCRCFAIL) != RESET)
1832:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1833:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_DCRCFAIL);
1834:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_DATA_CRC_FAIL;
1835:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1836:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1837:HW/SDCard/stm32_eval_sdio_sd.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_RXOVERR) != RESET)
1838:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1839:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_RXOVERR);
1840:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_RX_OVERRUN;
1841:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1842:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1843:HW/SDCard/stm32_eval_sdio_sd.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_STBITERR) != RESET)
1844:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1845:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_STBITERR);
1846:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_START_BIT_ERR;
1847:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1848:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1849:HW/SDCard/stm32_eval_sdio_sd.c **** 
1850:HW/SDCard/stm32_eval_sdio_sd.c ****   while (SDIO_GetFlagStatus(SDIO_FLAG_RXDAVL) != RESET)
1851:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1852:HW/SDCard/stm32_eval_sdio_sd.c ****     *psdstatus = SDIO_ReadData();
1853:HW/SDCard/stm32_eval_sdio_sd.c ****     psdstatus++;
1854:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1855:HW/SDCard/stm32_eval_sdio_sd.c **** 
1856:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Clear all the static status flags*/
1857:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 34


1858:HW/SDCard/stm32_eval_sdio_sd.c **** 
1859:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
1860:HW/SDCard/stm32_eval_sdio_sd.c **** }
1861:HW/SDCard/stm32_eval_sdio_sd.c **** 
1862:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1863:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Allows to process all the interrupts that are high.Êï∞ÊçÆ‰º†ËæìÁªìÊùü‰∏≠Êñ≠
1864:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  None
1865:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
1866:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1867:HW/SDCard/stm32_eval_sdio_sd.c **** SD_Error SD_ProcessIRQSrc(void)
1868:HW/SDCard/stm32_eval_sdio_sd.c **** {
1869:HW/SDCard/stm32_eval_sdio_sd.c ****   /* StopCondition‰∏∫1‰ª£Ë°®Â§öÂùóËØªÂÜô */
1870:HW/SDCard/stm32_eval_sdio_sd.c ****   if (StopCondition == 1)
1871:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1872:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO->ARG = 0x0;
1873:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO->CMD = 0x44C;  // CMD12: ÁªìÊùüËØªÂÜô
1874:HW/SDCard/stm32_eval_sdio_sd.c ****     TransferError = CmdResp1Error(SD_CMD_STOP_TRANSMISSION);
1875:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1876:HW/SDCard/stm32_eval_sdio_sd.c ****   else
1877:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1878:HW/SDCard/stm32_eval_sdio_sd.c ****     TransferError = SD_OK;
1879:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1880:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_ClearITPendingBit(SDIO_IT_DATAEND);
1881:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_ITConfig(SDIO_IT_DATAEND, DISABLE);
1882:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 1;
1883:HW/SDCard/stm32_eval_sdio_sd.c ****   return(TransferError);
1884:HW/SDCard/stm32_eval_sdio_sd.c **** }
1885:HW/SDCard/stm32_eval_sdio_sd.c **** 
1886:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1887:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Checks for error conditions for CMD0.
1888:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  None
1889:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
1890:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1891:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error CmdError(void)
1892:HW/SDCard/stm32_eval_sdio_sd.c **** {
1893:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
1894:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t timeout;
1895:HW/SDCard/stm32_eval_sdio_sd.c **** 
1896:HW/SDCard/stm32_eval_sdio_sd.c ****   timeout = SDIO_CMD0TIMEOUT; /*!< 10000 */
1897:HW/SDCard/stm32_eval_sdio_sd.c **** 
1898:HW/SDCard/stm32_eval_sdio_sd.c ****   while ((timeout > 0) && (SDIO_GetFlagStatus(SDIO_FLAG_CMDSENT) == RESET))
1899:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1900:HW/SDCard/stm32_eval_sdio_sd.c ****     timeout--;
1901:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1902:HW/SDCard/stm32_eval_sdio_sd.c **** 
1903:HW/SDCard/stm32_eval_sdio_sd.c ****   if (timeout == 0)
1904:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1905:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_CMD_RSP_TIMEOUT;
1906:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1907:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1908:HW/SDCard/stm32_eval_sdio_sd.c **** 
1909:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Clear all the static flags */
1910:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
1911:HW/SDCard/stm32_eval_sdio_sd.c **** 
1912:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
1913:HW/SDCard/stm32_eval_sdio_sd.c **** }
1914:HW/SDCard/stm32_eval_sdio_sd.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 35


1915:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1916:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Checks for error conditions for R7 response.
1917:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  None
1918:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
1919:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1920:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error CmdResp7Error(void)
1921:HW/SDCard/stm32_eval_sdio_sd.c **** {
1922:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
1923:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t status;
1924:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t timeout = SDIO_CMD0TIMEOUT;
1925:HW/SDCard/stm32_eval_sdio_sd.c **** 
1926:HW/SDCard/stm32_eval_sdio_sd.c ****   status = SDIO->STA;
1927:HW/SDCard/stm32_eval_sdio_sd.c **** 
1928:HW/SDCard/stm32_eval_sdio_sd.c ****   while (!(status & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)) && (timeout > 0)
1929:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1930:HW/SDCard/stm32_eval_sdio_sd.c ****     timeout--;
1931:HW/SDCard/stm32_eval_sdio_sd.c ****     status = SDIO->STA;
1932:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1933:HW/SDCard/stm32_eval_sdio_sd.c **** 
1934:HW/SDCard/stm32_eval_sdio_sd.c ****   if ((timeout == 0) || (status & SDIO_FLAG_CTIMEOUT))
1935:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1936:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Card is not V2.0 complient or card does not support the set voltage range */
1937:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_CMD_RSP_TIMEOUT;
1938:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
1939:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1940:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1941:HW/SDCard/stm32_eval_sdio_sd.c **** 
1942:HW/SDCard/stm32_eval_sdio_sd.c ****   if (status & SDIO_FLAG_CMDREND)
1943:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1944:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Card is SD V2.0 compliant */
1945:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_OK;
1946:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CMDREND);
1947:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1948:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1949:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
1950:HW/SDCard/stm32_eval_sdio_sd.c **** }
1951:HW/SDCard/stm32_eval_sdio_sd.c **** 
1952:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1953:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Checks for error conditions for R1 response.
1954:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  cmd: The sent command index.
1955:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
1956:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1957:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error CmdResp1Error(uint8_t cmd)
1958:HW/SDCard/stm32_eval_sdio_sd.c **** {
  26              		.loc 1 1958 1 view -0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
  31              	.LVL0:
  32              	.L2:
1959:HW/SDCard/stm32_eval_sdio_sd.c ****   while (!(SDIO->STA & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
1960:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1961:HW/SDCard/stm32_eval_sdio_sd.c ****   }
  33              		.loc 1 1961 3 discriminator 1 view .LVU1
1959:HW/SDCard/stm32_eval_sdio_sd.c ****   while (!(SDIO->STA & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
  34              		.loc 1 1959 10 discriminator 1 view .LVU2
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 36


1959:HW/SDCard/stm32_eval_sdio_sd.c ****   while (!(SDIO->STA & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
  35              		.loc 1 1959 16 is_stmt 0 discriminator 1 view .LVU3
  36 0000 064B     		ldr	r3, .L3
  37 0002 5B6B     		ldr	r3, [r3, #52]
1959:HW/SDCard/stm32_eval_sdio_sd.c ****   while (!(SDIO->STA & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
  38              		.loc 1 1959 10 discriminator 1 view .LVU4
  39 0004 13F0450F 		tst	r3, #69
  40 0008 FAD0     		beq	.L2
1962:HW/SDCard/stm32_eval_sdio_sd.c **** 
1963:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO->ICR = SDIO_STATIC_FLAGS;
  41              		.loc 1 1963 3 is_stmt 1 view .LVU5
  42              		.loc 1 1963 13 is_stmt 0 view .LVU6
  43 000a 044B     		ldr	r3, .L3
  44 000c 40F2FF52 		movw	r2, #1535
  45 0010 9A63     		str	r2, [r3, #56]
1964:HW/SDCard/stm32_eval_sdio_sd.c **** 
1965:HW/SDCard/stm32_eval_sdio_sd.c ****   return (SD_Error)(SDIO->RESP1 &  SD_OCR_ERRORBITS);
  46              		.loc 1 1965 3 is_stmt 1 view .LVU7
  47              		.loc 1 1965 25 is_stmt 0 view .LVU8
  48 0012 5869     		ldr	r0, [r3, #20]
  49              	.LVL1:
1966:HW/SDCard/stm32_eval_sdio_sd.c **** }
  50              		.loc 1 1966 1 view .LVU9
  51 0014 00F00800 		and	r0, r0, #8
  52 0018 7047     		bx	lr
  53              	.L4:
  54 001a 00BF     		.align	2
  55              	.L3:
  56 001c 00800140 		.word	1073840128
  57              		.cfi_endproc
  58              	.LFE62:
  60              		.section	.text.__SD_DMA_Conf_Impl,"ax",%progbits
  61              		.align	1
  62              		.syntax unified
  63              		.thumb
  64              		.thumb_func
  66              	__SD_DMA_Conf_Impl:
  67              	.LVL2:
  68              	.LFB31:
  69              		.file 2 "HW/SDCard/SDCard_eval.h"
   1:HW/SDCard/SDCard_eval.h **** /**
   2:HW/SDCard/SDCard_eval.h ****  * @file SDCard_eval.h
   3:HW/SDCard/SDCard_eval.h ****  * @author 511844767
   4:HW/SDCard/SDCard_eval.h ****  * @brief ÁßªÊ§çSDÂ∫ìÁöÑÂ∫ïÂ±ÇÂáΩÊï∞ÂÆûÁé∞
   5:HW/SDCard/SDCard_eval.h ****  * @version 0.1
   6:HW/SDCard/SDCard_eval.h ****  * @date 2022-12-31
   7:HW/SDCard/SDCard_eval.h ****  * 
   8:HW/SDCard/SDCard_eval.h ****  * @copyright Copyright (c) 2022
   9:HW/SDCard/SDCard_eval.h ****  * 
  10:HW/SDCard/SDCard_eval.h ****  */
  11:HW/SDCard/SDCard_eval.h **** #ifndef SD_LowLevel_Implement_H__
  12:HW/SDCard/SDCard_eval.h **** #define SD_LowLevel_Implement_H__
  13:HW/SDCard/SDCard_eval.h **** #include"stm32f10x.h"
  14:HW/SDCard/SDCard_eval.h **** 
  15:HW/SDCard/SDCard_eval.h **** /**
  16:HW/SDCard/SDCard_eval.h ****  * @brief SDIOÂàùÂßãÂåñÂèÇÊï∞ÔºåSTM32F1ÁöÑSDIOÁöÑÊó∂Èíü‰∏∫HCLKÔºàÈªòËÆ§72MHzÔºâ
  17:HW/SDCard/SDCard_eval.h ****  * 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 37


  18:HW/SDCard/SDCard_eval.h ****  */
  19:HW/SDCard/SDCard_eval.h **** #define SDIO_INIT_CLK_DIV       178     // ËØÜÂà´Èò∂ÊÆµÔºåÂàÜÈ¢ëÂà∞400KHz
  20:HW/SDCard/SDCard_eval.h **** #define SDIO_TRANSFER_CLK_DIV   1       // ‰º†ËæìÈò∂ÊÆµÔºåÈªòËÆ§Ê®°Âºè‰∏ãÂàÜÈ¢ëÂà∞24MHz
  21:HW/SDCard/SDCard_eval.h **** static uint32_t SD_BlockSize    =  0;   // ËÆ∞ÂΩïSDÂç°ÁöÑblockÂ§ßÂ∞èÔºåÂØπ‰∫éSDHC, SDXCËÆøÈóÆ‰∏çÂêå
  22:HW/SDCard/SDCard_eval.h **** 
  23:HW/SDCard/SDCard_eval.h **** /**
  24:HW/SDCard/SDCard_eval.h ****  * @brief ÂÆûÁé∞Â∫ïÂ±ÇÂàùÂßãÂåñ
  25:HW/SDCard/SDCard_eval.h ****  * 
  26:HW/SDCard/SDCard_eval.h ****  */
  27:HW/SDCard/SDCard_eval.h **** void SD_LowLevel_Init(){
  28:HW/SDCard/SDCard_eval.h ****     /* ÈÖçÁΩÆSDÂç°‰∏≠Êñ≠ */
  29:HW/SDCard/SDCard_eval.h ****     NVIC_InitTypeDef NVIC_InitStructure;
  30:HW/SDCard/SDCard_eval.h ****     NVIC_InitStructure.NVIC_IRQChannel = SDIO_IRQn;
  31:HW/SDCard/SDCard_eval.h ****     NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 2;
  32:HW/SDCard/SDCard_eval.h ****     NVIC_InitStructure.NVIC_IRQChannelSubPriority = 2;
  33:HW/SDCard/SDCard_eval.h ****     NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  34:HW/SDCard/SDCard_eval.h ****     NVIC_Init(&NVIC_InitStructure);
  35:HW/SDCard/SDCard_eval.h ****     /* ÈÖçÁΩÆSDIOÁöÑGPIOÂºïËÑö */
  36:HW/SDCard/SDCard_eval.h ****     /* ‰ΩøËÉΩÊó∂ÈíüÊ∫ê */
  37:HW/SDCard/SDCard_eval.h ****     RCC_AHBPeriphClockCmd(RCC_AHBPeriph_SDIO, ENABLE);                              // ‰ΩøËÉΩSDIOÂ§
  38:HW/SDCard/SDCard_eval.h ****     RCC_AHBPeriphClockCmd(RCC_AHBPeriph_DMA2, ENABLE);                              // ‰ΩøËÉΩDMAÊó∂
  39:HW/SDCard/SDCard_eval.h ****     RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOC | RCC_APB2Periph_GPIOD, ENABLE);    // ‰ΩøËÉΩÂØπÂ∫î
  40:HW/SDCard/SDCard_eval.h ****     /* ÈÖçÁΩÆÂºïËÑö */
  41:HW/SDCard/SDCard_eval.h ****     GPIO_InitTypeDef gpioDef;
  42:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Mode = GPIO_Mode_AF_PP;
  43:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Speed = GPIO_Speed_50MHz;
  44:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Pin = GPIO_Pin_8 | GPIO_Pin_9 | GPIO_Pin_10 | GPIO_Pin_11 | GPIO_Pin_12;   // SDIO
  45:HW/SDCard/SDCard_eval.h ****     GPIO_Init(GPIOC, &gpioDef);
  46:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Pin = GPIO_Pin_2;  // SDIO_CMD
  47:HW/SDCard/SDCard_eval.h ****     GPIO_Init(GPIOD, &gpioDef);
  48:HW/SDCard/SDCard_eval.h **** }
  49:HW/SDCard/SDCard_eval.h **** 
  50:HW/SDCard/SDCard_eval.h **** 
  51:HW/SDCard/SDCard_eval.h **** /**
  52:HW/SDCard/SDCard_eval.h ****  * @brief Ëß£ÂàùÂßãÂåñ
  53:HW/SDCard/SDCard_eval.h ****  * 
  54:HW/SDCard/SDCard_eval.h ****  */
  55:HW/SDCard/SDCard_eval.h **** void SD_LowLevel_DeInit(){
  56:HW/SDCard/SDCard_eval.h ****     /* Â§±ËÉΩSDIO */
  57:HW/SDCard/SDCard_eval.h ****     SDIO_ClockCmd(DISABLE);
  58:HW/SDCard/SDCard_eval.h **** 
  59:HW/SDCard/SDCard_eval.h ****     /* ÂÖ≥Èó≠SDIOÁîµÊ∫ê */
  60:HW/SDCard/SDCard_eval.h ****     SDIO_SetPowerState(SDIO_PowerState_OFF);
  61:HW/SDCard/SDCard_eval.h **** 
  62:HW/SDCard/SDCard_eval.h ****     /* Ê∏ÖÈô§SDIOÂØÑÂ≠òÂô® */
  63:HW/SDCard/SDCard_eval.h ****     SDIO_DeInit();
  64:HW/SDCard/SDCard_eval.h **** 
  65:HW/SDCard/SDCard_eval.h ****     /* ÂÖ≥Èó≠SDIOÊó∂ÈíüÊ∫ê */
  66:HW/SDCard/SDCard_eval.h ****     RCC_AHBPeriphClockCmd(RCC_AHBPeriph_SDIO, DISABLE);
  67:HW/SDCard/SDCard_eval.h **** 
  68:HW/SDCard/SDCard_eval.h ****     /* ÈáçÁΩÆÂºïËÑö‰∏∫ÊµÆÁ©∫ËæìÂÖ• */
  69:HW/SDCard/SDCard_eval.h ****     GPIO_InitTypeDef gpioDef;
  70:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Pin = GPIO_Pin_8 | GPIO_Pin_9 | GPIO_Pin_10 | GPIO_Pin_11 | GPIO_Pin_12;
  71:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Mode = GPIO_Mode_IN_FLOATING;
  72:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Speed = GPIO_Speed_50MHz;
  73:HW/SDCard/SDCard_eval.h ****     GPIO_Init(GPIOC, &gpioDef);
  74:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Pin = GPIO_Pin_2;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 38


  75:HW/SDCard/SDCard_eval.h ****     GPIO_Init(GPIOD, &gpioDef);
  76:HW/SDCard/SDCard_eval.h **** 
  77:HW/SDCard/SDCard_eval.h ****     /* ÂÖ≥Èó≠DMA */
  78:HW/SDCard/SDCard_eval.h ****     DMA_ClearFlag(DMA2_FLAG_TC4 | DMA2_FLAG_TE4 | DMA2_FLAG_HT4 | DMA2_FLAG_GL4);
  79:HW/SDCard/SDCard_eval.h ****     DMA_Cmd(DMA2_Channel4, DISABLE);
  80:HW/SDCard/SDCard_eval.h ****     RCC_AHBPeriphClockCmd(RCC_AHBPeriph_DMA2, DISABLE);
  81:HW/SDCard/SDCard_eval.h ****     DMA_DeInit(DMA2_Channel4);
  82:HW/SDCard/SDCard_eval.h **** }
  83:HW/SDCard/SDCard_eval.h **** 
  84:HW/SDCard/SDCard_eval.h **** 
  85:HW/SDCard/SDCard_eval.h **** static __inline void __SD_DMA_Conf_Impl(uint32_t* ptr, uint32_t size, uint32_t DMA_DIR){
  70              		.loc 2 85 88 is_stmt 1 view -0
  71              		.cfi_startproc
  72              		@ args = 0, pretend = 0, frame = 48
  73              		@ frame_needed = 0, uses_anonymous_args = 0
  74              		.loc 2 85 88 is_stmt 0 view .LVU11
  75 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  76              	.LCFI0:
  77              		.cfi_def_cfa_offset 20
  78              		.cfi_offset 4, -20
  79              		.cfi_offset 5, -16
  80              		.cfi_offset 6, -12
  81              		.cfi_offset 7, -8
  82              		.cfi_offset 14, -4
  83 0002 8DB0     		sub	sp, sp, #52
  84              	.LCFI1:
  85              		.cfi_def_cfa_offset 72
  86 0004 0746     		mov	r7, r0
  87 0006 0C46     		mov	r4, r1
  88 0008 1646     		mov	r6, r2
  86:HW/SDCard/SDCard_eval.h ****     /* ‰ΩøËÉΩÊó∂ÈíüÊ∫ê */
  87:HW/SDCard/SDCard_eval.h ****     RCC_AHBPeriphClockCmd(RCC_AHBPeriph_DMA2, ENABLE);          // ‰ΩøËÉΩDMAÊó∂Èíü
  89              		.loc 2 87 5 is_stmt 1 view .LVU12
  90 000a 0121     		movs	r1, #1
  91              	.LVL3:
  92              		.loc 2 87 5 is_stmt 0 view .LVU13
  93 000c 0220     		movs	r0, #2
  94              	.LVL4:
  95              		.loc 2 87 5 view .LVU14
  96 000e FFF7FEFF 		bl	RCC_AHBPeriphClockCmd
  97              	.LVL5:
  88:HW/SDCard/SDCard_eval.h ****     /* Ê∏ÖÈô§DMAÊ†áÂøó */
  89:HW/SDCard/SDCard_eval.h ****     DMA_ClearFlag(DMA2_FLAG_TC4 | DMA2_FLAG_TE4 | DMA2_FLAG_HT4 | DMA2_FLAG_GL4);
  98              		.loc 2 89 5 is_stmt 1 view .LVU15
  99 0012 1348     		ldr	r0, .L7
 100 0014 FFF7FEFF 		bl	DMA_ClearFlag
 101              	.LVL6:
  90:HW/SDCard/SDCard_eval.h ****     /* Â§±ËÉΩDMA */
  91:HW/SDCard/SDCard_eval.h ****     DMA_Cmd(DMA2_Channel4, DISABLE);
 102              		.loc 2 91 5 view .LVU16
 103 0018 124D     		ldr	r5, .L7+4
 104 001a 0021     		movs	r1, #0
 105 001c 2846     		mov	r0, r5
 106 001e FFF7FEFF 		bl	DMA_Cmd
 107              	.LVL7:
  92:HW/SDCard/SDCard_eval.h ****     /* ÈÖçÁΩÆDMAÈÄöÈÅì */
  93:HW/SDCard/SDCard_eval.h ****     DMA_InitTypeDef dmaDef;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 39


 108              		.loc 2 93 5 view .LVU17
  94:HW/SDCard/SDCard_eval.h ****     dmaDef.DMA_PeripheralBaseAddr = (uint32_t)&SDIO->FIFO;      // FIFOÊï∞ÊçÆÂØÑÂ≠òÂô®
 109              		.loc 2 94 5 view .LVU18
 110              		.loc 2 94 35 is_stmt 0 view .LVU19
 111 0022 114B     		ldr	r3, .L7+8
 112 0024 0193     		str	r3, [sp, #4]
  95:HW/SDCard/SDCard_eval.h ****     dmaDef.DMA_MemoryBaseAddr     = (uint32_t)ptr;              // ÂÜÖÂ≠òÂú∞ÂùÄ
 113              		.loc 2 95 5 is_stmt 1 view .LVU20
 114              		.loc 2 95 35 is_stmt 0 view .LVU21
 115 0026 0297     		str	r7, [sp, #8]
  96:HW/SDCard/SDCard_eval.h ****     dmaDef.DMA_DIR                = DMA_DIR;                    // ‰º†ËæìÊñπÂêë
 116              		.loc 2 96 5 is_stmt 1 view .LVU22
 117              		.loc 2 96 35 is_stmt 0 view .LVU23
 118 0028 0396     		str	r6, [sp, #12]
  97:HW/SDCard/SDCard_eval.h ****     dmaDef.DMA_BufferSize         = size / 4;                   // Êï∞ÊçÆÂ§ßÂ∞è(CNDTRÂØÑÂ≠òÂô®)
 119              		.loc 2 97 5 is_stmt 1 view .LVU24
 120              		.loc 2 97 42 is_stmt 0 view .LVU25
 121 002a A408     		lsrs	r4, r4, #2
 122              	.LVL8:
 123              		.loc 2 97 35 view .LVU26
 124 002c 0494     		str	r4, [sp, #16]
  98:HW/SDCard/SDCard_eval.h ****     dmaDef.DMA_PeripheralInc      = DMA_PeripheralInc_Disable;  // Âú∞ÂùÄËá™Â¢û
 125              		.loc 2 98 5 is_stmt 1 view .LVU27
 126              		.loc 2 98 35 is_stmt 0 view .LVU28
 127 002e 0023     		movs	r3, #0
 128 0030 0593     		str	r3, [sp, #20]
  99:HW/SDCard/SDCard_eval.h ****     dmaDef.DMA_MemoryInc          = DMA_MemoryInc_Enable;       // Âú∞ÂùÄËá™Â¢û
 129              		.loc 2 99 5 is_stmt 1 view .LVU29
 130              		.loc 2 99 35 is_stmt 0 view .LVU30
 131 0032 8022     		movs	r2, #128
 132 0034 0692     		str	r2, [sp, #24]
 100:HW/SDCard/SDCard_eval.h ****     dmaDef.DMA_PeripheralDataSize = DMA_PeripheralDataSize_Word;// Êï∞ÊçÆÂ§ßÂ∞è
 133              		.loc 2 100 5 is_stmt 1 view .LVU31
 134              		.loc 2 100 35 is_stmt 0 view .LVU32
 135 0036 4FF40072 		mov	r2, #512
 136 003a 0792     		str	r2, [sp, #28]
 101:HW/SDCard/SDCard_eval.h ****     dmaDef.DMA_MemoryDataSize     = DMA_MemoryDataSize_Word;    // Êï∞ÊçÆÂ§ßÂ∞è
 137              		.loc 2 101 5 is_stmt 1 view .LVU33
 138              		.loc 2 101 35 is_stmt 0 view .LVU34
 139 003c 4FF40062 		mov	r2, #2048
 140 0040 0892     		str	r2, [sp, #32]
 102:HW/SDCard/SDCard_eval.h ****     dmaDef.DMA_Mode               = DMA_Mode_Normal;            // ‰º†ËæìÊ®°ÂºèÔºàÂçïÊ¨°‰º†Ëæì/Âæ™Á
 141              		.loc 2 102 5 is_stmt 1 view .LVU35
 142              		.loc 2 102 35 is_stmt 0 view .LVU36
 143 0042 0993     		str	r3, [sp, #36]
 103:HW/SDCard/SDCard_eval.h ****     dmaDef.DMA_Priority           = DMA_Priority_High;          // ‰º†Ëæì‰ºòÂÖàÁ∫ß
 144              		.loc 2 103 5 is_stmt 1 view .LVU37
 145              		.loc 2 103 35 is_stmt 0 view .LVU38
 146 0044 4FF40052 		mov	r2, #8192
 147 0048 0A92     		str	r2, [sp, #40]
 104:HW/SDCard/SDCard_eval.h ****     dmaDef.DMA_M2M                = DMA_M2M_Disable;            // ÂÖ≥Èó≠M->MÁöÑ‰º†ËæìÊñπÂêë
 148              		.loc 2 104 5 is_stmt 1 view .LVU39
 149              		.loc 2 104 35 is_stmt 0 view .LVU40
 150 004a 0B93     		str	r3, [sp, #44]
 105:HW/SDCard/SDCard_eval.h ****     DMA_Init(DMA2_Channel4, &dmaDef);                           // USART_TXÂØπÂ∫îÈÄöÈÅì4
 151              		.loc 2 105 5 is_stmt 1 view .LVU41
 152 004c 01A9     		add	r1, sp, #4
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 40


 153 004e 2846     		mov	r0, r5
 154 0050 FFF7FEFF 		bl	DMA_Init
 155              	.LVL9:
 106:HW/SDCard/SDCard_eval.h ****     /* ‰ΩøËÉΩDMAÈÄöÈÅì */
 107:HW/SDCard/SDCard_eval.h ****     DMA_Cmd(DMA2_Channel4, ENABLE);
 156              		.loc 2 107 5 view .LVU42
 157 0054 0121     		movs	r1, #1
 158 0056 2846     		mov	r0, r5
 159 0058 FFF7FEFF 		bl	DMA_Cmd
 160              	.LVL10:
 108:HW/SDCard/SDCard_eval.h **** }
 161              		.loc 2 108 1 is_stmt 0 view .LVU43
 162 005c 0DB0     		add	sp, sp, #52
 163              	.LCFI2:
 164              		.cfi_def_cfa_offset 20
 165              		@ sp needed
 166 005e F0BD     		pop	{r4, r5, r6, r7, pc}
 167              	.LVL11:
 168              	.L8:
 169              		.loc 2 108 1 view .LVU44
 170              		.align	2
 171              	.L7:
 172 0060 00F00010 		.word	268496896
 173 0064 44040240 		.word	1073873988
 174 0068 80800140 		.word	1073840256
 175              		.cfi_endproc
 176              	.LFE31:
 178              		.section	.text.CmdError,"ax",%progbits
 179              		.align	1
 180              		.syntax unified
 181              		.thumb
 182              		.thumb_func
 184              	CmdError:
 185              	.LFB60:
1892:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 186              		.loc 1 1892 1 is_stmt 1 view -0
 187              		.cfi_startproc
 188              		@ args = 0, pretend = 0, frame = 0
 189              		@ frame_needed = 0, uses_anonymous_args = 0
 190 0000 10B5     		push	{r4, lr}
 191              	.LCFI3:
 192              		.cfi_def_cfa_offset 8
 193              		.cfi_offset 4, -8
 194              		.cfi_offset 14, -4
1893:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t timeout;
 195              		.loc 1 1893 3 view .LVU46
 196              	.LVL12:
1894:HW/SDCard/stm32_eval_sdio_sd.c **** 
 197              		.loc 1 1894 3 view .LVU47
1896:HW/SDCard/stm32_eval_sdio_sd.c **** 
 198              		.loc 1 1896 3 view .LVU48
1898:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 199              		.loc 1 1898 3 view .LVU49
1896:HW/SDCard/stm32_eval_sdio_sd.c **** 
 200              		.loc 1 1896 11 is_stmt 0 view .LVU50
 201 0002 4FF48034 		mov	r4, #65536
1898:HW/SDCard/stm32_eval_sdio_sd.c ****   {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 41


 202              		.loc 1 1898 9 view .LVU51
 203 0006 00E0     		b	.L10
 204              	.LVL13:
 205              	.L12:
1900:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 206              		.loc 1 1900 5 is_stmt 1 view .LVU52
1900:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 207              		.loc 1 1900 12 is_stmt 0 view .LVU53
 208 0008 013C     		subs	r4, r4, #1
 209              	.LVL14:
 210              	.L10:
1898:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 211              		.loc 1 1898 24 is_stmt 1 view .LVU54
 212 000a 24B1     		cbz	r4, .L11
1898:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 213              		.loc 1 1898 28 is_stmt 0 discriminator 1 view .LVU55
 214 000c 8020     		movs	r0, #128
 215 000e FFF7FEFF 		bl	SDIO_GetFlagStatus
 216              	.LVL15:
1898:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 217              		.loc 1 1898 24 discriminator 1 view .LVU56
 218 0012 0028     		cmp	r0, #0
 219 0014 F8D0     		beq	.L12
 220              	.L11:
1903:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 221              		.loc 1 1903 3 is_stmt 1 view .LVU57
1903:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 222              		.loc 1 1903 6 is_stmt 0 view .LVU58
 223 0016 2CB1     		cbz	r4, .L14
1910:HW/SDCard/stm32_eval_sdio_sd.c **** 
 224              		.loc 1 1910 3 is_stmt 1 view .LVU59
 225 0018 40F2FF50 		movw	r0, #1535
 226 001c FFF7FEFF 		bl	SDIO_ClearFlag
 227              	.LVL16:
1912:HW/SDCard/stm32_eval_sdio_sd.c **** }
 228              		.loc 1 1912 3 view .LVU60
1912:HW/SDCard/stm32_eval_sdio_sd.c **** }
 229              		.loc 1 1912 9 is_stmt 0 view .LVU61
 230 0020 0020     		movs	r0, #0
 231              	.L13:
 232              	.LVL17:
1913:HW/SDCard/stm32_eval_sdio_sd.c **** 
 233              		.loc 1 1913 1 view .LVU62
 234 0022 10BD     		pop	{r4, pc}
 235              	.LVL18:
 236              	.L14:
1906:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 237              		.loc 1 1906 11 view .LVU63
 238 0024 0320     		movs	r0, #3
 239 0026 FCE7     		b	.L13
 240              		.cfi_endproc
 241              	.LFE60:
 243              		.section	.text.CmdResp7Error,"ax",%progbits
 244              		.align	1
 245              		.syntax unified
 246              		.thumb
 247              		.thumb_func
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 42


 249              	CmdResp7Error:
 250              	.LFB61:
1921:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 251              		.loc 1 1921 1 is_stmt 1 view -0
 252              		.cfi_startproc
 253              		@ args = 0, pretend = 0, frame = 0
 254              		@ frame_needed = 0, uses_anonymous_args = 0
 255 0000 08B5     		push	{r3, lr}
 256              	.LCFI4:
 257              		.cfi_def_cfa_offset 8
 258              		.cfi_offset 3, -8
 259              		.cfi_offset 14, -4
1922:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t status;
 260              		.loc 1 1922 3 view .LVU65
 261              	.LVL19:
1923:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t timeout = SDIO_CMD0TIMEOUT;
 262              		.loc 1 1923 3 view .LVU66
1924:HW/SDCard/stm32_eval_sdio_sd.c **** 
 263              		.loc 1 1924 3 view .LVU67
1926:HW/SDCard/stm32_eval_sdio_sd.c **** 
 264              		.loc 1 1926 3 view .LVU68
1926:HW/SDCard/stm32_eval_sdio_sd.c **** 
 265              		.loc 1 1926 10 is_stmt 0 view .LVU69
 266 0002 0F4B     		ldr	r3, .L26
 267 0004 5A6B     		ldr	r2, [r3, #52]
 268              	.LVL20:
1928:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 269              		.loc 1 1928 3 is_stmt 1 view .LVU70
1924:HW/SDCard/stm32_eval_sdio_sd.c **** 
 270              		.loc 1 1924 12 is_stmt 0 view .LVU71
 271 0006 4FF48033 		mov	r3, #65536
 272              	.LVL21:
 273              	.L17:
1928:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 274              		.loc 1 1928 84 is_stmt 1 view .LVU72
 275 000a 12F0450F 		tst	r2, #69
 276 000e 04D1     		bne	.L18
1928:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 277              		.loc 1 1928 84 is_stmt 0 discriminator 1 view .LVU73
 278 0010 1BB1     		cbz	r3, .L18
1930:HW/SDCard/stm32_eval_sdio_sd.c ****     status = SDIO->STA;
 279              		.loc 1 1930 5 is_stmt 1 view .LVU74
1930:HW/SDCard/stm32_eval_sdio_sd.c ****     status = SDIO->STA;
 280              		.loc 1 1930 12 is_stmt 0 view .LVU75
 281 0012 013B     		subs	r3, r3, #1
 282              	.LVL22:
1931:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 283              		.loc 1 1931 5 is_stmt 1 view .LVU76
1931:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 284              		.loc 1 1931 12 is_stmt 0 view .LVU77
 285 0014 0A4A     		ldr	r2, .L26
 286              	.LVL23:
1931:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 287              		.loc 1 1931 12 view .LVU78
 288 0016 526B     		ldr	r2, [r2, #52]
 289              	.LVL24:
1931:HW/SDCard/stm32_eval_sdio_sd.c ****   }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 43


 290              		.loc 1 1931 12 view .LVU79
 291 0018 F7E7     		b	.L17
 292              	.L18:
1934:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 293              		.loc 1 1934 3 is_stmt 1 view .LVU80
1934:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 294              		.loc 1 1934 6 is_stmt 0 view .LVU81
 295 001a 3BB1     		cbz	r3, .L20
1934:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 296              		.loc 1 1934 22 discriminator 1 view .LVU82
 297 001c 12F0040F 		tst	r2, #4
 298 0020 04D1     		bne	.L20
1942:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 299              		.loc 1 1942 3 is_stmt 1 view .LVU83
1942:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 300              		.loc 1 1942 6 is_stmt 0 view .LVU84
 301 0022 12F0400F 		tst	r2, #64
 302 0026 06D1     		bne	.L25
1949:HW/SDCard/stm32_eval_sdio_sd.c **** }
 303              		.loc 1 1949 9 view .LVU85
 304 0028 0020     		movs	r0, #0
 305              	.LVL25:
 306              	.L22:
1950:HW/SDCard/stm32_eval_sdio_sd.c **** 
 307              		.loc 1 1950 1 view .LVU86
 308 002a 08BD     		pop	{r3, pc}
 309              	.LVL26:
 310              	.L20:
1937:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
 311              		.loc 1 1937 5 is_stmt 1 view .LVU87
1938:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 312              		.loc 1 1938 5 view .LVU88
 313 002c 0420     		movs	r0, #4
 314 002e FFF7FEFF 		bl	SDIO_ClearFlag
 315              	.LVL27:
1939:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 316              		.loc 1 1939 5 view .LVU89
1939:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 317              		.loc 1 1939 11 is_stmt 0 view .LVU90
 318 0032 0320     		movs	r0, #3
 319 0034 F9E7     		b	.L22
 320              	.LVL28:
 321              	.L25:
1945:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CMDREND);
 322              		.loc 1 1945 5 is_stmt 1 view .LVU91
1946:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 323              		.loc 1 1946 5 view .LVU92
 324 0036 4020     		movs	r0, #64
 325 0038 FFF7FEFF 		bl	SDIO_ClearFlag
 326              	.LVL29:
1947:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 327              		.loc 1 1947 5 view .LVU93
1947:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 328              		.loc 1 1947 11 is_stmt 0 view .LVU94
 329 003c 0020     		movs	r0, #0
 330 003e F4E7     		b	.L22
 331              	.L27:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 44


 332              		.align	2
 333              	.L26:
 334 0040 00800140 		.word	1073840128
 335              		.cfi_endproc
 336              	.LFE61:
 338              		.section	.text.CmdResp3Error,"ax",%progbits
 339              		.align	1
 340              		.syntax unified
 341              		.thumb
 342              		.thumb_func
 344              	CmdResp3Error:
 345              	.LFB63:
1967:HW/SDCard/stm32_eval_sdio_sd.c **** 
1968:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1969:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Checks for error conditions for R3 (OCR) response.
1970:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  None
1971:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
1972:HW/SDCard/stm32_eval_sdio_sd.c ****   */
1973:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error CmdResp3Error(void)
1974:HW/SDCard/stm32_eval_sdio_sd.c **** {
 346              		.loc 1 1974 1 is_stmt 1 view -0
 347              		.cfi_startproc
 348              		@ args = 0, pretend = 0, frame = 0
 349              		@ frame_needed = 0, uses_anonymous_args = 0
 350 0000 08B5     		push	{r3, lr}
 351              	.LCFI5:
 352              		.cfi_def_cfa_offset 8
 353              		.cfi_offset 3, -8
 354              		.cfi_offset 14, -4
1975:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 355              		.loc 1 1975 3 view .LVU96
 356              	.LVL30:
1976:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t status;
 357              		.loc 1 1976 3 view .LVU97
1977:HW/SDCard/stm32_eval_sdio_sd.c **** 
1978:HW/SDCard/stm32_eval_sdio_sd.c ****   status = SDIO->STA;
 358              		.loc 1 1978 3 view .LVU98
 359              		.loc 1 1978 10 is_stmt 0 view .LVU99
 360 0002 0B4B     		ldr	r3, .L35
 361 0004 5B6B     		ldr	r3, [r3, #52]
 362              	.LVL31:
1979:HW/SDCard/stm32_eval_sdio_sd.c **** 
1980:HW/SDCard/stm32_eval_sdio_sd.c ****   while (!(status & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
 363              		.loc 1 1980 3 is_stmt 1 view .LVU100
 364              		.loc 1 1980 9 is_stmt 0 view .LVU101
 365 0006 01E0     		b	.L29
 366              	.L30:
1981:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1982:HW/SDCard/stm32_eval_sdio_sd.c ****     status = SDIO->STA;
 367              		.loc 1 1982 5 is_stmt 1 view .LVU102
 368              		.loc 1 1982 12 is_stmt 0 view .LVU103
 369 0008 094B     		ldr	r3, .L35
 370              	.LVL32:
 371              		.loc 1 1982 12 view .LVU104
 372 000a 5B6B     		ldr	r3, [r3, #52]
 373              	.LVL33:
 374              	.L29:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 45


1980:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 375              		.loc 1 1980 10 is_stmt 1 view .LVU105
 376 000c 13F0450F 		tst	r3, #69
 377 0010 FAD0     		beq	.L30
1983:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1984:HW/SDCard/stm32_eval_sdio_sd.c **** 
1985:HW/SDCard/stm32_eval_sdio_sd.c ****   if (status & SDIO_FLAG_CTIMEOUT)
 378              		.loc 1 1985 3 view .LVU106
 379              		.loc 1 1985 6 is_stmt 0 view .LVU107
 380 0012 13F0040F 		tst	r3, #4
 381 0016 05D1     		bne	.L34
1986:HW/SDCard/stm32_eval_sdio_sd.c ****   {
1987:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_CMD_RSP_TIMEOUT;
1988:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
1989:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
1990:HW/SDCard/stm32_eval_sdio_sd.c ****   }
1991:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Clear all the static flags */
1992:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
 382              		.loc 1 1992 3 is_stmt 1 view .LVU108
 383 0018 40F2FF50 		movw	r0, #1535
 384 001c FFF7FEFF 		bl	SDIO_ClearFlag
 385              	.LVL34:
1993:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
 386              		.loc 1 1993 3 view .LVU109
 387              		.loc 1 1993 9 is_stmt 0 view .LVU110
 388 0020 0020     		movs	r0, #0
 389              	.LVL35:
 390              	.L32:
1994:HW/SDCard/stm32_eval_sdio_sd.c **** }
 391              		.loc 1 1994 1 view .LVU111
 392 0022 08BD     		pop	{r3, pc}
 393              	.LVL36:
 394              	.L34:
1987:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
 395              		.loc 1 1987 5 is_stmt 1 view .LVU112
1988:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 396              		.loc 1 1988 5 view .LVU113
 397 0024 0420     		movs	r0, #4
 398 0026 FFF7FEFF 		bl	SDIO_ClearFlag
 399              	.LVL37:
1989:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 400              		.loc 1 1989 5 view .LVU114
1989:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 401              		.loc 1 1989 11 is_stmt 0 view .LVU115
 402 002a 0320     		movs	r0, #3
 403 002c F9E7     		b	.L32
 404              	.L36:
 405 002e 00BF     		.align	2
 406              	.L35:
 407 0030 00800140 		.word	1073840128
 408              		.cfi_endproc
 409              	.LFE63:
 411              		.section	.text.CmdResp2Error,"ax",%progbits
 412              		.align	1
 413              		.syntax unified
 414              		.thumb
 415              		.thumb_func
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 46


 417              	CmdResp2Error:
 418              	.LFB64:
1995:HW/SDCard/stm32_eval_sdio_sd.c **** 
1996:HW/SDCard/stm32_eval_sdio_sd.c **** /**
1997:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Checks for error conditions for R2 (CID or CSD) response.
1998:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  None
1999:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
2000:HW/SDCard/stm32_eval_sdio_sd.c ****   */
2001:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error CmdResp2Error(void)
2002:HW/SDCard/stm32_eval_sdio_sd.c **** {
 419              		.loc 1 2002 1 is_stmt 1 view -0
 420              		.cfi_startproc
 421              		@ args = 0, pretend = 0, frame = 0
 422              		@ frame_needed = 0, uses_anonymous_args = 0
 423 0000 08B5     		push	{r3, lr}
 424              	.LCFI6:
 425              		.cfi_def_cfa_offset 8
 426              		.cfi_offset 3, -8
 427              		.cfi_offset 14, -4
2003:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 428              		.loc 1 2003 3 view .LVU117
 429              	.LVL38:
2004:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t status;
 430              		.loc 1 2004 3 view .LVU118
2005:HW/SDCard/stm32_eval_sdio_sd.c **** 
2006:HW/SDCard/stm32_eval_sdio_sd.c ****   status = SDIO->STA;
 431              		.loc 1 2006 3 view .LVU119
 432              		.loc 1 2006 10 is_stmt 0 view .LVU120
 433 0002 0F4B     		ldr	r3, .L46
 434 0004 5B6B     		ldr	r3, [r3, #52]
 435              	.LVL39:
2007:HW/SDCard/stm32_eval_sdio_sd.c **** 
2008:HW/SDCard/stm32_eval_sdio_sd.c ****   while (!(status & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CTIMEOUT | SDIO_FLAG_CMDREND)))
 436              		.loc 1 2008 3 is_stmt 1 view .LVU121
 437              		.loc 1 2008 9 is_stmt 0 view .LVU122
 438 0006 01E0     		b	.L38
 439              	.L39:
2009:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2010:HW/SDCard/stm32_eval_sdio_sd.c ****     status = SDIO->STA;
 440              		.loc 1 2010 5 is_stmt 1 view .LVU123
 441              		.loc 1 2010 12 is_stmt 0 view .LVU124
 442 0008 0D4B     		ldr	r3, .L46
 443              	.LVL40:
 444              		.loc 1 2010 12 view .LVU125
 445 000a 5B6B     		ldr	r3, [r3, #52]
 446              	.LVL41:
 447              	.L38:
2008:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 448              		.loc 1 2008 10 is_stmt 1 view .LVU126
 449 000c 13F0450F 		tst	r3, #69
 450 0010 FAD0     		beq	.L39
2011:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2012:HW/SDCard/stm32_eval_sdio_sd.c **** 
2013:HW/SDCard/stm32_eval_sdio_sd.c ****   if (status & SDIO_FLAG_CTIMEOUT)
 451              		.loc 1 2013 3 view .LVU127
 452              		.loc 1 2013 6 is_stmt 0 view .LVU128
 453 0012 13F0040F 		tst	r3, #4
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 47


 454 0016 08D1     		bne	.L44
2014:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2015:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_CMD_RSP_TIMEOUT;
2016:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
2017:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
2018:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2019:HW/SDCard/stm32_eval_sdio_sd.c ****   else if (status & SDIO_FLAG_CCRCFAIL)
 455              		.loc 1 2019 8 is_stmt 1 view .LVU129
 456              		.loc 1 2019 11 is_stmt 0 view .LVU130
 457 0018 13F0010F 		tst	r3, #1
 458 001c 0AD1     		bne	.L45
2020:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2021:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_CMD_CRC_FAIL;
2022:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CCRCFAIL);
2023:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
2024:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2025:HW/SDCard/stm32_eval_sdio_sd.c **** 
2026:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Clear all the static flags */
2027:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
 459              		.loc 1 2027 3 is_stmt 1 view .LVU131
 460 001e 40F2FF50 		movw	r0, #1535
 461 0022 FFF7FEFF 		bl	SDIO_ClearFlag
 462              	.LVL42:
2028:HW/SDCard/stm32_eval_sdio_sd.c **** 
2029:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
 463              		.loc 1 2029 3 view .LVU132
 464              		.loc 1 2029 9 is_stmt 0 view .LVU133
 465 0026 0020     		movs	r0, #0
 466              	.LVL43:
 467              	.L41:
2030:HW/SDCard/stm32_eval_sdio_sd.c **** }
 468              		.loc 1 2030 1 view .LVU134
 469 0028 08BD     		pop	{r3, pc}
 470              	.LVL44:
 471              	.L44:
2015:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
 472              		.loc 1 2015 5 is_stmt 1 view .LVU135
2016:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 473              		.loc 1 2016 5 view .LVU136
 474 002a 0420     		movs	r0, #4
 475 002c FFF7FEFF 		bl	SDIO_ClearFlag
 476              	.LVL45:
2017:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 477              		.loc 1 2017 5 view .LVU137
2017:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 478              		.loc 1 2017 11 is_stmt 0 view .LVU138
 479 0030 0320     		movs	r0, #3
 480 0032 F9E7     		b	.L41
 481              	.LVL46:
 482              	.L45:
2021:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CCRCFAIL);
 483              		.loc 1 2021 5 is_stmt 1 view .LVU139
2022:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 484              		.loc 1 2022 5 view .LVU140
 485 0034 0120     		movs	r0, #1
 486 0036 FFF7FEFF 		bl	SDIO_ClearFlag
 487              	.LVL47:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 48


2023:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 488              		.loc 1 2023 5 view .LVU141
2023:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 489              		.loc 1 2023 11 is_stmt 0 view .LVU142
 490 003a 0120     		movs	r0, #1
 491 003c F4E7     		b	.L41
 492              	.L47:
 493 003e 00BF     		.align	2
 494              	.L46:
 495 0040 00800140 		.word	1073840128
 496              		.cfi_endproc
 497              	.LFE64:
 499              		.section	.text.CmdResp6Error,"ax",%progbits
 500              		.align	1
 501              		.syntax unified
 502              		.thumb
 503              		.thumb_func
 505              	CmdResp6Error:
 506              	.LVL48:
 507              	.LFB65:
2031:HW/SDCard/stm32_eval_sdio_sd.c **** 
2032:HW/SDCard/stm32_eval_sdio_sd.c **** /**
2033:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Checks for error conditions for R6 (RCA) response.
2034:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  cmd: The sent command index.
2035:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  prca: pointer to the variable that will contain the SD card relative 
2036:HW/SDCard/stm32_eval_sdio_sd.c ****   *         address RCA. 
2037:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
2038:HW/SDCard/stm32_eval_sdio_sd.c ****   */
2039:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error CmdResp6Error(uint8_t cmd, uint16_t *prca)
2040:HW/SDCard/stm32_eval_sdio_sd.c **** {
 508              		.loc 1 2040 1 is_stmt 1 view -0
 509              		.cfi_startproc
 510              		@ args = 0, pretend = 0, frame = 0
 511              		@ frame_needed = 0, uses_anonymous_args = 0
 512              		.loc 1 2040 1 is_stmt 0 view .LVU144
 513 0000 38B5     		push	{r3, r4, r5, lr}
 514              	.LCFI7:
 515              		.cfi_def_cfa_offset 16
 516              		.cfi_offset 3, -16
 517              		.cfi_offset 4, -12
 518              		.cfi_offset 5, -8
 519              		.cfi_offset 14, -4
 520 0002 0446     		mov	r4, r0
 521 0004 0D46     		mov	r5, r1
2041:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 522              		.loc 1 2041 3 is_stmt 1 view .LVU145
 523              	.LVL49:
2042:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t status;
 524              		.loc 1 2042 3 view .LVU146
2043:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t response_r1;
 525              		.loc 1 2043 3 view .LVU147
2044:HW/SDCard/stm32_eval_sdio_sd.c **** 
2045:HW/SDCard/stm32_eval_sdio_sd.c ****   status = SDIO->STA;
 526              		.loc 1 2045 3 view .LVU148
 527              		.loc 1 2045 10 is_stmt 0 view .LVU149
 528 0006 1E4B     		ldr	r3, .L64
 529 0008 5B6B     		ldr	r3, [r3, #52]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 49


 530              	.LVL50:
2046:HW/SDCard/stm32_eval_sdio_sd.c **** 
2047:HW/SDCard/stm32_eval_sdio_sd.c ****   while (!(status & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CTIMEOUT | SDIO_FLAG_CMDREND)))
 531              		.loc 1 2047 3 is_stmt 1 view .LVU150
 532              		.loc 1 2047 9 is_stmt 0 view .LVU151
 533 000a 01E0     		b	.L49
 534              	.L50:
2048:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2049:HW/SDCard/stm32_eval_sdio_sd.c ****     status = SDIO->STA;
 535              		.loc 1 2049 5 is_stmt 1 view .LVU152
 536              		.loc 1 2049 12 is_stmt 0 view .LVU153
 537 000c 1C4B     		ldr	r3, .L64
 538              	.LVL51:
 539              		.loc 1 2049 12 view .LVU154
 540 000e 5B6B     		ldr	r3, [r3, #52]
 541              	.LVL52:
 542              	.L49:
2047:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 543              		.loc 1 2047 10 is_stmt 1 view .LVU155
 544 0010 13F0450F 		tst	r3, #69
 545 0014 FAD0     		beq	.L50
2050:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2051:HW/SDCard/stm32_eval_sdio_sd.c **** 
2052:HW/SDCard/stm32_eval_sdio_sd.c ****   if (status & SDIO_FLAG_CTIMEOUT)
 546              		.loc 1 2052 3 view .LVU156
 547              		.loc 1 2052 6 is_stmt 0 view .LVU157
 548 0016 13F0040F 		tst	r3, #4
 549 001a 08D1     		bne	.L60
2053:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2054:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_CMD_RSP_TIMEOUT;
2055:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
2056:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
2057:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2058:HW/SDCard/stm32_eval_sdio_sd.c ****   else if (status & SDIO_FLAG_CCRCFAIL)
 550              		.loc 1 2058 8 is_stmt 1 view .LVU158
 551              		.loc 1 2058 11 is_stmt 0 view .LVU159
 552 001c 13F0010F 		tst	r3, #1
 553 0020 0AD1     		bne	.L61
2059:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2060:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_CMD_CRC_FAIL;
2061:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CCRCFAIL);
2062:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
2063:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2064:HW/SDCard/stm32_eval_sdio_sd.c **** 
2065:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Check response received is of desired command */
2066:HW/SDCard/stm32_eval_sdio_sd.c ****   if (SDIO_GetCommandResponse() != cmd)
 554              		.loc 1 2066 3 is_stmt 1 view .LVU160
 555              		.loc 1 2066 7 is_stmt 0 view .LVU161
 556 0022 FFF7FEFF 		bl	SDIO_GetCommandResponse
 557              	.LVL53:
 558              		.loc 1 2066 6 view .LVU162
 559 0026 A042     		cmp	r0, r4
 560 0028 0BD0     		beq	.L62
2067:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2068:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_ILLEGAL_CMD;
2069:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 561              		.loc 1 2069 11 view .LVU163
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 50


 562 002a 1020     		movs	r0, #16
 563              	.LVL54:
 564              	.L52:
2070:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2071:HW/SDCard/stm32_eval_sdio_sd.c **** 
2072:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Clear all the static flags */
2073:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
2074:HW/SDCard/stm32_eval_sdio_sd.c **** 
2075:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< We have received response, retrieve it.  */
2076:HW/SDCard/stm32_eval_sdio_sd.c ****   response_r1 = SDIO_GetResponse(SDIO_RESP1);
2077:HW/SDCard/stm32_eval_sdio_sd.c **** 
2078:HW/SDCard/stm32_eval_sdio_sd.c ****   if (SD_ALLZERO == (response_r1 & (SD_R6_GENERAL_UNKNOWN_ERROR | SD_R6_ILLEGAL_CMD | SD_R6_COM_CRC
2079:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2080:HW/SDCard/stm32_eval_sdio_sd.c ****     *prca = (uint16_t) (response_r1 >> 16);
2081:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
2082:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2083:HW/SDCard/stm32_eval_sdio_sd.c **** 
2084:HW/SDCard/stm32_eval_sdio_sd.c ****   if (response_r1 & SD_R6_GENERAL_UNKNOWN_ERROR)
2085:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2086:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_GENERAL_UNKNOWN_ERROR);
2087:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2088:HW/SDCard/stm32_eval_sdio_sd.c **** 
2089:HW/SDCard/stm32_eval_sdio_sd.c ****   if (response_r1 & SD_R6_ILLEGAL_CMD)
2090:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2091:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_ILLEGAL_CMD);
2092:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2093:HW/SDCard/stm32_eval_sdio_sd.c **** 
2094:HW/SDCard/stm32_eval_sdio_sd.c ****   if (response_r1 & SD_R6_COM_CRC_FAILED)
2095:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2096:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_COM_CRC_FAILED);
2097:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2098:HW/SDCard/stm32_eval_sdio_sd.c **** 
2099:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
2100:HW/SDCard/stm32_eval_sdio_sd.c **** }
 565              		.loc 1 2100 1 view .LVU164
 566 002c 38BD     		pop	{r3, r4, r5, pc}
 567              	.LVL55:
 568              	.L60:
2054:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
 569              		.loc 1 2054 5 is_stmt 1 view .LVU165
2055:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 570              		.loc 1 2055 5 view .LVU166
 571 002e 0420     		movs	r0, #4
 572              	.LVL56:
2055:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 573              		.loc 1 2055 5 is_stmt 0 view .LVU167
 574 0030 FFF7FEFF 		bl	SDIO_ClearFlag
 575              	.LVL57:
2056:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 576              		.loc 1 2056 5 is_stmt 1 view .LVU168
2056:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 577              		.loc 1 2056 11 is_stmt 0 view .LVU169
 578 0034 0320     		movs	r0, #3
 579 0036 F9E7     		b	.L52
 580              	.LVL58:
 581              	.L61:
2060:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CCRCFAIL);
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 51


 582              		.loc 1 2060 5 is_stmt 1 view .LVU170
2061:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 583              		.loc 1 2061 5 view .LVU171
 584 0038 0120     		movs	r0, #1
 585              	.LVL59:
2061:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 586              		.loc 1 2061 5 is_stmt 0 view .LVU172
 587 003a FFF7FEFF 		bl	SDIO_ClearFlag
 588              	.LVL60:
2062:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 589              		.loc 1 2062 5 is_stmt 1 view .LVU173
2062:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 590              		.loc 1 2062 11 is_stmt 0 view .LVU174
 591 003e 0120     		movs	r0, #1
 592 0040 F4E7     		b	.L52
 593              	.LVL61:
 594              	.L62:
2073:HW/SDCard/stm32_eval_sdio_sd.c **** 
 595              		.loc 1 2073 3 is_stmt 1 view .LVU175
 596 0042 40F2FF50 		movw	r0, #1535
 597 0046 FFF7FEFF 		bl	SDIO_ClearFlag
 598              	.LVL62:
2076:HW/SDCard/stm32_eval_sdio_sd.c **** 
 599              		.loc 1 2076 3 view .LVU176
2076:HW/SDCard/stm32_eval_sdio_sd.c **** 
 600              		.loc 1 2076 17 is_stmt 0 view .LVU177
 601 004a 0020     		movs	r0, #0
 602 004c FFF7FEFF 		bl	SDIO_GetResponse
 603              	.LVL63:
2078:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 604              		.loc 1 2078 3 is_stmt 1 view .LVU178
2078:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 605              		.loc 1 2078 6 is_stmt 0 view .LVU179
 606 0050 10F4604F 		tst	r0, #57344
 607 0054 0AD0     		beq	.L63
2084:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 608              		.loc 1 2084 3 is_stmt 1 view .LVU180
2084:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 609              		.loc 1 2084 6 is_stmt 0 view .LVU181
 610 0056 10F4005F 		tst	r0, #8192
 611 005a 0BD1     		bne	.L56
2089:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 612              		.loc 1 2089 3 is_stmt 1 view .LVU182
2089:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 613              		.loc 1 2089 6 is_stmt 0 view .LVU183
 614 005c 10F4804F 		tst	r0, #16384
 615 0060 0AD1     		bne	.L57
2094:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 616              		.loc 1 2094 3 is_stmt 1 view .LVU184
2094:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 617              		.loc 1 2094 6 is_stmt 0 view .LVU185
 618 0062 10F4004F 		tst	r0, #32768
 619 0066 09D1     		bne	.L58
2099:HW/SDCard/stm32_eval_sdio_sd.c **** }
 620              		.loc 1 2099 9 view .LVU186
 621 0068 0020     		movs	r0, #0
 622              	.LVL64:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 52


2099:HW/SDCard/stm32_eval_sdio_sd.c **** }
 623              		.loc 1 2099 9 view .LVU187
 624 006a DFE7     		b	.L52
 625              	.LVL65:
 626              	.L63:
2080:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 627              		.loc 1 2080 5 is_stmt 1 view .LVU188
2080:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 628              		.loc 1 2080 13 is_stmt 0 view .LVU189
 629 006c 000C     		lsrs	r0, r0, #16
 630              	.LVL66:
2080:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 631              		.loc 1 2080 11 view .LVU190
 632 006e 2880     		strh	r0, [r5]	@ movhi
2081:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 633              		.loc 1 2081 5 is_stmt 1 view .LVU191
2081:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 634              		.loc 1 2081 11 is_stmt 0 view .LVU192
 635 0070 0020     		movs	r0, #0
 636 0072 DBE7     		b	.L52
 637              	.LVL67:
 638              	.L56:
2086:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 639              		.loc 1 2086 11 view .LVU193
 640 0074 1320     		movs	r0, #19
 641              	.LVL68:
2086:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 642              		.loc 1 2086 11 view .LVU194
 643 0076 D9E7     		b	.L52
 644              	.LVL69:
 645              	.L57:
2091:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 646              		.loc 1 2091 11 view .LVU195
 647 0078 1020     		movs	r0, #16
 648              	.LVL70:
2091:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 649              		.loc 1 2091 11 view .LVU196
 650 007a D7E7     		b	.L52
 651              	.LVL71:
 652              	.L58:
2096:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 653              		.loc 1 2096 11 view .LVU197
 654 007c 0F20     		movs	r0, #15
 655              	.LVL72:
2096:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 656              		.loc 1 2096 11 view .LVU198
 657 007e D5E7     		b	.L52
 658              	.L65:
 659              		.align	2
 660              	.L64:
 661 0080 00800140 		.word	1073840128
 662              		.cfi_endproc
 663              	.LFE65:
 665              		.section	.text.IsCardProgramming,"ax",%progbits
 666              		.align	1
 667              		.syntax unified
 668              		.thumb
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 53


 669              		.thumb_func
 671              	IsCardProgramming:
 672              	.LVL73:
 673              	.LFB67:
2101:HW/SDCard/stm32_eval_sdio_sd.c **** 
2102:HW/SDCard/stm32_eval_sdio_sd.c **** /**
2103:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Enables or disables the SDIO wide bus mode.
2104:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  NewState: new state of the SDIO wide bus mode.
2105:HW/SDCard/stm32_eval_sdio_sd.c ****   *   This parameter can be: ENABLE or DISABLE.
2106:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
2107:HW/SDCard/stm32_eval_sdio_sd.c ****   */
2108:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error SDEnWideBus(FunctionalState NewState)
2109:HW/SDCard/stm32_eval_sdio_sd.c **** {
2110:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
2111:HW/SDCard/stm32_eval_sdio_sd.c **** 
2112:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t scr[2] = {0, 0};
2113:HW/SDCard/stm32_eval_sdio_sd.c **** 
2114:HW/SDCard/stm32_eval_sdio_sd.c ****   if (SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED)
2115:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2116:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_LOCK_UNLOCK_FAILED;
2117:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
2118:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2119:HW/SDCard/stm32_eval_sdio_sd.c **** 
2120:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Get SCR Register */
2121:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = FindSCR(RCA, scr);
2122:HW/SDCard/stm32_eval_sdio_sd.c **** 
2123:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus != SD_OK)
2124:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2125:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
2126:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2127:HW/SDCard/stm32_eval_sdio_sd.c **** 
2128:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< If wide bus operation to be enabled */
2129:HW/SDCard/stm32_eval_sdio_sd.c ****   if (NewState == ENABLE)
2130:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2131:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< If requested card supports wide bus operation */
2132:HW/SDCard/stm32_eval_sdio_sd.c ****     if ((scr[1] & SD_WIDE_BUS_SUPPORT) != SD_ALLZERO)
2133:HW/SDCard/stm32_eval_sdio_sd.c ****     {
2134:HW/SDCard/stm32_eval_sdio_sd.c ****       /*!< Send CMD55 APP_CMD with argument as card's RCA.*/
2135:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Argument = (uint32_t) RCA << 16;
2136:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
2137:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
2138:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
2139:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
2140:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
2141:HW/SDCard/stm32_eval_sdio_sd.c **** 
2142:HW/SDCard/stm32_eval_sdio_sd.c ****       errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
2143:HW/SDCard/stm32_eval_sdio_sd.c **** 
2144:HW/SDCard/stm32_eval_sdio_sd.c ****       if (errorstatus != SD_OK)
2145:HW/SDCard/stm32_eval_sdio_sd.c ****       {
2146:HW/SDCard/stm32_eval_sdio_sd.c ****         return(errorstatus);
2147:HW/SDCard/stm32_eval_sdio_sd.c ****       }
2148:HW/SDCard/stm32_eval_sdio_sd.c **** 
2149:HW/SDCard/stm32_eval_sdio_sd.c ****       /*!< Send ACMD6 APP_CMD with argument as 2 for wide bus mode */
2150:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Argument = 0x2;
2151:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_SD_SET_BUSWIDTH;
2152:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
2153:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 54


2154:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
2155:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
2156:HW/SDCard/stm32_eval_sdio_sd.c **** 
2157:HW/SDCard/stm32_eval_sdio_sd.c ****       errorstatus = CmdResp1Error(SD_CMD_APP_SD_SET_BUSWIDTH);
2158:HW/SDCard/stm32_eval_sdio_sd.c **** 
2159:HW/SDCard/stm32_eval_sdio_sd.c ****       if (errorstatus != SD_OK)
2160:HW/SDCard/stm32_eval_sdio_sd.c ****       {
2161:HW/SDCard/stm32_eval_sdio_sd.c ****         return(errorstatus);
2162:HW/SDCard/stm32_eval_sdio_sd.c ****       }
2163:HW/SDCard/stm32_eval_sdio_sd.c ****       return(errorstatus);
2164:HW/SDCard/stm32_eval_sdio_sd.c ****     }
2165:HW/SDCard/stm32_eval_sdio_sd.c ****     else
2166:HW/SDCard/stm32_eval_sdio_sd.c ****     {
2167:HW/SDCard/stm32_eval_sdio_sd.c ****       errorstatus = SD_REQUEST_NOT_APPLICABLE;
2168:HW/SDCard/stm32_eval_sdio_sd.c ****       return(errorstatus);
2169:HW/SDCard/stm32_eval_sdio_sd.c ****     }
2170:HW/SDCard/stm32_eval_sdio_sd.c ****   }   /*!< If wide bus operation to be disabled */
2171:HW/SDCard/stm32_eval_sdio_sd.c ****   else
2172:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2173:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< If requested card supports 1 bit mode operation */
2174:HW/SDCard/stm32_eval_sdio_sd.c ****     if ((scr[1] & SD_SINGLE_BUS_SUPPORT) != SD_ALLZERO)
2175:HW/SDCard/stm32_eval_sdio_sd.c ****     {
2176:HW/SDCard/stm32_eval_sdio_sd.c ****       /*!< Send CMD55 APP_CMD with argument as card's RCA.*/
2177:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Argument = (uint32_t) RCA << 16;
2178:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
2179:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
2180:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
2181:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
2182:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
2183:HW/SDCard/stm32_eval_sdio_sd.c **** 
2184:HW/SDCard/stm32_eval_sdio_sd.c **** 
2185:HW/SDCard/stm32_eval_sdio_sd.c ****       errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
2186:HW/SDCard/stm32_eval_sdio_sd.c **** 
2187:HW/SDCard/stm32_eval_sdio_sd.c ****       if (errorstatus != SD_OK)
2188:HW/SDCard/stm32_eval_sdio_sd.c ****       {
2189:HW/SDCard/stm32_eval_sdio_sd.c ****         return(errorstatus);
2190:HW/SDCard/stm32_eval_sdio_sd.c ****       }
2191:HW/SDCard/stm32_eval_sdio_sd.c **** 
2192:HW/SDCard/stm32_eval_sdio_sd.c ****       /*!< Send ACMD6 APP_CMD with argument as 2 for wide bus mode */
2193:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Argument = 0x00;
2194:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_SD_SET_BUSWIDTH;
2195:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
2196:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
2197:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
2198:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
2199:HW/SDCard/stm32_eval_sdio_sd.c **** 
2200:HW/SDCard/stm32_eval_sdio_sd.c ****       errorstatus = CmdResp1Error(SD_CMD_APP_SD_SET_BUSWIDTH);
2201:HW/SDCard/stm32_eval_sdio_sd.c **** 
2202:HW/SDCard/stm32_eval_sdio_sd.c ****       if (errorstatus != SD_OK)
2203:HW/SDCard/stm32_eval_sdio_sd.c ****       {
2204:HW/SDCard/stm32_eval_sdio_sd.c ****         return(errorstatus);
2205:HW/SDCard/stm32_eval_sdio_sd.c ****       }
2206:HW/SDCard/stm32_eval_sdio_sd.c **** 
2207:HW/SDCard/stm32_eval_sdio_sd.c ****       return(errorstatus);
2208:HW/SDCard/stm32_eval_sdio_sd.c ****     }
2209:HW/SDCard/stm32_eval_sdio_sd.c ****     else
2210:HW/SDCard/stm32_eval_sdio_sd.c ****     {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 55


2211:HW/SDCard/stm32_eval_sdio_sd.c ****       errorstatus = SD_REQUEST_NOT_APPLICABLE;
2212:HW/SDCard/stm32_eval_sdio_sd.c ****       return(errorstatus);
2213:HW/SDCard/stm32_eval_sdio_sd.c ****     }
2214:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2215:HW/SDCard/stm32_eval_sdio_sd.c **** }
2216:HW/SDCard/stm32_eval_sdio_sd.c **** 
2217:HW/SDCard/stm32_eval_sdio_sd.c **** /**
2218:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Checks if the SD card is in programming state.
2219:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  pstatus: pointer to the variable that will contain the SD card state.
2220:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
2221:HW/SDCard/stm32_eval_sdio_sd.c ****   */
2222:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error IsCardProgramming(uint8_t *pstatus)
2223:HW/SDCard/stm32_eval_sdio_sd.c **** {
 674              		.loc 1 2223 1 is_stmt 1 view -0
 675              		.cfi_startproc
 676              		@ args = 0, pretend = 0, frame = 8
 677              		@ frame_needed = 0, uses_anonymous_args = 0
 678              		.loc 1 2223 1 is_stmt 0 view .LVU200
 679 0000 10B5     		push	{r4, lr}
 680              	.LCFI8:
 681              		.cfi_def_cfa_offset 8
 682              		.cfi_offset 4, -8
 683              		.cfi_offset 14, -4
 684 0002 82B0     		sub	sp, sp, #8
 685              	.LCFI9:
 686              		.cfi_def_cfa_offset 16
 687 0004 0446     		mov	r4, r0
2224:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 688              		.loc 1 2224 3 is_stmt 1 view .LVU201
 689              	.LVL74:
2225:HW/SDCard/stm32_eval_sdio_sd.c ****   __IO uint32_t respR1 = 0, status = 0;
 690              		.loc 1 2225 3 view .LVU202
 691              		.loc 1 2225 17 is_stmt 0 view .LVU203
 692 0006 0023     		movs	r3, #0
 693 0008 0193     		str	r3, [sp, #4]
 694              		.loc 1 2225 29 view .LVU204
 695 000a 0093     		str	r3, [sp]
2226:HW/SDCard/stm32_eval_sdio_sd.c **** 
2227:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t) RCA << 16;
 696              		.loc 1 2227 3 is_stmt 1 view .LVU205
 697              		.loc 1 2227 41 is_stmt 0 view .LVU206
 698 000c 5D4A     		ldr	r2, .L97
 699 000e 1268     		ldr	r2, [r2]
 700              		.loc 1 2227 56 view .LVU207
 701 0010 1204     		lsls	r2, r2, #16
 702              		.loc 1 2227 39 view .LVU208
 703 0012 5D48     		ldr	r0, .L97+4
 704              	.LVL75:
 705              		.loc 1 2227 39 view .LVU209
 706 0014 0260     		str	r2, [r0]
2228:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SEND_STATUS;
 707              		.loc 1 2228 3 is_stmt 1 view .LVU210
 708              		.loc 1 2228 39 is_stmt 0 view .LVU211
 709 0016 0D22     		movs	r2, #13
 710 0018 4260     		str	r2, [r0, #4]
2229:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 711              		.loc 1 2229 3 is_stmt 1 view .LVU212
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 56


 712              		.loc 1 2229 39 is_stmt 0 view .LVU213
 713 001a 4022     		movs	r2, #64
 714 001c 8260     		str	r2, [r0, #8]
2230:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 715              		.loc 1 2230 3 is_stmt 1 view .LVU214
 716              		.loc 1 2230 35 is_stmt 0 view .LVU215
 717 001e C360     		str	r3, [r0, #12]
2231:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 718              		.loc 1 2231 3 is_stmt 1 view .LVU216
 719              		.loc 1 2231 35 is_stmt 0 view .LVU217
 720 0020 4FF48063 		mov	r3, #1024
 721 0024 0361     		str	r3, [r0, #16]
2232:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 722              		.loc 1 2232 3 is_stmt 1 view .LVU218
 723 0026 FFF7FEFF 		bl	SDIO_SendCommand
 724              	.LVL76:
2233:HW/SDCard/stm32_eval_sdio_sd.c **** 
2234:HW/SDCard/stm32_eval_sdio_sd.c ****   status = SDIO->STA;
 725              		.loc 1 2234 3 view .LVU219
 726              		.loc 1 2234 16 is_stmt 0 view .LVU220
 727 002a 584B     		ldr	r3, .L97+8
 728 002c 5B6B     		ldr	r3, [r3, #52]
 729              		.loc 1 2234 10 view .LVU221
 730 002e 0093     		str	r3, [sp]
2235:HW/SDCard/stm32_eval_sdio_sd.c ****   while (!(status & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
 731              		.loc 1 2235 3 is_stmt 1 view .LVU222
 732              		.loc 1 2235 9 is_stmt 0 view .LVU223
 733 0030 02E0     		b	.L67
 734              	.L68:
2236:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2237:HW/SDCard/stm32_eval_sdio_sd.c ****     status = SDIO->STA;
 735              		.loc 1 2237 5 is_stmt 1 view .LVU224
 736              		.loc 1 2237 18 is_stmt 0 view .LVU225
 737 0032 564B     		ldr	r3, .L97+8
 738 0034 5B6B     		ldr	r3, [r3, #52]
 739              		.loc 1 2237 12 view .LVU226
 740 0036 0093     		str	r3, [sp]
 741              	.L67:
2235:HW/SDCard/stm32_eval_sdio_sd.c ****   while (!(status & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
 742              		.loc 1 2235 10 is_stmt 1 view .LVU227
2235:HW/SDCard/stm32_eval_sdio_sd.c ****   while (!(status & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
 743              		.loc 1 2235 19 is_stmt 0 view .LVU228
 744 0038 009B     		ldr	r3, [sp]
2235:HW/SDCard/stm32_eval_sdio_sd.c ****   while (!(status & (SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT)))
 745              		.loc 1 2235 10 view .LVU229
 746 003a 13F0450F 		tst	r3, #69
 747 003e F8D0     		beq	.L68
2238:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2239:HW/SDCard/stm32_eval_sdio_sd.c **** 
2240:HW/SDCard/stm32_eval_sdio_sd.c ****   if (status & SDIO_FLAG_CTIMEOUT)
 748              		.loc 1 2240 3 is_stmt 1 view .LVU230
 749              		.loc 1 2240 14 is_stmt 0 view .LVU231
 750 0040 009B     		ldr	r3, [sp]
 751              		.loc 1 2240 6 view .LVU232
 752 0042 13F0040F 		tst	r3, #4
 753 0046 0CD1     		bne	.L94
2241:HW/SDCard/stm32_eval_sdio_sd.c ****   {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 57


2242:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_CMD_RSP_TIMEOUT;
2243:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
2244:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
2245:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2246:HW/SDCard/stm32_eval_sdio_sd.c ****   else if (status & SDIO_FLAG_CCRCFAIL)
 754              		.loc 1 2246 8 is_stmt 1 view .LVU233
 755              		.loc 1 2246 19 is_stmt 0 view .LVU234
 756 0048 009B     		ldr	r3, [sp]
 757              		.loc 1 2246 11 view .LVU235
 758 004a 13F0010F 		tst	r3, #1
 759 004e 0DD1     		bne	.L95
2247:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2248:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_CMD_CRC_FAIL;
2249:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CCRCFAIL);
2250:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
2251:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2252:HW/SDCard/stm32_eval_sdio_sd.c **** 
2253:HW/SDCard/stm32_eval_sdio_sd.c ****   status = (uint32_t)SDIO_GetCommandResponse();
 760              		.loc 1 2253 3 is_stmt 1 view .LVU236
 761              		.loc 1 2253 22 is_stmt 0 view .LVU237
 762 0050 FFF7FEFF 		bl	SDIO_GetCommandResponse
 763              	.LVL77:
 764              		.loc 1 2253 10 view .LVU238
 765 0054 0090     		str	r0, [sp]
2254:HW/SDCard/stm32_eval_sdio_sd.c **** 
2255:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Check response received is of desired command */
2256:HW/SDCard/stm32_eval_sdio_sd.c ****   if (status != SD_CMD_SEND_STATUS)
 766              		.loc 1 2256 3 is_stmt 1 view .LVU239
 767              		.loc 1 2256 14 is_stmt 0 view .LVU240
 768 0056 009B     		ldr	r3, [sp]
 769              		.loc 1 2256 6 view .LVU241
 770 0058 0D2B     		cmp	r3, #13
 771 005a 0CD0     		beq	.L96
2257:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2258:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_ILLEGAL_CMD;
2259:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 772              		.loc 1 2259 11 view .LVU242
 773 005c 1020     		movs	r0, #16
 774              	.LVL78:
 775              	.L70:
2260:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2261:HW/SDCard/stm32_eval_sdio_sd.c **** 
2262:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Clear all the static flags */
2263:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
2264:HW/SDCard/stm32_eval_sdio_sd.c **** 
2265:HW/SDCard/stm32_eval_sdio_sd.c **** 
2266:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< We have received response, retrieve it for analysis  */
2267:HW/SDCard/stm32_eval_sdio_sd.c ****   respR1 = SDIO_GetResponse(SDIO_RESP1);
2268:HW/SDCard/stm32_eval_sdio_sd.c **** 
2269:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Find out card status */
2270:HW/SDCard/stm32_eval_sdio_sd.c ****   *pstatus = (uint8_t) ((respR1 >> 9) & 0x0000000F);
2271:HW/SDCard/stm32_eval_sdio_sd.c **** 
2272:HW/SDCard/stm32_eval_sdio_sd.c ****   if ((respR1 & SD_OCR_ERRORBITS) == SD_ALLZERO)
2273:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2274:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
2275:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2276:HW/SDCard/stm32_eval_sdio_sd.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 58


2277:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_ADDR_OUT_OF_RANGE)
2278:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2279:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_ADDR_OUT_OF_RANGE);
2280:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2281:HW/SDCard/stm32_eval_sdio_sd.c **** 
2282:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_ADDR_MISALIGNED)
2283:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2284:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_ADDR_MISALIGNED);
2285:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2286:HW/SDCard/stm32_eval_sdio_sd.c **** 
2287:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_BLOCK_LEN_ERR)
2288:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2289:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_BLOCK_LEN_ERR);
2290:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2291:HW/SDCard/stm32_eval_sdio_sd.c **** 
2292:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_ERASE_SEQ_ERR)
2293:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2294:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_ERASE_SEQ_ERR);
2295:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2296:HW/SDCard/stm32_eval_sdio_sd.c **** 
2297:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_BAD_ERASE_PARAM)
2298:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2299:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_BAD_ERASE_PARAM);
2300:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2301:HW/SDCard/stm32_eval_sdio_sd.c **** 
2302:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_WRITE_PROT_VIOLATION)
2303:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2304:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_WRITE_PROT_VIOLATION);
2305:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2306:HW/SDCard/stm32_eval_sdio_sd.c **** 
2307:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_LOCK_UNLOCK_FAILED)
2308:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2309:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_LOCK_UNLOCK_FAILED);
2310:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2311:HW/SDCard/stm32_eval_sdio_sd.c **** 
2312:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_COM_CRC_FAILED)
2313:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2314:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_COM_CRC_FAILED);
2315:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2316:HW/SDCard/stm32_eval_sdio_sd.c **** 
2317:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_ILLEGAL_CMD)
2318:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2319:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_ILLEGAL_CMD);
2320:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2321:HW/SDCard/stm32_eval_sdio_sd.c **** 
2322:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_CARD_ECC_FAILED)
2323:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2324:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_CARD_ECC_FAILED);
2325:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2326:HW/SDCard/stm32_eval_sdio_sd.c **** 
2327:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_CC_ERROR)
2328:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2329:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_CC_ERROR);
2330:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2331:HW/SDCard/stm32_eval_sdio_sd.c **** 
2332:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_GENERAL_UNKNOWN_ERROR)
2333:HW/SDCard/stm32_eval_sdio_sd.c ****   {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 59


2334:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_GENERAL_UNKNOWN_ERROR);
2335:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2336:HW/SDCard/stm32_eval_sdio_sd.c **** 
2337:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_STREAM_READ_UNDERRUN)
2338:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2339:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_STREAM_READ_UNDERRUN);
2340:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2341:HW/SDCard/stm32_eval_sdio_sd.c **** 
2342:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_STREAM_WRITE_OVERRUN)
2343:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2344:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_STREAM_WRITE_OVERRUN);
2345:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2346:HW/SDCard/stm32_eval_sdio_sd.c **** 
2347:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_CID_CSD_OVERWRIETE)
2348:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2349:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_CID_CSD_OVERWRITE);
2350:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2351:HW/SDCard/stm32_eval_sdio_sd.c **** 
2352:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_WP_ERASE_SKIP)
2353:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2354:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_WP_ERASE_SKIP);
2355:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2356:HW/SDCard/stm32_eval_sdio_sd.c **** 
2357:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_CARD_ECC_DISABLED)
2358:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2359:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_CARD_ECC_DISABLED);
2360:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2361:HW/SDCard/stm32_eval_sdio_sd.c **** 
2362:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_ERASE_RESET)
2363:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2364:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_ERASE_RESET);
2365:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2366:HW/SDCard/stm32_eval_sdio_sd.c **** 
2367:HW/SDCard/stm32_eval_sdio_sd.c ****   if (respR1 & SD_OCR_AKE_SEQ_ERROR)
2368:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2369:HW/SDCard/stm32_eval_sdio_sd.c ****     return(SD_AKE_SEQ_ERROR);
2370:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2371:HW/SDCard/stm32_eval_sdio_sd.c **** 
2372:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
2373:HW/SDCard/stm32_eval_sdio_sd.c **** }
 776              		.loc 1 2373 1 view .LVU243
 777 005e 02B0     		add	sp, sp, #8
 778              	.LCFI10:
 779              		.cfi_remember_state
 780              		.cfi_def_cfa_offset 8
 781              		@ sp needed
 782 0060 10BD     		pop	{r4, pc}
 783              	.LVL79:
 784              	.L94:
 785              	.LCFI11:
 786              		.cfi_restore_state
2242:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CTIMEOUT);
 787              		.loc 1 2242 5 is_stmt 1 view .LVU244
2243:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 788              		.loc 1 2243 5 view .LVU245
 789 0062 0420     		movs	r0, #4
 790 0064 FFF7FEFF 		bl	SDIO_ClearFlag
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 60


 791              	.LVL80:
2244:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 792              		.loc 1 2244 5 view .LVU246
2244:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 793              		.loc 1 2244 11 is_stmt 0 view .LVU247
 794 0068 0320     		movs	r0, #3
 795 006a F8E7     		b	.L70
 796              	.LVL81:
 797              	.L95:
2248:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_CCRCFAIL);
 798              		.loc 1 2248 5 is_stmt 1 view .LVU248
2249:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 799              		.loc 1 2249 5 view .LVU249
 800 006c 0120     		movs	r0, #1
 801 006e FFF7FEFF 		bl	SDIO_ClearFlag
 802              	.LVL82:
2250:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 803              		.loc 1 2250 5 view .LVU250
2250:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 804              		.loc 1 2250 11 is_stmt 0 view .LVU251
 805 0072 0120     		movs	r0, #1
 806 0074 F3E7     		b	.L70
 807              	.LVL83:
 808              	.L96:
2263:HW/SDCard/stm32_eval_sdio_sd.c **** 
 809              		.loc 1 2263 3 is_stmt 1 view .LVU252
 810 0076 40F2FF50 		movw	r0, #1535
 811 007a FFF7FEFF 		bl	SDIO_ClearFlag
 812              	.LVL84:
2267:HW/SDCard/stm32_eval_sdio_sd.c **** 
 813              		.loc 1 2267 3 view .LVU253
2267:HW/SDCard/stm32_eval_sdio_sd.c **** 
 814              		.loc 1 2267 12 is_stmt 0 view .LVU254
 815 007e 0020     		movs	r0, #0
 816 0080 FFF7FEFF 		bl	SDIO_GetResponse
 817              	.LVL85:
2267:HW/SDCard/stm32_eval_sdio_sd.c **** 
 818              		.loc 1 2267 10 view .LVU255
 819 0084 0190     		str	r0, [sp, #4]
2270:HW/SDCard/stm32_eval_sdio_sd.c **** 
 820              		.loc 1 2270 3 is_stmt 1 view .LVU256
2270:HW/SDCard/stm32_eval_sdio_sd.c **** 
 821              		.loc 1 2270 33 is_stmt 0 view .LVU257
 822 0086 019B     		ldr	r3, [sp, #4]
2270:HW/SDCard/stm32_eval_sdio_sd.c **** 
 823              		.loc 1 2270 14 view .LVU258
 824 0088 C3F34323 		ubfx	r3, r3, #9, #4
2270:HW/SDCard/stm32_eval_sdio_sd.c **** 
 825              		.loc 1 2270 12 view .LVU259
 826 008c 2370     		strb	r3, [r4]
2272:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 827              		.loc 1 2272 3 is_stmt 1 view .LVU260
2272:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 828              		.loc 1 2272 15 is_stmt 0 view .LVU261
 829 008e 019A     		ldr	r2, [sp, #4]
 830 0090 3F4B     		ldr	r3, .L97+12
 831 0092 1340     		ands	r3, r3, r2
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 61


2272:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 832              		.loc 1 2272 6 view .LVU262
 833 0094 002B     		cmp	r3, #0
 834 0096 4CD0     		beq	.L73
2277:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 835              		.loc 1 2277 3 is_stmt 1 view .LVU263
2277:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 836              		.loc 1 2277 7 is_stmt 0 view .LVU264
 837 0098 019B     		ldr	r3, [sp, #4]
2277:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 838              		.loc 1 2277 6 view .LVU265
 839 009a 002B     		cmp	r3, #0
 840 009c 4BDB     		blt	.L74
2282:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 841              		.loc 1 2282 3 is_stmt 1 view .LVU266
2282:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 842              		.loc 1 2282 14 is_stmt 0 view .LVU267
 843 009e 019B     		ldr	r3, [sp, #4]
2282:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 844              		.loc 1 2282 6 view .LVU268
 845 00a0 13F0804F 		tst	r3, #1073741824
 846 00a4 49D1     		bne	.L75
2287:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 847              		.loc 1 2287 3 is_stmt 1 view .LVU269
2287:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 848              		.loc 1 2287 14 is_stmt 0 view .LVU270
 849 00a6 019B     		ldr	r3, [sp, #4]
2287:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 850              		.loc 1 2287 6 view .LVU271
 851 00a8 13F0005F 		tst	r3, #536870912
 852 00ac 47D1     		bne	.L76
2292:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 853              		.loc 1 2292 3 is_stmt 1 view .LVU272
2292:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 854              		.loc 1 2292 14 is_stmt 0 view .LVU273
 855 00ae 019B     		ldr	r3, [sp, #4]
2292:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 856              		.loc 1 2292 6 view .LVU274
 857 00b0 13F0805F 		tst	r3, #268435456
 858 00b4 45D1     		bne	.L77
2297:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 859              		.loc 1 2297 3 is_stmt 1 view .LVU275
2297:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 860              		.loc 1 2297 14 is_stmt 0 view .LVU276
 861 00b6 019B     		ldr	r3, [sp, #4]
2297:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 862              		.loc 1 2297 6 view .LVU277
 863 00b8 13F0006F 		tst	r3, #134217728
 864 00bc 43D1     		bne	.L78
2302:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 865              		.loc 1 2302 3 is_stmt 1 view .LVU278
2302:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 866              		.loc 1 2302 14 is_stmt 0 view .LVU279
 867 00be 019B     		ldr	r3, [sp, #4]
2302:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 868              		.loc 1 2302 6 view .LVU280
 869 00c0 13F0806F 		tst	r3, #67108864
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 62


 870 00c4 41D1     		bne	.L79
2307:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 871              		.loc 1 2307 3 is_stmt 1 view .LVU281
2307:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 872              		.loc 1 2307 14 is_stmt 0 view .LVU282
 873 00c6 019B     		ldr	r3, [sp, #4]
2307:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 874              		.loc 1 2307 6 view .LVU283
 875 00c8 13F0807F 		tst	r3, #16777216
 876 00cc 3FD1     		bne	.L80
2312:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 877              		.loc 1 2312 3 is_stmt 1 view .LVU284
2312:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 878              		.loc 1 2312 14 is_stmt 0 view .LVU285
 879 00ce 019B     		ldr	r3, [sp, #4]
2312:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 880              		.loc 1 2312 6 view .LVU286
 881 00d0 13F4000F 		tst	r3, #8388608
 882 00d4 3DD1     		bne	.L81
2317:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 883              		.loc 1 2317 3 is_stmt 1 view .LVU287
2317:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 884              		.loc 1 2317 14 is_stmt 0 view .LVU288
 885 00d6 019B     		ldr	r3, [sp, #4]
2317:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 886              		.loc 1 2317 6 view .LVU289
 887 00d8 13F4800F 		tst	r3, #4194304
 888 00dc 3BD1     		bne	.L82
2322:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 889              		.loc 1 2322 3 is_stmt 1 view .LVU290
2322:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 890              		.loc 1 2322 14 is_stmt 0 view .LVU291
 891 00de 019B     		ldr	r3, [sp, #4]
2322:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 892              		.loc 1 2322 6 view .LVU292
 893 00e0 13F4001F 		tst	r3, #2097152
 894 00e4 39D1     		bne	.L83
2327:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 895              		.loc 1 2327 3 is_stmt 1 view .LVU293
2327:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 896              		.loc 1 2327 14 is_stmt 0 view .LVU294
 897 00e6 019B     		ldr	r3, [sp, #4]
2327:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 898              		.loc 1 2327 6 view .LVU295
 899 00e8 13F4801F 		tst	r3, #1048576
 900 00ec 37D1     		bne	.L84
2332:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 901              		.loc 1 2332 3 is_stmt 1 view .LVU296
2332:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 902              		.loc 1 2332 14 is_stmt 0 view .LVU297
 903 00ee 019B     		ldr	r3, [sp, #4]
2332:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 904              		.loc 1 2332 6 view .LVU298
 905 00f0 13F4002F 		tst	r3, #524288
 906 00f4 35D1     		bne	.L85
2337:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 907              		.loc 1 2337 3 is_stmt 1 view .LVU299
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 63


2337:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 908              		.loc 1 2337 14 is_stmt 0 view .LVU300
 909 00f6 019B     		ldr	r3, [sp, #4]
2337:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 910              		.loc 1 2337 6 view .LVU301
 911 00f8 13F4802F 		tst	r3, #262144
 912 00fc 33D1     		bne	.L86
2342:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 913              		.loc 1 2342 3 is_stmt 1 view .LVU302
2342:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 914              		.loc 1 2342 14 is_stmt 0 view .LVU303
 915 00fe 019B     		ldr	r3, [sp, #4]
2342:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 916              		.loc 1 2342 6 view .LVU304
 917 0100 13F4003F 		tst	r3, #131072
 918 0104 31D1     		bne	.L87
2347:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 919              		.loc 1 2347 3 is_stmt 1 view .LVU305
2347:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 920              		.loc 1 2347 14 is_stmt 0 view .LVU306
 921 0106 019B     		ldr	r3, [sp, #4]
2347:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 922              		.loc 1 2347 6 view .LVU307
 923 0108 13F4803F 		tst	r3, #65536
 924 010c 2FD1     		bne	.L88
2352:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 925              		.loc 1 2352 3 is_stmt 1 view .LVU308
2352:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 926              		.loc 1 2352 14 is_stmt 0 view .LVU309
 927 010e 019B     		ldr	r3, [sp, #4]
2352:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 928              		.loc 1 2352 6 view .LVU310
 929 0110 13F4004F 		tst	r3, #32768
 930 0114 2DD1     		bne	.L89
2357:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 931              		.loc 1 2357 3 is_stmt 1 view .LVU311
2357:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 932              		.loc 1 2357 14 is_stmt 0 view .LVU312
 933 0116 019B     		ldr	r3, [sp, #4]
2357:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 934              		.loc 1 2357 6 view .LVU313
 935 0118 13F4804F 		tst	r3, #16384
 936 011c 2BD1     		bne	.L90
2362:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 937              		.loc 1 2362 3 is_stmt 1 view .LVU314
2362:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 938              		.loc 1 2362 14 is_stmt 0 view .LVU315
 939 011e 019B     		ldr	r3, [sp, #4]
2362:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 940              		.loc 1 2362 6 view .LVU316
 941 0120 13F4005F 		tst	r3, #8192
 942 0124 29D1     		bne	.L91
2367:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 943              		.loc 1 2367 3 is_stmt 1 view .LVU317
2367:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 944              		.loc 1 2367 14 is_stmt 0 view .LVU318
 945 0126 019B     		ldr	r3, [sp, #4]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 64


2367:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 946              		.loc 1 2367 6 view .LVU319
 947 0128 13F0080F 		tst	r3, #8
 948 012c 27D1     		bne	.L92
2372:HW/SDCard/stm32_eval_sdio_sd.c **** }
 949              		.loc 1 2372 9 view .LVU320
 950 012e 0020     		movs	r0, #0
 951 0130 95E7     		b	.L70
 952              	.L73:
2274:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 953              		.loc 1 2274 11 view .LVU321
 954 0132 0020     		movs	r0, #0
 955 0134 93E7     		b	.L70
 956              	.L74:
2279:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 957              		.loc 1 2279 11 view .LVU322
 958 0136 1C20     		movs	r0, #28
 959 0138 91E7     		b	.L70
 960              	.L75:
2284:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 961              		.loc 1 2284 11 view .LVU323
 962 013a 0920     		movs	r0, #9
 963 013c 8FE7     		b	.L70
 964              	.L76:
2289:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 965              		.loc 1 2289 11 view .LVU324
 966 013e 0A20     		movs	r0, #10
 967 0140 8DE7     		b	.L70
 968              	.L77:
2294:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 969              		.loc 1 2294 11 view .LVU325
 970 0142 0B20     		movs	r0, #11
 971 0144 8BE7     		b	.L70
 972              	.L78:
2299:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 973              		.loc 1 2299 11 view .LVU326
 974 0146 0C20     		movs	r0, #12
 975 0148 89E7     		b	.L70
 976              	.L79:
2304:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 977              		.loc 1 2304 11 view .LVU327
 978 014a 0D20     		movs	r0, #13
 979 014c 87E7     		b	.L70
 980              	.L80:
2309:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 981              		.loc 1 2309 11 view .LVU328
 982 014e 0E20     		movs	r0, #14
 983 0150 85E7     		b	.L70
 984              	.L81:
2314:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 985              		.loc 1 2314 11 view .LVU329
 986 0152 0F20     		movs	r0, #15
 987 0154 83E7     		b	.L70
 988              	.L82:
2319:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 989              		.loc 1 2319 11 view .LVU330
 990 0156 1020     		movs	r0, #16
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 65


 991 0158 81E7     		b	.L70
 992              	.L83:
2324:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 993              		.loc 1 2324 11 view .LVU331
 994 015a 1120     		movs	r0, #17
 995 015c 7FE7     		b	.L70
 996              	.L84:
2329:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 997              		.loc 1 2329 11 view .LVU332
 998 015e 1220     		movs	r0, #18
 999 0160 7DE7     		b	.L70
 1000              	.L85:
2334:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 1001              		.loc 1 2334 11 view .LVU333
 1002 0162 1320     		movs	r0, #19
 1003 0164 7BE7     		b	.L70
 1004              	.L86:
2339:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 1005              		.loc 1 2339 11 view .LVU334
 1006 0166 1420     		movs	r0, #20
 1007 0168 79E7     		b	.L70
 1008              	.L87:
2344:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 1009              		.loc 1 2344 11 view .LVU335
 1010 016a 1520     		movs	r0, #21
 1011 016c 77E7     		b	.L70
 1012              	.L88:
2349:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 1013              		.loc 1 2349 11 view .LVU336
 1014 016e 1620     		movs	r0, #22
 1015 0170 75E7     		b	.L70
 1016              	.L89:
2354:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 1017              		.loc 1 2354 11 view .LVU337
 1018 0172 1720     		movs	r0, #23
 1019 0174 73E7     		b	.L70
 1020              	.L90:
2359:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 1021              		.loc 1 2359 11 view .LVU338
 1022 0176 1820     		movs	r0, #24
 1023 0178 71E7     		b	.L70
 1024              	.L91:
2364:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 1025              		.loc 1 2364 11 view .LVU339
 1026 017a 1920     		movs	r0, #25
 1027 017c 6FE7     		b	.L70
 1028              	.L92:
2369:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 1029              		.loc 1 2369 11 view .LVU340
 1030 017e 1A20     		movs	r0, #26
 1031 0180 6DE7     		b	.L70
 1032              	.L98:
 1033 0182 00BF     		.align	2
 1034              	.L97:
 1035 0184 00000000 		.word	RCA
 1036 0188 00000000 		.word	SDIO_CmdInitStructure
 1037 018c 00800140 		.word	1073840128
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 66


 1038 0190 08E0FFFD 		.word	-33562616
 1039              		.cfi_endproc
 1040              	.LFE67:
 1042              		.section	.text.FindSCR,"ax",%progbits
 1043              		.align	1
 1044              		.syntax unified
 1045              		.thumb
 1046              		.thumb_func
 1048              	FindSCR:
 1049              	.LVL86:
 1050              	.LFB68:
2374:HW/SDCard/stm32_eval_sdio_sd.c **** 
2375:HW/SDCard/stm32_eval_sdio_sd.c **** /**
2376:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Find the SD card SCR register value.
2377:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  rca: selected card address.
2378:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  pscr: pointer to the buffer that will contain the SCR value.
2379:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval SD_Error: SD Card Error code.
2380:HW/SDCard/stm32_eval_sdio_sd.c ****   */
2381:HW/SDCard/stm32_eval_sdio_sd.c **** static SD_Error FindSCR(uint16_t rca, uint32_t *pscr)
2382:HW/SDCard/stm32_eval_sdio_sd.c **** {
 1051              		.loc 1 2382 1 is_stmt 1 view -0
 1052              		.cfi_startproc
 1053              		@ args = 0, pretend = 0, frame = 8
 1054              		@ frame_needed = 0, uses_anonymous_args = 0
 1055              		.loc 1 2382 1 is_stmt 0 view .LVU342
 1056 0000 70B5     		push	{r4, r5, r6, lr}
 1057              	.LCFI12:
 1058              		.cfi_def_cfa_offset 16
 1059              		.cfi_offset 4, -16
 1060              		.cfi_offset 5, -12
 1061              		.cfi_offset 6, -8
 1062              		.cfi_offset 14, -4
 1063 0002 82B0     		sub	sp, sp, #8
 1064              	.LCFI13:
 1065              		.cfi_def_cfa_offset 24
 1066 0004 0C46     		mov	r4, r1
2383:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t index = 0;
 1067              		.loc 1 2383 3 is_stmt 1 view .LVU343
 1068              	.LVL87:
2384:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 1069              		.loc 1 2384 3 view .LVU344
2385:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t tempscr[2] = {0, 0};
 1070              		.loc 1 2385 3 view .LVU345
 1071              		.loc 1 2385 12 is_stmt 0 view .LVU346
 1072 0006 0023     		movs	r3, #0
 1073 0008 0093     		str	r3, [sp]
 1074 000a 0193     		str	r3, [sp, #4]
2386:HW/SDCard/stm32_eval_sdio_sd.c **** 
2387:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Set Block Size To 8 Bytes */
2388:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Send CMD55 APP_CMD with argument as card's RCA */
2389:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t)8;
 1075              		.loc 1 2389 3 is_stmt 1 view .LVU347
 1076              		.loc 1 2389 39 is_stmt 0 view .LVU348
 1077 000c 5248     		ldr	r0, .L115
 1078              	.LVL88:
 1079              		.loc 1 2389 39 view .LVU349
 1080 000e 0822     		movs	r2, #8
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 67


 1081 0010 0260     		str	r2, [r0]
2390:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCKLEN;
 1082              		.loc 1 2390 3 is_stmt 1 view .LVU350
 1083              		.loc 1 2390 39 is_stmt 0 view .LVU351
 1084 0012 1025     		movs	r5, #16
 1085 0014 4560     		str	r5, [r0, #4]
2391:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1086              		.loc 1 2391 3 is_stmt 1 view .LVU352
 1087              		.loc 1 2391 39 is_stmt 0 view .LVU353
 1088 0016 4022     		movs	r2, #64
 1089 0018 8260     		str	r2, [r0, #8]
2392:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1090              		.loc 1 2392 3 is_stmt 1 view .LVU354
 1091              		.loc 1 2392 35 is_stmt 0 view .LVU355
 1092 001a C360     		str	r3, [r0, #12]
2393:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1093              		.loc 1 2393 3 is_stmt 1 view .LVU356
 1094              		.loc 1 2393 35 is_stmt 0 view .LVU357
 1095 001c 4FF48063 		mov	r3, #1024
 1096 0020 0361     		str	r3, [r0, #16]
2394:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 1097              		.loc 1 2394 3 is_stmt 1 view .LVU358
 1098 0022 FFF7FEFF 		bl	SDIO_SendCommand
 1099              	.LVL89:
2395:HW/SDCard/stm32_eval_sdio_sd.c **** 
2396:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_SET_BLOCKLEN);
 1100              		.loc 1 2396 3 view .LVU359
 1101              		.loc 1 2396 17 is_stmt 0 view .LVU360
 1102 0026 2846     		mov	r0, r5
 1103 0028 FFF7FEFF 		bl	CmdResp1Error
 1104              	.LVL90:
2397:HW/SDCard/stm32_eval_sdio_sd.c **** 
2398:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus != SD_OK)
 1105              		.loc 1 2398 3 is_stmt 1 view .LVU361
 1106              		.loc 1 2398 6 is_stmt 0 view .LVU362
 1107 002c 0546     		mov	r5, r0
 1108 002e 10B1     		cbz	r0, .L109
 1109              	.LVL91:
 1110              	.L100:
2399:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2400:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
2401:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2402:HW/SDCard/stm32_eval_sdio_sd.c **** 
2403:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Send CMD55 APP_CMD with argument as card's RCA */
2404:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument = (uint32_t) RCA << 16;
2405:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
2406:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
2407:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
2408:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
2409:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
2410:HW/SDCard/stm32_eval_sdio_sd.c **** 
2411:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
2412:HW/SDCard/stm32_eval_sdio_sd.c **** 
2413:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus != SD_OK)
2414:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2415:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
2416:HW/SDCard/stm32_eval_sdio_sd.c ****   }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 68


2417:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataTimeOut = SD_DATATIMEOUT;
2418:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = 8;
2419:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = SDIO_DataBlockSize_8b;
2420:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
2421:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
2422:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
2423:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
2424:HW/SDCard/stm32_eval_sdio_sd.c **** 
2425:HW/SDCard/stm32_eval_sdio_sd.c **** 
2426:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Send ACMD51 SD_APP_SEND_SCR with argument as 0 */
2427:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Argument = 0x0;
2428:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_SEND_SCR;
2429:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
2430:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
2431:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
2432:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
2433:HW/SDCard/stm32_eval_sdio_sd.c **** 
2434:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_SD_APP_SEND_SCR);
2435:HW/SDCard/stm32_eval_sdio_sd.c **** 
2436:HW/SDCard/stm32_eval_sdio_sd.c ****   if (errorstatus != SD_OK)
2437:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2438:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
2439:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2440:HW/SDCard/stm32_eval_sdio_sd.c **** 
2441:HW/SDCard/stm32_eval_sdio_sd.c ****   while (!(SDIO->STA & (SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SDIO_FLAG_DBC
2442:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2443:HW/SDCard/stm32_eval_sdio_sd.c ****     if (SDIO_GetFlagStatus(SDIO_FLAG_RXDAVL) != RESET)
2444:HW/SDCard/stm32_eval_sdio_sd.c ****     {
2445:HW/SDCard/stm32_eval_sdio_sd.c ****       *(tempscr + index) = SDIO_ReadData();
2446:HW/SDCard/stm32_eval_sdio_sd.c ****       index++;
2447:HW/SDCard/stm32_eval_sdio_sd.c ****     }
2448:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2449:HW/SDCard/stm32_eval_sdio_sd.c **** 
2450:HW/SDCard/stm32_eval_sdio_sd.c ****   if (SDIO_GetFlagStatus(SDIO_FLAG_DTIMEOUT) != RESET)
2451:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2452:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_DTIMEOUT);
2453:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_DATA_TIMEOUT;
2454:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
2455:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2456:HW/SDCard/stm32_eval_sdio_sd.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_DCRCFAIL) != RESET)
2457:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2458:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_DCRCFAIL);
2459:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_DATA_CRC_FAIL;
2460:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
2461:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2462:HW/SDCard/stm32_eval_sdio_sd.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_RXOVERR) != RESET)
2463:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2464:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_RXOVERR);
2465:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_RX_OVERRUN;
2466:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
2467:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2468:HW/SDCard/stm32_eval_sdio_sd.c ****   else if (SDIO_GetFlagStatus(SDIO_FLAG_STBITERR) != RESET)
2469:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2470:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_ClearFlag(SDIO_FLAG_STBITERR);
2471:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_START_BIT_ERR;
2472:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
2473:HW/SDCard/stm32_eval_sdio_sd.c ****   }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 69


2474:HW/SDCard/stm32_eval_sdio_sd.c **** 
2475:HW/SDCard/stm32_eval_sdio_sd.c ****   /*!< Clear all the static flags */
2476:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_ClearFlag(SDIO_STATIC_FLAGS);
2477:HW/SDCard/stm32_eval_sdio_sd.c **** 
2478:HW/SDCard/stm32_eval_sdio_sd.c ****   *(pscr + 1) = ((tempscr[0] & SD_0TO7BITS) << 24) | ((tempscr[0] & SD_8TO15BITS) << 8) | ((tempscr
2479:HW/SDCard/stm32_eval_sdio_sd.c **** 
2480:HW/SDCard/stm32_eval_sdio_sd.c ****   *(pscr) = ((tempscr[1] & SD_0TO7BITS) << 24) | ((tempscr[1] & SD_8TO15BITS) << 8) | ((tempscr[1] 
2481:HW/SDCard/stm32_eval_sdio_sd.c **** 
2482:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
2483:HW/SDCard/stm32_eval_sdio_sd.c **** }
 1111              		.loc 1 2483 1 view .LVU363
 1112 0030 2846     		mov	r0, r5
 1113 0032 02B0     		add	sp, sp, #8
 1114              	.LCFI14:
 1115              		.cfi_remember_state
 1116              		.cfi_def_cfa_offset 16
 1117              		@ sp needed
 1118 0034 70BD     		pop	{r4, r5, r6, pc}
 1119              	.LVL92:
 1120              	.L109:
 1121              	.LCFI15:
 1122              		.cfi_restore_state
2404:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1123              		.loc 1 2404 3 is_stmt 1 view .LVU364
2404:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1124              		.loc 1 2404 41 is_stmt 0 view .LVU365
 1125 0036 494B     		ldr	r3, .L115+4
 1126 0038 1B68     		ldr	r3, [r3]
2404:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1127              		.loc 1 2404 56 view .LVU366
 1128 003a 1B04     		lsls	r3, r3, #16
2404:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1129              		.loc 1 2404 39 view .LVU367
 1130 003c 4648     		ldr	r0, .L115
 1131              	.LVL93:
2404:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1132              		.loc 1 2404 39 view .LVU368
 1133 003e 0360     		str	r3, [r0]
2405:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1134              		.loc 1 2405 3 is_stmt 1 view .LVU369
2405:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1135              		.loc 1 2405 39 is_stmt 0 view .LVU370
 1136 0040 3725     		movs	r5, #55
 1137 0042 4560     		str	r5, [r0, #4]
2406:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1138              		.loc 1 2406 3 is_stmt 1 view .LVU371
2406:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1139              		.loc 1 2406 39 is_stmt 0 view .LVU372
 1140 0044 4023     		movs	r3, #64
 1141 0046 8360     		str	r3, [r0, #8]
2407:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1142              		.loc 1 2407 3 is_stmt 1 view .LVU373
2407:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1143              		.loc 1 2407 35 is_stmt 0 view .LVU374
 1144 0048 0023     		movs	r3, #0
 1145 004a C360     		str	r3, [r0, #12]
2408:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 70


 1146              		.loc 1 2408 3 is_stmt 1 view .LVU375
2408:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 1147              		.loc 1 2408 35 is_stmt 0 view .LVU376
 1148 004c 4FF48063 		mov	r3, #1024
 1149 0050 0361     		str	r3, [r0, #16]
2409:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1150              		.loc 1 2409 3 is_stmt 1 view .LVU377
 1151 0052 FFF7FEFF 		bl	SDIO_SendCommand
 1152              	.LVL94:
2411:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1153              		.loc 1 2411 3 view .LVU378
2411:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1154              		.loc 1 2411 17 is_stmt 0 view .LVU379
 1155 0056 2846     		mov	r0, r5
 1156 0058 FFF7FEFF 		bl	CmdResp1Error
 1157              	.LVL95:
2413:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1158              		.loc 1 2413 3 is_stmt 1 view .LVU380
2413:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1159              		.loc 1 2413 6 is_stmt 0 view .LVU381
 1160 005c 0546     		mov	r5, r0
 1161 005e 0028     		cmp	r0, #0
 1162 0060 E6D1     		bne	.L100
2417:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = 8;
 1163              		.loc 1 2417 3 is_stmt 1 view .LVU382
2417:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = 8;
 1164              		.loc 1 2417 43 is_stmt 0 view .LVU383
 1165 0062 3F48     		ldr	r0, .L115+8
 1166              	.LVL96:
2417:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = 8;
 1167              		.loc 1 2417 43 view .LVU384
 1168 0064 4FF0FF33 		mov	r3, #-1
 1169 0068 0360     		str	r3, [r0]
2418:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = SDIO_DataBlockSize_8b;
 1170              		.loc 1 2418 3 is_stmt 1 view .LVU385
2418:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = SDIO_DataBlockSize_8b;
 1171              		.loc 1 2418 42 is_stmt 0 view .LVU386
 1172 006a 0823     		movs	r3, #8
 1173 006c 4360     		str	r3, [r0, #4]
2419:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
 1174              		.loc 1 2419 3 is_stmt 1 view .LVU387
2419:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
 1175              		.loc 1 2419 45 is_stmt 0 view .LVU388
 1176 006e 3023     		movs	r3, #48
 1177 0070 8360     		str	r3, [r0, #8]
2420:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 1178              		.loc 1 2420 3 is_stmt 1 view .LVU389
2420:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 1179              		.loc 1 2420 43 is_stmt 0 view .LVU390
 1180 0072 0223     		movs	r3, #2
 1181 0074 C360     		str	r3, [r0, #12]
2421:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 1182              		.loc 1 2421 3 is_stmt 1 view .LVU391
2421:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 1183              		.loc 1 2421 44 is_stmt 0 view .LVU392
 1184 0076 0025     		movs	r5, #0
 1185 0078 0561     		str	r5, [r0, #16]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 71


2422:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 1186              		.loc 1 2422 3 is_stmt 1 view .LVU393
2422:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 1187              		.loc 1 2422 36 is_stmt 0 view .LVU394
 1188 007a 0123     		movs	r3, #1
 1189 007c 4361     		str	r3, [r0, #20]
2423:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1190              		.loc 1 2423 3 is_stmt 1 view .LVU395
 1191 007e FFF7FEFF 		bl	SDIO_DataConfig
 1192              	.LVL97:
2427:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_SEND_SCR;
 1193              		.loc 1 2427 3 view .LVU396
2427:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_SEND_SCR;
 1194              		.loc 1 2427 39 is_stmt 0 view .LVU397
 1195 0082 3548     		ldr	r0, .L115
 1196 0084 0560     		str	r5, [r0]
2428:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1197              		.loc 1 2428 3 is_stmt 1 view .LVU398
2428:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1198              		.loc 1 2428 39 is_stmt 0 view .LVU399
 1199 0086 3326     		movs	r6, #51
 1200 0088 4660     		str	r6, [r0, #4]
2429:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1201              		.loc 1 2429 3 is_stmt 1 view .LVU400
2429:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1202              		.loc 1 2429 39 is_stmt 0 view .LVU401
 1203 008a 4023     		movs	r3, #64
 1204 008c 8360     		str	r3, [r0, #8]
2430:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1205              		.loc 1 2430 3 is_stmt 1 view .LVU402
2430:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1206              		.loc 1 2430 35 is_stmt 0 view .LVU403
 1207 008e C560     		str	r5, [r0, #12]
2431:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 1208              		.loc 1 2431 3 is_stmt 1 view .LVU404
2431:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 1209              		.loc 1 2431 35 is_stmt 0 view .LVU405
 1210 0090 4FF48063 		mov	r3, #1024
 1211 0094 0361     		str	r3, [r0, #16]
2432:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1212              		.loc 1 2432 3 is_stmt 1 view .LVU406
 1213 0096 FFF7FEFF 		bl	SDIO_SendCommand
 1214              	.LVL98:
2434:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1215              		.loc 1 2434 3 view .LVU407
2434:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1216              		.loc 1 2434 17 is_stmt 0 view .LVU408
 1217 009a 3046     		mov	r0, r6
 1218 009c FFF7FEFF 		bl	CmdResp1Error
 1219              	.LVL99:
2436:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1220              		.loc 1 2436 3 is_stmt 1 view .LVU409
2436:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1221              		.loc 1 2436 6 is_stmt 0 view .LVU410
 1222 00a0 0546     		mov	r5, r0
 1223 00a2 0028     		cmp	r0, #0
 1224 00a4 C4D1     		bne	.L100
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 72


2383:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 1225              		.loc 1 2383 12 view .LVU411
 1226 00a6 0026     		movs	r6, #0
 1227              	.LVL100:
 1228              	.L102:
2441:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1229              		.loc 1 2441 10 is_stmt 1 view .LVU412
2441:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1230              		.loc 1 2441 16 is_stmt 0 view .LVU413
 1231 00a8 2E4B     		ldr	r3, .L115+12
 1232 00aa 5A6B     		ldr	r2, [r3, #52]
2441:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1233              		.loc 1 2441 10 view .LVU414
 1234 00ac 40F22A63 		movw	r3, #1578
 1235 00b0 1A42     		tst	r2, r3
 1236 00b2 0BD1     		bne	.L110
2443:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 1237              		.loc 1 2443 5 is_stmt 1 view .LVU415
2443:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 1238              		.loc 1 2443 9 is_stmt 0 view .LVU416
 1239 00b4 4FF40010 		mov	r0, #2097152
 1240 00b8 FFF7FEFF 		bl	SDIO_GetFlagStatus
 1241              	.LVL101:
2443:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 1242              		.loc 1 2443 8 view .LVU417
 1243 00bc 0028     		cmp	r0, #0
 1244 00be F3D0     		beq	.L102
2445:HW/SDCard/stm32_eval_sdio_sd.c ****       index++;
 1245              		.loc 1 2445 7 is_stmt 1 view .LVU418
2445:HW/SDCard/stm32_eval_sdio_sd.c ****       index++;
 1246              		.loc 1 2445 28 is_stmt 0 view .LVU419
 1247 00c0 FFF7FEFF 		bl	SDIO_ReadData
 1248              	.LVL102:
2445:HW/SDCard/stm32_eval_sdio_sd.c ****       index++;
 1249              		.loc 1 2445 26 view .LVU420
 1250 00c4 4DF82600 		str	r0, [sp, r6, lsl #2]
2446:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 1251              		.loc 1 2446 7 is_stmt 1 view .LVU421
2446:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 1252              		.loc 1 2446 12 is_stmt 0 view .LVU422
 1253 00c8 0136     		adds	r6, r6, #1
 1254              	.LVL103:
2446:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 1255              		.loc 1 2446 12 view .LVU423
 1256 00ca EDE7     		b	.L102
 1257              	.L110:
2450:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1258              		.loc 1 2450 3 is_stmt 1 view .LVU424
2450:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1259              		.loc 1 2450 7 is_stmt 0 view .LVU425
 1260 00cc 0820     		movs	r0, #8
 1261 00ce FFF7FEFF 		bl	SDIO_GetFlagStatus
 1262              	.LVL104:
2450:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1263              		.loc 1 2450 6 view .LVU426
 1264 00d2 58BB     		cbnz	r0, .L111
2456:HW/SDCard/stm32_eval_sdio_sd.c ****   {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 73


 1265              		.loc 1 2456 8 is_stmt 1 view .LVU427
2456:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1266              		.loc 1 2456 12 is_stmt 0 view .LVU428
 1267 00d4 0220     		movs	r0, #2
 1268 00d6 FFF7FEFF 		bl	SDIO_GetFlagStatus
 1269              	.LVL105:
2456:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1270              		.loc 1 2456 11 view .LVU429
 1271 00da 60BB     		cbnz	r0, .L112
2462:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1272              		.loc 1 2462 8 is_stmt 1 view .LVU430
2462:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1273              		.loc 1 2462 12 is_stmt 0 view .LVU431
 1274 00dc 2020     		movs	r0, #32
 1275 00de FFF7FEFF 		bl	SDIO_GetFlagStatus
 1276              	.LVL106:
2462:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1277              		.loc 1 2462 11 view .LVU432
 1278 00e2 68BB     		cbnz	r0, .L113
2468:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1279              		.loc 1 2468 8 is_stmt 1 view .LVU433
2468:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1280              		.loc 1 2468 12 is_stmt 0 view .LVU434
 1281 00e4 4FF40070 		mov	r0, #512
 1282 00e8 FFF7FEFF 		bl	SDIO_GetFlagStatus
 1283              	.LVL107:
2468:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1284              		.loc 1 2468 11 view .LVU435
 1285 00ec 68BB     		cbnz	r0, .L114
2476:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1286              		.loc 1 2476 3 is_stmt 1 view .LVU436
 1287 00ee 40F2FF50 		movw	r0, #1535
 1288 00f2 FFF7FEFF 		bl	SDIO_ClearFlag
 1289              	.LVL108:
2478:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1290              		.loc 1 2478 3 view .LVU437
2478:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1291              		.loc 1 2478 26 is_stmt 0 view .LVU438
 1292 00f6 009A     		ldr	r2, [sp]
2478:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1293              		.loc 1 2478 83 view .LVU439
 1294 00f8 1302     		lsls	r3, r2, #8
 1295 00fa 03F47F03 		and	r3, r3, #16711680
2478:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1296              		.loc 1 2478 52 view .LVU440
 1297 00fe 43EA0263 		orr	r3, r3, r2, lsl #24
2478:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1298              		.loc 1 2478 121 view .LVU441
 1299 0102 110A     		lsrs	r1, r2, #8
 1300 0104 01F47F41 		and	r1, r1, #65280
2478:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1301              		.loc 1 2478 89 view .LVU442
 1302 0108 0B43     		orrs	r3, r3, r1
2478:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1303              		.loc 1 2478 127 view .LVU443
 1304 010a 43EA1263 		orr	r3, r3, r2, lsr #24
2478:HW/SDCard/stm32_eval_sdio_sd.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 74


 1305              		.loc 1 2478 15 view .LVU444
 1306 010e 6360     		str	r3, [r4, #4]
2480:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1307              		.loc 1 2480 3 is_stmt 1 view .LVU445
2480:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1308              		.loc 1 2480 22 is_stmt 0 view .LVU446
 1309 0110 019A     		ldr	r2, [sp, #4]
2480:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1310              		.loc 1 2480 79 view .LVU447
 1311 0112 1302     		lsls	r3, r2, #8
 1312 0114 03F47F03 		and	r3, r3, #16711680
2480:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1313              		.loc 1 2480 48 view .LVU448
 1314 0118 43EA0263 		orr	r3, r3, r2, lsl #24
2480:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1315              		.loc 1 2480 117 view .LVU449
 1316 011c 110A     		lsrs	r1, r2, #8
 1317 011e 01F47F41 		and	r1, r1, #65280
2480:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1318              		.loc 1 2480 85 view .LVU450
 1319 0122 0B43     		orrs	r3, r3, r1
2480:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1320              		.loc 1 2480 123 view .LVU451
 1321 0124 43EA1263 		orr	r3, r3, r2, lsr #24
2480:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1322              		.loc 1 2480 11 view .LVU452
 1323 0128 2360     		str	r3, [r4]
2482:HW/SDCard/stm32_eval_sdio_sd.c **** }
 1324              		.loc 1 2482 3 is_stmt 1 view .LVU453
2482:HW/SDCard/stm32_eval_sdio_sd.c **** }
 1325              		.loc 1 2482 9 is_stmt 0 view .LVU454
 1326 012a 81E7     		b	.L100
 1327              	.L111:
2452:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_DATA_TIMEOUT;
 1328              		.loc 1 2452 5 is_stmt 1 view .LVU455
 1329 012c 0820     		movs	r0, #8
 1330 012e FFF7FEFF 		bl	SDIO_ClearFlag
 1331              	.LVL109:
2453:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 1332              		.loc 1 2453 5 view .LVU456
2454:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 1333              		.loc 1 2454 5 view .LVU457
2454:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 1334              		.loc 1 2454 11 is_stmt 0 view .LVU458
 1335 0132 0425     		movs	r5, #4
 1336 0134 7CE7     		b	.L100
 1337              	.LVL110:
 1338              	.L112:
2458:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_DATA_CRC_FAIL;
 1339              		.loc 1 2458 5 is_stmt 1 view .LVU459
 1340 0136 0220     		movs	r0, #2
 1341 0138 FFF7FEFF 		bl	SDIO_ClearFlag
 1342              	.LVL111:
2459:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 1343              		.loc 1 2459 5 view .LVU460
2460:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 1344              		.loc 1 2460 5 view .LVU461
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 75


2460:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 1345              		.loc 1 2460 11 is_stmt 0 view .LVU462
 1346 013c 0225     		movs	r5, #2
 1347 013e 77E7     		b	.L100
 1348              	.LVL112:
 1349              	.L113:
2464:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_RX_OVERRUN;
 1350              		.loc 1 2464 5 is_stmt 1 view .LVU463
 1351 0140 2020     		movs	r0, #32
 1352 0142 FFF7FEFF 		bl	SDIO_ClearFlag
 1353              	.LVL113:
2465:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 1354              		.loc 1 2465 5 view .LVU464
2466:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 1355              		.loc 1 2466 5 view .LVU465
2466:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 1356              		.loc 1 2466 11 is_stmt 0 view .LVU466
 1357 0146 0625     		movs	r5, #6
 1358 0148 72E7     		b	.L100
 1359              	.LVL114:
 1360              	.L114:
2470:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_START_BIT_ERR;
 1361              		.loc 1 2470 5 is_stmt 1 view .LVU467
 1362 014a 4FF40070 		mov	r0, #512
 1363 014e FFF7FEFF 		bl	SDIO_ClearFlag
 1364              	.LVL115:
2471:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 1365              		.loc 1 2471 5 view .LVU468
2472:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 1366              		.loc 1 2472 5 view .LVU469
2472:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 1367              		.loc 1 2472 11 is_stmt 0 view .LVU470
 1368 0152 0725     		movs	r5, #7
 1369 0154 6CE7     		b	.L100
 1370              	.L116:
 1371 0156 00BF     		.align	2
 1372              	.L115:
 1373 0158 00000000 		.word	SDIO_CmdInitStructure
 1374 015c 00000000 		.word	RCA
 1375 0160 00000000 		.word	SDIO_DataInitStructure
 1376 0164 00800140 		.word	1073840128
 1377              		.cfi_endproc
 1378              	.LFE68:
 1380              		.section	.text.SDEnWideBus,"ax",%progbits
 1381              		.align	1
 1382              		.syntax unified
 1383              		.thumb
 1384              		.thumb_func
 1386              	SDEnWideBus:
 1387              	.LVL116:
 1388              	.LFB66:
2109:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 1389              		.loc 1 2109 1 is_stmt 1 view -0
 1390              		.cfi_startproc
 1391              		@ args = 0, pretend = 0, frame = 8
 1392              		@ frame_needed = 0, uses_anonymous_args = 0
2109:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 76


 1393              		.loc 1 2109 1 is_stmt 0 view .LVU472
 1394 0000 10B5     		push	{r4, lr}
 1395              	.LCFI16:
 1396              		.cfi_def_cfa_offset 8
 1397              		.cfi_offset 4, -8
 1398              		.cfi_offset 14, -4
 1399 0002 82B0     		sub	sp, sp, #8
 1400              	.LCFI17:
 1401              		.cfi_def_cfa_offset 16
 1402 0004 0446     		mov	r4, r0
2110:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1403              		.loc 1 2110 3 is_stmt 1 view .LVU473
 1404              	.LVL117:
2112:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1405              		.loc 1 2112 3 view .LVU474
2112:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1406              		.loc 1 2112 12 is_stmt 0 view .LVU475
 1407 0006 0020     		movs	r0, #0
 1408              	.LVL118:
2112:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1409              		.loc 1 2112 12 view .LVU476
 1410 0008 0090     		str	r0, [sp]
 1411 000a 0190     		str	r0, [sp, #4]
2114:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1412              		.loc 1 2114 3 is_stmt 1 view .LVU477
2114:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1413              		.loc 1 2114 7 is_stmt 0 view .LVU478
 1414 000c FFF7FEFF 		bl	SDIO_GetResponse
 1415              	.LVL119:
2114:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1416              		.loc 1 2114 6 view .LVU479
 1417 0010 10F0007F 		tst	r0, #33554432
 1418 0014 5CD1     		bne	.L120
2121:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1419              		.loc 1 2121 3 is_stmt 1 view .LVU480
2121:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1420              		.loc 1 2121 17 is_stmt 0 view .LVU481
 1421 0016 6946     		mov	r1, sp
 1422 0018 314B     		ldr	r3, .L125
 1423 001a 1888     		ldrh	r0, [r3]
 1424 001c FFF7FEFF 		bl	FindSCR
 1425              	.LVL120:
2123:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1426              		.loc 1 2123 3 is_stmt 1 view .LVU482
2123:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1427              		.loc 1 2123 6 is_stmt 0 view .LVU483
 1428 0020 0028     		cmp	r0, #0
 1429 0022 56D1     		bne	.L118
2129:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1430              		.loc 1 2129 3 is_stmt 1 view .LVU484
2129:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 1431              		.loc 1 2129 6 is_stmt 0 view .LVU485
 1432 0024 012C     		cmp	r4, #1
 1433 0026 29D0     		beq	.L124
2174:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 1434              		.loc 1 2174 5 is_stmt 1 view .LVU486
2174:HW/SDCard/stm32_eval_sdio_sd.c ****     {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 77


 1435              		.loc 1 2174 8 is_stmt 0 view .LVU487
 1436 0028 019B     		ldr	r3, [sp, #4]
 1437 002a 13F4803F 		tst	r3, #65536
 1438 002e 54D0     		beq	.L122
2177:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1439              		.loc 1 2177 7 is_stmt 1 view .LVU488
2177:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1440              		.loc 1 2177 45 is_stmt 0 view .LVU489
 1441 0030 2B4B     		ldr	r3, .L125
 1442 0032 1B68     		ldr	r3, [r3]
2177:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1443              		.loc 1 2177 60 view .LVU490
 1444 0034 1B04     		lsls	r3, r3, #16
2177:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1445              		.loc 1 2177 43 view .LVU491
 1446 0036 2B48     		ldr	r0, .L125+4
 1447              	.LVL121:
2177:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1448              		.loc 1 2177 43 view .LVU492
 1449 0038 0360     		str	r3, [r0]
2178:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1450              		.loc 1 2178 7 is_stmt 1 view .LVU493
2178:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1451              		.loc 1 2178 43 is_stmt 0 view .LVU494
 1452 003a 3724     		movs	r4, #55
 1453 003c 4460     		str	r4, [r0, #4]
2179:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1454              		.loc 1 2179 7 is_stmt 1 view .LVU495
2179:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1455              		.loc 1 2179 43 is_stmt 0 view .LVU496
 1456 003e 4023     		movs	r3, #64
 1457 0040 8360     		str	r3, [r0, #8]
2180:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1458              		.loc 1 2180 7 is_stmt 1 view .LVU497
2180:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1459              		.loc 1 2180 39 is_stmt 0 view .LVU498
 1460 0042 0023     		movs	r3, #0
 1461 0044 C360     		str	r3, [r0, #12]
2181:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1462              		.loc 1 2181 7 is_stmt 1 view .LVU499
2181:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1463              		.loc 1 2181 39 is_stmt 0 view .LVU500
 1464 0046 4FF48063 		mov	r3, #1024
 1465 004a 0361     		str	r3, [r0, #16]
2182:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1466              		.loc 1 2182 7 is_stmt 1 view .LVU501
 1467 004c FFF7FEFF 		bl	SDIO_SendCommand
 1468              	.LVL122:
2185:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1469              		.loc 1 2185 7 view .LVU502
2185:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1470              		.loc 1 2185 21 is_stmt 0 view .LVU503
 1471 0050 2046     		mov	r0, r4
 1472 0052 FFF7FEFF 		bl	CmdResp1Error
 1473              	.LVL123:
 1474 0056 0346     		mov	r3, r0
 1475              	.LVL124:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 78


2187:HW/SDCard/stm32_eval_sdio_sd.c ****       {
 1476              		.loc 1 2187 7 is_stmt 1 view .LVU504
2187:HW/SDCard/stm32_eval_sdio_sd.c ****       {
 1477              		.loc 1 2187 10 is_stmt 0 view .LVU505
 1478 0058 0028     		cmp	r0, #0
 1479 005a 3AD1     		bne	.L118
2193:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_SD_SET_BUSWIDTH;
 1480              		.loc 1 2193 7 is_stmt 1 view .LVU506
2193:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_SD_SET_BUSWIDTH;
 1481              		.loc 1 2193 43 is_stmt 0 view .LVU507
 1482 005c 2148     		ldr	r0, .L125+4
 1483              	.LVL125:
2193:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_SD_SET_BUSWIDTH;
 1484              		.loc 1 2193 43 view .LVU508
 1485 005e 0360     		str	r3, [r0]
2194:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1486              		.loc 1 2194 7 is_stmt 1 view .LVU509
2194:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1487              		.loc 1 2194 43 is_stmt 0 view .LVU510
 1488 0060 0624     		movs	r4, #6
 1489 0062 4460     		str	r4, [r0, #4]
2195:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1490              		.loc 1 2195 7 is_stmt 1 view .LVU511
2195:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1491              		.loc 1 2195 43 is_stmt 0 view .LVU512
 1492 0064 4022     		movs	r2, #64
 1493 0066 8260     		str	r2, [r0, #8]
2196:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1494              		.loc 1 2196 7 is_stmt 1 view .LVU513
2196:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1495              		.loc 1 2196 39 is_stmt 0 view .LVU514
 1496 0068 C360     		str	r3, [r0, #12]
2197:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1497              		.loc 1 2197 7 is_stmt 1 view .LVU515
2197:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1498              		.loc 1 2197 39 is_stmt 0 view .LVU516
 1499 006a 4FF48063 		mov	r3, #1024
 1500 006e 0361     		str	r3, [r0, #16]
2198:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1501              		.loc 1 2198 7 is_stmt 1 view .LVU517
 1502 0070 FFF7FEFF 		bl	SDIO_SendCommand
 1503              	.LVL126:
2200:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1504              		.loc 1 2200 7 view .LVU518
2200:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1505              		.loc 1 2200 21 is_stmt 0 view .LVU519
 1506 0074 2046     		mov	r0, r4
 1507 0076 FFF7FEFF 		bl	CmdResp1Error
 1508              	.LVL127:
2202:HW/SDCard/stm32_eval_sdio_sd.c ****       {
 1509              		.loc 1 2202 7 is_stmt 1 view .LVU520
 1510 007a 2AE0     		b	.L118
 1511              	.L124:
2132:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 1512              		.loc 1 2132 5 view .LVU521
2132:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 1513              		.loc 1 2132 8 is_stmt 0 view .LVU522
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 79


 1514 007c 019B     		ldr	r3, [sp, #4]
 1515 007e 13F4802F 		tst	r3, #262144
 1516 0082 28D0     		beq	.L121
2135:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1517              		.loc 1 2135 7 is_stmt 1 view .LVU523
2135:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1518              		.loc 1 2135 45 is_stmt 0 view .LVU524
 1519 0084 164B     		ldr	r3, .L125
 1520 0086 1B68     		ldr	r3, [r3]
2135:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1521              		.loc 1 2135 60 view .LVU525
 1522 0088 1B04     		lsls	r3, r3, #16
2135:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1523              		.loc 1 2135 43 view .LVU526
 1524 008a 1648     		ldr	r0, .L125+4
 1525              	.LVL128:
2135:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 1526              		.loc 1 2135 43 view .LVU527
 1527 008c 0360     		str	r3, [r0]
2136:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1528              		.loc 1 2136 7 is_stmt 1 view .LVU528
2136:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1529              		.loc 1 2136 43 is_stmt 0 view .LVU529
 1530 008e 3724     		movs	r4, #55
 1531 0090 4460     		str	r4, [r0, #4]
2137:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1532              		.loc 1 2137 7 is_stmt 1 view .LVU530
2137:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1533              		.loc 1 2137 43 is_stmt 0 view .LVU531
 1534 0092 4023     		movs	r3, #64
 1535 0094 8360     		str	r3, [r0, #8]
2138:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1536              		.loc 1 2138 7 is_stmt 1 view .LVU532
2138:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1537              		.loc 1 2138 39 is_stmt 0 view .LVU533
 1538 0096 0023     		movs	r3, #0
 1539 0098 C360     		str	r3, [r0, #12]
2139:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1540              		.loc 1 2139 7 is_stmt 1 view .LVU534
2139:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1541              		.loc 1 2139 39 is_stmt 0 view .LVU535
 1542 009a 4FF48063 		mov	r3, #1024
 1543 009e 0361     		str	r3, [r0, #16]
2140:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1544              		.loc 1 2140 7 is_stmt 1 view .LVU536
 1545 00a0 FFF7FEFF 		bl	SDIO_SendCommand
 1546              	.LVL129:
2142:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1547              		.loc 1 2142 7 view .LVU537
2142:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1548              		.loc 1 2142 21 is_stmt 0 view .LVU538
 1549 00a4 2046     		mov	r0, r4
 1550 00a6 FFF7FEFF 		bl	CmdResp1Error
 1551              	.LVL130:
2144:HW/SDCard/stm32_eval_sdio_sd.c ****       {
 1552              		.loc 1 2144 7 is_stmt 1 view .LVU539
2144:HW/SDCard/stm32_eval_sdio_sd.c ****       {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 80


 1553              		.loc 1 2144 10 is_stmt 0 view .LVU540
 1554 00aa 90B9     		cbnz	r0, .L118
2150:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_SD_SET_BUSWIDTH;
 1555              		.loc 1 2150 7 is_stmt 1 view .LVU541
2150:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_SD_SET_BUSWIDTH;
 1556              		.loc 1 2150 43 is_stmt 0 view .LVU542
 1557 00ac 0D48     		ldr	r0, .L125+4
 1558              	.LVL131:
2150:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_SD_SET_BUSWIDTH;
 1559              		.loc 1 2150 43 view .LVU543
 1560 00ae 0223     		movs	r3, #2
 1561 00b0 0360     		str	r3, [r0]
2151:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1562              		.loc 1 2151 7 is_stmt 1 view .LVU544
2151:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 1563              		.loc 1 2151 43 is_stmt 0 view .LVU545
 1564 00b2 0624     		movs	r4, #6
 1565 00b4 4460     		str	r4, [r0, #4]
2152:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1566              		.loc 1 2152 7 is_stmt 1 view .LVU546
2152:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 1567              		.loc 1 2152 43 is_stmt 0 view .LVU547
 1568 00b6 4023     		movs	r3, #64
 1569 00b8 8360     		str	r3, [r0, #8]
2153:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1570              		.loc 1 2153 7 is_stmt 1 view .LVU548
2153:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 1571              		.loc 1 2153 39 is_stmt 0 view .LVU549
 1572 00ba 0023     		movs	r3, #0
 1573 00bc C360     		str	r3, [r0, #12]
2154:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1574              		.loc 1 2154 7 is_stmt 1 view .LVU550
2154:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 1575              		.loc 1 2154 39 is_stmt 0 view .LVU551
 1576 00be 4FF48063 		mov	r3, #1024
 1577 00c2 0361     		str	r3, [r0, #16]
2155:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1578              		.loc 1 2155 7 is_stmt 1 view .LVU552
 1579 00c4 FFF7FEFF 		bl	SDIO_SendCommand
 1580              	.LVL132:
2157:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1581              		.loc 1 2157 7 view .LVU553
2157:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1582              		.loc 1 2157 21 is_stmt 0 view .LVU554
 1583 00c8 2046     		mov	r0, r4
 1584 00ca FFF7FEFF 		bl	CmdResp1Error
 1585              	.LVL133:
2159:HW/SDCard/stm32_eval_sdio_sd.c ****       {
 1586              		.loc 1 2159 7 is_stmt 1 view .LVU555
 1587 00ce 00E0     		b	.L118
 1588              	.LVL134:
 1589              	.L120:
2117:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 1590              		.loc 1 2117 11 is_stmt 0 view .LVU556
 1591 00d0 0E20     		movs	r0, #14
 1592              	.LVL135:
 1593              	.L118:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 81


2215:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1594              		.loc 1 2215 1 view .LVU557
 1595 00d2 02B0     		add	sp, sp, #8
 1596              	.LCFI18:
 1597              		.cfi_remember_state
 1598              		.cfi_def_cfa_offset 8
 1599              		@ sp needed
 1600 00d4 10BD     		pop	{r4, pc}
 1601              	.LVL136:
 1602              	.L121:
 1603              	.LCFI19:
 1604              		.cfi_restore_state
2168:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 1605              		.loc 1 2168 13 view .LVU558
 1606 00d6 2520     		movs	r0, #37
 1607              	.LVL137:
2168:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 1608              		.loc 1 2168 13 view .LVU559
 1609 00d8 FBE7     		b	.L118
 1610              	.LVL138:
 1611              	.L122:
2212:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 1612              		.loc 1 2212 13 view .LVU560
 1613 00da 2520     		movs	r0, #37
 1614              	.LVL139:
2212:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 1615              		.loc 1 2212 13 view .LVU561
 1616 00dc F9E7     		b	.L118
 1617              	.L126:
 1618 00de 00BF     		.align	2
 1619              	.L125:
 1620 00e0 00000000 		.word	RCA
 1621 00e4 00000000 		.word	SDIO_CmdInitStructure
 1622              		.cfi_endproc
 1623              	.LFE66:
 1625              		.section	.text.SD_LowLevel_Init,"ax",%progbits
 1626              		.align	1
 1627              		.global	SD_LowLevel_Init
 1628              		.syntax unified
 1629              		.thumb
 1630              		.thumb_func
 1632              	SD_LowLevel_Init:
 1633              	.LFB29:
  27:HW/SDCard/SDCard_eval.h ****     /* ÈÖçÁΩÆSDÂç°‰∏≠Êñ≠ */
 1634              		.loc 2 27 24 is_stmt 1 view -0
 1635              		.cfi_startproc
 1636              		@ args = 0, pretend = 0, frame = 8
 1637              		@ frame_needed = 0, uses_anonymous_args = 0
 1638 0000 30B5     		push	{r4, r5, lr}
 1639              	.LCFI20:
 1640              		.cfi_def_cfa_offset 12
 1641              		.cfi_offset 4, -12
 1642              		.cfi_offset 5, -8
 1643              		.cfi_offset 14, -4
 1644 0002 83B0     		sub	sp, sp, #12
 1645              	.LCFI21:
 1646              		.cfi_def_cfa_offset 24
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 82


  29:HW/SDCard/SDCard_eval.h ****     NVIC_InitStructure.NVIC_IRQChannel = SDIO_IRQn;
 1647              		.loc 2 29 5 view .LVU563
  30:HW/SDCard/SDCard_eval.h ****     NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 2;
 1648              		.loc 2 30 5 view .LVU564
  30:HW/SDCard/SDCard_eval.h ****     NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 2;
 1649              		.loc 2 30 40 is_stmt 0 view .LVU565
 1650 0004 3123     		movs	r3, #49
 1651 0006 8DF80430 		strb	r3, [sp, #4]
  31:HW/SDCard/SDCard_eval.h ****     NVIC_InitStructure.NVIC_IRQChannelSubPriority = 2;
 1652              		.loc 2 31 5 is_stmt 1 view .LVU566
  31:HW/SDCard/SDCard_eval.h ****     NVIC_InitStructure.NVIC_IRQChannelSubPriority = 2;
 1653              		.loc 2 31 58 is_stmt 0 view .LVU567
 1654 000a 0225     		movs	r5, #2
 1655 000c 8DF80550 		strb	r5, [sp, #5]
  32:HW/SDCard/SDCard_eval.h ****     NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 1656              		.loc 2 32 5 is_stmt 1 view .LVU568
  32:HW/SDCard/SDCard_eval.h ****     NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 1657              		.loc 2 32 51 is_stmt 0 view .LVU569
 1658 0010 8DF80650 		strb	r5, [sp, #6]
  33:HW/SDCard/SDCard_eval.h ****     NVIC_Init(&NVIC_InitStructure);
 1659              		.loc 2 33 5 is_stmt 1 view .LVU570
  33:HW/SDCard/SDCard_eval.h ****     NVIC_Init(&NVIC_InitStructure);
 1660              		.loc 2 33 43 is_stmt 0 view .LVU571
 1661 0014 0124     		movs	r4, #1
 1662 0016 8DF80740 		strb	r4, [sp, #7]
  34:HW/SDCard/SDCard_eval.h ****     /* ÈÖçÁΩÆSDIOÁöÑGPIOÂºïËÑö */
 1663              		.loc 2 34 5 is_stmt 1 view .LVU572
 1664 001a 01A8     		add	r0, sp, #4
 1665 001c FFF7FEFF 		bl	NVIC_Init
 1666              	.LVL140:
  37:HW/SDCard/SDCard_eval.h ****     RCC_AHBPeriphClockCmd(RCC_AHBPeriph_DMA2, ENABLE);                              // ‰ΩøËÉΩDMAÊó∂
 1667              		.loc 2 37 5 view .LVU573
 1668 0020 2146     		mov	r1, r4
 1669 0022 4FF48060 		mov	r0, #1024
 1670 0026 FFF7FEFF 		bl	RCC_AHBPeriphClockCmd
 1671              	.LVL141:
  38:HW/SDCard/SDCard_eval.h ****     RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOC | RCC_APB2Periph_GPIOD, ENABLE);    // ‰ΩøËÉΩÂØπÂ∫î
 1672              		.loc 2 38 5 view .LVU574
 1673 002a 2146     		mov	r1, r4
 1674 002c 2846     		mov	r0, r5
 1675 002e FFF7FEFF 		bl	RCC_AHBPeriphClockCmd
 1676              	.LVL142:
  39:HW/SDCard/SDCard_eval.h ****     /* ÈÖçÁΩÆÂºïËÑö */
 1677              		.loc 2 39 5 view .LVU575
 1678 0032 2146     		mov	r1, r4
 1679 0034 3020     		movs	r0, #48
 1680 0036 FFF7FEFF 		bl	RCC_APB2PeriphClockCmd
 1681              	.LVL143:
  41:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Mode = GPIO_Mode_AF_PP;
 1682              		.loc 2 41 5 view .LVU576
  42:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Speed = GPIO_Speed_50MHz;
 1683              		.loc 2 42 5 view .LVU577
  42:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Speed = GPIO_Speed_50MHz;
 1684              		.loc 2 42 23 is_stmt 0 view .LVU578
 1685 003a 1823     		movs	r3, #24
 1686 003c 8DF80330 		strb	r3, [sp, #3]
  43:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Pin = GPIO_Pin_8 | GPIO_Pin_9 | GPIO_Pin_10 | GPIO_Pin_11 | GPIO_Pin_12;   // SDIO
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 83


 1687              		.loc 2 43 5 is_stmt 1 view .LVU579
  43:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Pin = GPIO_Pin_8 | GPIO_Pin_9 | GPIO_Pin_10 | GPIO_Pin_11 | GPIO_Pin_12;   // SDIO
 1688              		.loc 2 43 24 is_stmt 0 view .LVU580
 1689 0040 0323     		movs	r3, #3
 1690 0042 8DF80230 		strb	r3, [sp, #2]
  44:HW/SDCard/SDCard_eval.h ****     GPIO_Init(GPIOC, &gpioDef);
 1691              		.loc 2 44 5 is_stmt 1 view .LVU581
  44:HW/SDCard/SDCard_eval.h ****     GPIO_Init(GPIOC, &gpioDef);
 1692              		.loc 2 44 22 is_stmt 0 view .LVU582
 1693 0046 4FF4F853 		mov	r3, #7936
 1694 004a ADF80030 		strh	r3, [sp]	@ movhi
  45:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Pin = GPIO_Pin_2;  // SDIO_CMD
 1695              		.loc 2 45 5 is_stmt 1 view .LVU583
 1696 004e 6946     		mov	r1, sp
 1697 0050 0548     		ldr	r0, .L129
 1698 0052 FFF7FEFF 		bl	GPIO_Init
 1699              	.LVL144:
  46:HW/SDCard/SDCard_eval.h ****     GPIO_Init(GPIOD, &gpioDef);
 1700              		.loc 2 46 5 view .LVU584
  46:HW/SDCard/SDCard_eval.h ****     GPIO_Init(GPIOD, &gpioDef);
 1701              		.loc 2 46 22 is_stmt 0 view .LVU585
 1702 0056 0423     		movs	r3, #4
 1703 0058 ADF80030 		strh	r3, [sp]	@ movhi
  47:HW/SDCard/SDCard_eval.h **** }
 1704              		.loc 2 47 5 is_stmt 1 view .LVU586
 1705 005c 6946     		mov	r1, sp
 1706 005e 0348     		ldr	r0, .L129+4
 1707 0060 FFF7FEFF 		bl	GPIO_Init
 1708              	.LVL145:
  48:HW/SDCard/SDCard_eval.h **** 
 1709              		.loc 2 48 1 is_stmt 0 view .LVU587
 1710 0064 03B0     		add	sp, sp, #12
 1711              	.LCFI22:
 1712              		.cfi_def_cfa_offset 12
 1713              		@ sp needed
 1714 0066 30BD     		pop	{r4, r5, pc}
 1715              	.L130:
 1716              		.align	2
 1717              	.L129:
 1718 0068 00100140 		.word	1073811456
 1719 006c 00140140 		.word	1073812480
 1720              		.cfi_endproc
 1721              	.LFE29:
 1723              		.section	.text.SD_LowLevel_DeInit,"ax",%progbits
 1724              		.align	1
 1725              		.global	SD_LowLevel_DeInit
 1726              		.syntax unified
 1727              		.thumb
 1728              		.thumb_func
 1730              	SD_LowLevel_DeInit:
 1731              	.LFB30:
  55:HW/SDCard/SDCard_eval.h ****     /* Â§±ËÉΩSDIO */
 1732              		.loc 2 55 26 is_stmt 1 view -0
 1733              		.cfi_startproc
 1734              		@ args = 0, pretend = 0, frame = 8
 1735              		@ frame_needed = 0, uses_anonymous_args = 0
 1736 0000 10B5     		push	{r4, lr}
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 84


 1737              	.LCFI23:
 1738              		.cfi_def_cfa_offset 8
 1739              		.cfi_offset 4, -8
 1740              		.cfi_offset 14, -4
 1741 0002 82B0     		sub	sp, sp, #8
 1742              	.LCFI24:
 1743              		.cfi_def_cfa_offset 16
  57:HW/SDCard/SDCard_eval.h **** 
 1744              		.loc 2 57 5 view .LVU589
 1745 0004 0020     		movs	r0, #0
 1746 0006 FFF7FEFF 		bl	SDIO_ClockCmd
 1747              	.LVL146:
  60:HW/SDCard/SDCard_eval.h **** 
 1748              		.loc 2 60 5 view .LVU590
 1749 000a 0020     		movs	r0, #0
 1750 000c FFF7FEFF 		bl	SDIO_SetPowerState
 1751              	.LVL147:
  63:HW/SDCard/SDCard_eval.h **** 
 1752              		.loc 2 63 5 view .LVU591
 1753 0010 FFF7FEFF 		bl	SDIO_DeInit
 1754              	.LVL148:
  66:HW/SDCard/SDCard_eval.h **** 
 1755              		.loc 2 66 5 view .LVU592
 1756 0014 0021     		movs	r1, #0
 1757 0016 4FF48060 		mov	r0, #1024
 1758 001a FFF7FEFF 		bl	RCC_AHBPeriphClockCmd
 1759              	.LVL149:
  69:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Pin = GPIO_Pin_8 | GPIO_Pin_9 | GPIO_Pin_10 | GPIO_Pin_11 | GPIO_Pin_12;
 1760              		.loc 2 69 5 view .LVU593
  70:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Mode = GPIO_Mode_IN_FLOATING;
 1761              		.loc 2 70 5 view .LVU594
  70:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Mode = GPIO_Mode_IN_FLOATING;
 1762              		.loc 2 70 22 is_stmt 0 view .LVU595
 1763 001e 4FF4F853 		mov	r3, #7936
 1764 0022 ADF80430 		strh	r3, [sp, #4]	@ movhi
  71:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Speed = GPIO_Speed_50MHz;
 1765              		.loc 2 71 5 is_stmt 1 view .LVU596
  71:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Speed = GPIO_Speed_50MHz;
 1766              		.loc 2 71 23 is_stmt 0 view .LVU597
 1767 0026 0424     		movs	r4, #4
 1768 0028 8DF80740 		strb	r4, [sp, #7]
  72:HW/SDCard/SDCard_eval.h ****     GPIO_Init(GPIOC, &gpioDef);
 1769              		.loc 2 72 5 is_stmt 1 view .LVU598
  72:HW/SDCard/SDCard_eval.h ****     GPIO_Init(GPIOC, &gpioDef);
 1770              		.loc 2 72 24 is_stmt 0 view .LVU599
 1771 002c 0323     		movs	r3, #3
 1772 002e 8DF80630 		strb	r3, [sp, #6]
  73:HW/SDCard/SDCard_eval.h ****     gpioDef.GPIO_Pin = GPIO_Pin_2;
 1773              		.loc 2 73 5 is_stmt 1 view .LVU600
 1774 0032 0DEB0401 		add	r1, sp, r4
 1775 0036 0D48     		ldr	r0, .L133
 1776 0038 FFF7FEFF 		bl	GPIO_Init
 1777              	.LVL150:
  74:HW/SDCard/SDCard_eval.h ****     GPIO_Init(GPIOD, &gpioDef);
 1778              		.loc 2 74 5 view .LVU601
  74:HW/SDCard/SDCard_eval.h ****     GPIO_Init(GPIOD, &gpioDef);
 1779              		.loc 2 74 22 is_stmt 0 view .LVU602
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 85


 1780 003c ADF80440 		strh	r4, [sp, #4]	@ movhi
  75:HW/SDCard/SDCard_eval.h **** 
 1781              		.loc 2 75 5 is_stmt 1 view .LVU603
 1782 0040 0DEB0401 		add	r1, sp, r4
 1783 0044 0A48     		ldr	r0, .L133+4
 1784 0046 FFF7FEFF 		bl	GPIO_Init
 1785              	.LVL151:
  78:HW/SDCard/SDCard_eval.h ****     DMA_Cmd(DMA2_Channel4, DISABLE);
 1786              		.loc 2 78 5 view .LVU604
 1787 004a 0A48     		ldr	r0, .L133+8
 1788 004c FFF7FEFF 		bl	DMA_ClearFlag
 1789              	.LVL152:
  79:HW/SDCard/SDCard_eval.h ****     RCC_AHBPeriphClockCmd(RCC_AHBPeriph_DMA2, DISABLE);
 1790              		.loc 2 79 5 view .LVU605
 1791 0050 094C     		ldr	r4, .L133+12
 1792 0052 0021     		movs	r1, #0
 1793 0054 2046     		mov	r0, r4
 1794 0056 FFF7FEFF 		bl	DMA_Cmd
 1795              	.LVL153:
  80:HW/SDCard/SDCard_eval.h ****     DMA_DeInit(DMA2_Channel4);
 1796              		.loc 2 80 5 view .LVU606
 1797 005a 0021     		movs	r1, #0
 1798 005c 0220     		movs	r0, #2
 1799 005e FFF7FEFF 		bl	RCC_AHBPeriphClockCmd
 1800              	.LVL154:
  81:HW/SDCard/SDCard_eval.h **** }
 1801              		.loc 2 81 5 view .LVU607
 1802 0062 2046     		mov	r0, r4
 1803 0064 FFF7FEFF 		bl	DMA_DeInit
 1804              	.LVL155:
  82:HW/SDCard/SDCard_eval.h **** 
 1805              		.loc 2 82 1 is_stmt 0 view .LVU608
 1806 0068 02B0     		add	sp, sp, #8
 1807              	.LCFI25:
 1808              		.cfi_def_cfa_offset 8
 1809              		@ sp needed
 1810 006a 10BD     		pop	{r4, pc}
 1811              	.L134:
 1812              		.align	2
 1813              	.L133:
 1814 006c 00100140 		.word	1073811456
 1815 0070 00140140 		.word	1073812480
 1816 0074 00F00010 		.word	268496896
 1817 0078 44040240 		.word	1073873988
 1818              		.cfi_endproc
 1819              	.LFE30:
 1821              		.section	.text.SD_LowLevel_DMA_RxConfig,"ax",%progbits
 1822              		.align	1
 1823              		.global	SD_LowLevel_DMA_RxConfig
 1824              		.syntax unified
 1825              		.thumb
 1826              		.thumb_func
 1828              	SD_LowLevel_DMA_RxConfig:
 1829              	.LVL156:
 1830              	.LFB32:
 109:HW/SDCard/SDCard_eval.h **** 
 110:HW/SDCard/SDCard_eval.h **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 86


 111:HW/SDCard/SDCard_eval.h **** /**
 112:HW/SDCard/SDCard_eval.h ****   * @brief ÈÖçÁΩÆSDIOÂØπÂ∫îÁöÑDMA4ÔºàP->MÊñπÂêëÔºâ
 113:HW/SDCard/SDCard_eval.h ****   * @param dst ‰ªéFIFO‰∏≠ËØªÂèñÊï∞ÊçÆÂà∞dstÂÜÖÂ≠ò‰∏≠
 114:HW/SDCard/SDCard_eval.h ****   * @param size Êï∞ÊçÆÂ§ßÂ∞èÔºåÂçï‰Ωç‰∏∫Byte
 115:HW/SDCard/SDCard_eval.h ****   * @retval None
 116:HW/SDCard/SDCard_eval.h ****  */
 117:HW/SDCard/SDCard_eval.h **** void SD_LowLevel_DMA_RxConfig(uint32_t* dst, uint32_t size){
 1831              		.loc 2 117 60 is_stmt 1 view -0
 1832              		.cfi_startproc
 1833              		@ args = 0, pretend = 0, frame = 0
 1834              		@ frame_needed = 0, uses_anonymous_args = 0
 1835              		.loc 2 117 60 is_stmt 0 view .LVU610
 1836 0000 08B5     		push	{r3, lr}
 1837              	.LCFI26:
 1838              		.cfi_def_cfa_offset 8
 1839              		.cfi_offset 3, -8
 1840              		.cfi_offset 14, -4
 118:HW/SDCard/SDCard_eval.h ****     __SD_DMA_Conf_Impl(dst, size, DMA_DIR_PeripheralSRC);
 1841              		.loc 2 118 5 is_stmt 1 view .LVU611
 1842 0002 0022     		movs	r2, #0
 1843 0004 FFF7FEFF 		bl	__SD_DMA_Conf_Impl
 1844              	.LVL157:
 119:HW/SDCard/SDCard_eval.h **** }
 1845              		.loc 2 119 1 is_stmt 0 view .LVU612
 1846 0008 08BD     		pop	{r3, pc}
 1847              		.cfi_endproc
 1848              	.LFE32:
 1850              		.section	.text.SD_LowLevel_DMA_TxConfig,"ax",%progbits
 1851              		.align	1
 1852              		.global	SD_LowLevel_DMA_TxConfig
 1853              		.syntax unified
 1854              		.thumb
 1855              		.thumb_func
 1857              	SD_LowLevel_DMA_TxConfig:
 1858              	.LVL158:
 1859              	.LFB33:
 120:HW/SDCard/SDCard_eval.h **** 
 121:HW/SDCard/SDCard_eval.h **** /**
 122:HW/SDCard/SDCard_eval.h ****   * @brief ÈÖçÁΩÆSDIOÂØπÂ∫îÁöÑDMA4ÔºàM->PÊñπÂêëÔºâ
 123:HW/SDCard/SDCard_eval.h ****   * @param src ‰ªésrcÂÜÖÂ≠ò‰∏≠ÂèëÈÄÅÊï∞ÊçÆÂà∞FIFO‰∏≠
 124:HW/SDCard/SDCard_eval.h ****   * @param size Êï∞ÊçÆÂ§ßÂ∞èÔºåÂçï‰Ωç‰∏∫Byte
 125:HW/SDCard/SDCard_eval.h ****   * @retval None
 126:HW/SDCard/SDCard_eval.h ****  */
 127:HW/SDCard/SDCard_eval.h **** void SD_LowLevel_DMA_TxConfig(uint32_t* src, uint32_t size){
 1860              		.loc 2 127 60 is_stmt 1 view -0
 1861              		.cfi_startproc
 1862              		@ args = 0, pretend = 0, frame = 0
 1863              		@ frame_needed = 0, uses_anonymous_args = 0
 1864              		.loc 2 127 60 is_stmt 0 view .LVU614
 1865 0000 08B5     		push	{r3, lr}
 1866              	.LCFI27:
 1867              		.cfi_def_cfa_offset 8
 1868              		.cfi_offset 3, -8
 1869              		.cfi_offset 14, -4
 128:HW/SDCard/SDCard_eval.h ****     __SD_DMA_Conf_Impl(src, size, DMA_DIR_PeripheralDST);
 1870              		.loc 2 128 5 is_stmt 1 view .LVU615
 1871 0002 1022     		movs	r2, #16
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 87


 1872 0004 FFF7FEFF 		bl	__SD_DMA_Conf_Impl
 1873              	.LVL159:
 129:HW/SDCard/SDCard_eval.h **** }
 1874              		.loc 2 129 1 is_stmt 0 view .LVU616
 1875 0008 08BD     		pop	{r3, pc}
 1876              		.cfi_endproc
 1877              	.LFE33:
 1879              		.section	.text.SD_DeInit,"ax",%progbits
 1880              		.align	1
 1881              		.global	SD_DeInit
 1882              		.syntax unified
 1883              		.thumb
 1884              		.thumb_func
 1886              	SD_DeInit:
 1887              	.LFB36:
 358:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_LowLevel_DeInit();
 1888              		.loc 1 358 1 is_stmt 1 view -0
 1889              		.cfi_startproc
 1890              		@ args = 0, pretend = 0, frame = 0
 1891              		@ frame_needed = 0, uses_anonymous_args = 0
 1892 0000 08B5     		push	{r3, lr}
 1893              	.LCFI28:
 1894              		.cfi_def_cfa_offset 8
 1895              		.cfi_offset 3, -8
 1896              		.cfi_offset 14, -4
 359:HW/SDCard/stm32_eval_sdio_sd.c **** }
 1897              		.loc 1 359 3 view .LVU618
 1898 0002 FFF7FEFF 		bl	SD_LowLevel_DeInit
 1899              	.LVL160:
 360:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1900              		.loc 1 360 1 is_stmt 0 view .LVU619
 1901 0006 08BD     		pop	{r3, pc}
 1902              		.cfi_endproc
 1903              	.LFE36:
 1905              		.section	.text.SD_Detect,"ax",%progbits
 1906              		.align	1
 1907              		.global	SD_Detect
 1908              		.syntax unified
 1909              		.thumb
 1910              		.thumb_func
 1912              	SD_Detect:
 1913              	.LFB40:
 492:HW/SDCard/stm32_eval_sdio_sd.c ****   __IO uint8_t status = SD_PRESENT;
 1914              		.loc 1 492 1 is_stmt 1 view -0
 1915              		.cfi_startproc
 1916              		@ args = 0, pretend = 0, frame = 8
 1917              		@ frame_needed = 0, uses_anonymous_args = 0
 1918              		@ link register save eliminated.
 1919 0000 82B0     		sub	sp, sp, #8
 1920              	.LCFI29:
 1921              		.cfi_def_cfa_offset 8
 493:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1922              		.loc 1 493 3 view .LVU621
 493:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1923              		.loc 1 493 16 is_stmt 0 view .LVU622
 1924 0002 0123     		movs	r3, #1
 1925 0004 8DF80730 		strb	r3, [sp, #7]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 88


 501:HW/SDCard/stm32_eval_sdio_sd.c **** }
 1926              		.loc 1 501 3 is_stmt 1 view .LVU623
 501:HW/SDCard/stm32_eval_sdio_sd.c **** }
 1927              		.loc 1 501 10 is_stmt 0 view .LVU624
 1928 0008 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 502:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1929              		.loc 1 502 1 view .LVU625
 1930 000c 02B0     		add	sp, sp, #8
 1931              	.LCFI30:
 1932              		.cfi_def_cfa_offset 0
 1933              		@ sp needed
 1934 000e 7047     		bx	lr
 1935              		.cfi_endproc
 1936              	.LFE40:
 1938              		.section	.text.SD_PowerON,"ax",%progbits
 1939              		.align	1
 1940              		.global	SD_PowerON
 1941              		.syntax unified
 1942              		.thumb
 1943              		.thumb_func
 1945              	SD_PowerON:
 1946              	.LFB41:
 511:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 1947              		.loc 1 511 1 is_stmt 1 view -0
 1948              		.cfi_startproc
 1949              		@ args = 0, pretend = 0, frame = 0
 1950              		@ frame_needed = 0, uses_anonymous_args = 0
 1951 0000 70B5     		push	{r4, r5, r6, lr}
 1952              	.LCFI31:
 1953              		.cfi_def_cfa_offset 16
 1954              		.cfi_offset 4, -16
 1955              		.cfi_offset 5, -12
 1956              		.cfi_offset 6, -8
 1957              		.cfi_offset 14, -4
 512:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t response = 0, count = 0, validvoltage = 0;
 1958              		.loc 1 512 3 view .LVU627
 1959              	.LVL161:
 513:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t SDType = SD_STD_CAPACITY;
 1960              		.loc 1 513 3 view .LVU628
 514:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1961              		.loc 1 514 3 view .LVU629
 521:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockEdge           = SDIO_ClockEdge_Rising;            // ‰∏äÂçáÊ≤øÊúâÊï
 1962              		.loc 1 521 3 view .LVU630
 521:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockEdge           = SDIO_ClockEdge_Rising;            // ‰∏äÂçáÊ≤øÊúâÊï
 1963              		.loc 1 521 47 is_stmt 0 view .LVU631
 1964 0002 5048     		ldr	r0, .L155
 1965 0004 B223     		movs	r3, #178
 1966 0006 0375     		strb	r3, [r0, #20]
 522:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockBypass         = SDIO_ClockBypass_Disable;         // ÊòØÂê¶‰ΩøÁî®By
 1967              		.loc 1 522 3 is_stmt 1 view .LVU632
 522:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockBypass         = SDIO_ClockBypass_Disable;         // ÊòØÂê¶‰ΩøÁî®By
 1968              		.loc 1 522 47 is_stmt 0 view .LVU633
 1969 0008 0024     		movs	r4, #0
 1970 000a 0460     		str	r4, [r0]
 523:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockPowerSave      = SDIO_ClockPowerSave_Disable;      // ÁúÅÁîµÊ®°ÂºèÔº
 1971              		.loc 1 523 3 is_stmt 1 view .LVU634
 523:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockPowerSave      = SDIO_ClockPowerSave_Disable;      // ÁúÅÁîµÊ®°ÂºèÔº
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 89


 1972              		.loc 1 523 47 is_stmt 0 view .LVU635
 1973 000c 4460     		str	r4, [r0, #4]
 524:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_BusWide             = SDIO_BusWide_1b;                  // Êï∞ÊçÆÁ∫øÊï∞Èá
 1974              		.loc 1 524 3 is_stmt 1 view .LVU636
 524:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_BusWide             = SDIO_BusWide_1b;                  // Êï∞ÊçÆÁ∫øÊï∞Èá
 1975              		.loc 1 524 47 is_stmt 0 view .LVU637
 1976 000e 8460     		str	r4, [r0, #8]
 525:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable; // ÂÖ≥Èó≠Á°¨‰ª∂Êµ
 1977              		.loc 1 525 3 is_stmt 1 view .LVU638
 525:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable; // ÂÖ≥Èó≠Á°¨‰ª∂Êµ
 1978              		.loc 1 525 47 is_stmt 0 view .LVU639
 1979 0010 C460     		str	r4, [r0, #12]
 526:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_Init(&SDIO_InitStructure);
 1980              		.loc 1 526 3 is_stmt 1 view .LVU640
 526:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_Init(&SDIO_InitStructure);
 1981              		.loc 1 526 47 is_stmt 0 view .LVU641
 1982 0012 0461     		str	r4, [r0, #16]
 527:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1983              		.loc 1 527 3 is_stmt 1 view .LVU642
 1984 0014 FFF7FEFF 		bl	SDIO_Init
 1985              	.LVL162:
 530:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1986              		.loc 1 530 3 view .LVU643
 1987 0018 0320     		movs	r0, #3
 1988 001a FFF7FEFF 		bl	SDIO_SetPowerState
 1989              	.LVL163:
 533:HW/SDCard/stm32_eval_sdio_sd.c **** 
 1990              		.loc 1 533 3 view .LVU644
 1991 001e 0120     		movs	r0, #1
 1992 0020 FFF7FEFF 		bl	SDIO_ClockCmd
 1993              	.LVL164:
 538:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_GO_IDLE_STATE;   // ÂëΩ‰ª§Âè∑
 1994              		.loc 1 538 3 view .LVU645
 538:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_GO_IDLE_STATE;   // ÂëΩ‰ª§Âè∑
 1995              		.loc 1 538 39 is_stmt 0 view .LVU646
 1996 0024 4848     		ldr	r0, .L155+4
 1997 0026 0460     		str	r4, [r0]
 539:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_No;       // ÂìçÂ∫îÁ±ªÂûã
 1998              		.loc 1 539 3 is_stmt 1 view .LVU647
 539:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_No;       // ÂìçÂ∫îÁ±ªÂûã
 1999              		.loc 1 539 39 is_stmt 0 view .LVU648
 2000 0028 4460     		str	r4, [r0, #4]
 540:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait     = SDIO_Wait_No;           // ËÆæÁΩÆÁ≠âÂæÖÊ®°ÂºèÔºåÂç≥ SDIO_CM
 2001              		.loc 1 540 3 is_stmt 1 view .LVU649
 540:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait     = SDIO_Wait_No;           // ËÆæÁΩÆÁ≠âÂæÖÊ®°ÂºèÔºåÂç≥ SDIO_CM
 2002              		.loc 1 540 39 is_stmt 0 view .LVU650
 2003 002a 8460     		str	r4, [r0, #8]
 541:HW/SDCard/stm32_eval_sdio_sd.c ****                                                                 // ‰πà‰∫ã‰ª∂Ôºà‰∏ÄÂÖ±‰∏âÁßç‰∫ã‰ª∂Ôº
 2004              		.loc 1 541 3 is_stmt 1 view .LVU651
 541:HW/SDCard/stm32_eval_sdio_sd.c ****                                                                 // ‰πà‰∫ã‰ª∂Ôºà‰∏ÄÂÖ±‰∏âÁßç‰∫ã‰ª∂Ôº
 2005              		.loc 1 541 39 is_stmt 0 view .LVU652
 2006 002c C460     		str	r4, [r0, #12]
 543:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 2007              		.loc 1 543 3 is_stmt 1 view .LVU653
 543:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 2008              		.loc 1 543 39 is_stmt 0 view .LVU654
 2009 002e 4FF48063 		mov	r3, #1024
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 90


 2010 0032 0361     		str	r3, [r0, #16]
 544:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2011              		.loc 1 544 3 is_stmt 1 view .LVU655
 2012 0034 FFF7FEFF 		bl	SDIO_SendCommand
 2013              	.LVL165:
 546:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2014              		.loc 1 546 3 view .LVU656
 546:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2015              		.loc 1 546 17 is_stmt 0 view .LVU657
 2016 0038 FFF7FEFF 		bl	CmdError
 2017              	.LVL166:
 548:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2018              		.loc 1 548 3 is_stmt 1 view .LVU658
 548:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2019              		.loc 1 548 6 is_stmt 0 view .LVU659
 2020 003c 0646     		mov	r6, r0
 2021 003e 08B1     		cbz	r0, .L153
 2022              	.LVL167:
 2023              	.L144:
 657:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2024              		.loc 1 657 1 view .LVU660
 2025 0040 3046     		mov	r0, r6
 2026 0042 70BD     		pop	{r4, r5, r6, pc}
 2027              	.LVL168:
 2028              	.L153:
 561:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SDIO_SEND_IF_COND;
 2029              		.loc 1 561 3 is_stmt 1 view .LVU661
 561:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SDIO_SEND_IF_COND;
 2030              		.loc 1 561 39 is_stmt 0 view .LVU662
 2031 0044 4048     		ldr	r0, .L155+4
 2032              	.LVL169:
 561:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SDIO_SEND_IF_COND;
 2033              		.loc 1 561 39 view .LVU663
 2034 0046 4FF4D573 		mov	r3, #426
 2035 004a 0360     		str	r3, [r0]
 562:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 2036              		.loc 1 562 3 is_stmt 1 view .LVU664
 562:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 2037              		.loc 1 562 39 is_stmt 0 view .LVU665
 2038 004c 0823     		movs	r3, #8
 2039 004e 4360     		str	r3, [r0, #4]
 563:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2040              		.loc 1 563 3 is_stmt 1 view .LVU666
 563:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2041              		.loc 1 563 39 is_stmt 0 view .LVU667
 2042 0050 4023     		movs	r3, #64
 2043 0052 8360     		str	r3, [r0, #8]
 564:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2044              		.loc 1 564 3 is_stmt 1 view .LVU668
 564:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2045              		.loc 1 564 35 is_stmt 0 view .LVU669
 2046 0054 C460     		str	r4, [r0, #12]
 565:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 2047              		.loc 1 565 3 is_stmt 1 view .LVU670
 565:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 2048              		.loc 1 565 35 is_stmt 0 view .LVU671
 2049 0056 4FF48063 		mov	r3, #1024
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 91


 2050 005a 0361     		str	r3, [r0, #16]
 566:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2051              		.loc 1 566 3 is_stmt 1 view .LVU672
 2052 005c FFF7FEFF 		bl	SDIO_SendCommand
 2053              	.LVL170:
 569:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2054              		.loc 1 569 3 view .LVU673
 569:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2055              		.loc 1 569 17 is_stmt 0 view .LVU674
 2056 0060 FFF7FEFF 		bl	CmdResp7Error
 2057              	.LVL171:
 571:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2058              		.loc 1 571 3 is_stmt 1 view .LVU675
 571:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2059              		.loc 1 571 6 is_stmt 0 view .LVU676
 2060 0064 D8B9     		cbnz	r0, .L145
 573:HW/SDCard/stm32_eval_sdio_sd.c ****     SDType = SD_HIGH_CAPACITY;
 2061              		.loc 1 573 5 is_stmt 1 view .LVU677
 573:HW/SDCard/stm32_eval_sdio_sd.c ****     SDType = SD_HIGH_CAPACITY;
 2062              		.loc 1 573 14 is_stmt 0 view .LVU678
 2063 0066 394B     		ldr	r3, .L155+8
 2064 0068 0122     		movs	r2, #1
 2065 006a 1A60     		str	r2, [r3]
 574:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 2066              		.loc 1 574 5 is_stmt 1 view .LVU679
 2067              	.LVL172:
 574:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 2068              		.loc 1 574 12 is_stmt 0 view .LVU680
 2069 006c 4FF08045 		mov	r5, #1073741824
 2070              	.LVL173:
 2071              	.L146:
 590:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 2072              		.loc 1 590 3 is_stmt 1 view .LVU681
 590:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 2073              		.loc 1 590 39 is_stmt 0 view .LVU682
 2074 0070 3548     		ldr	r0, .L155+4
 2075 0072 0023     		movs	r3, #0
 2076 0074 0360     		str	r3, [r0]
 591:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 2077              		.loc 1 591 3 is_stmt 1 view .LVU683
 591:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 2078              		.loc 1 591 39 is_stmt 0 view .LVU684
 2079 0076 3724     		movs	r4, #55
 2080 0078 4460     		str	r4, [r0, #4]
 592:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2081              		.loc 1 592 3 is_stmt 1 view .LVU685
 592:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2082              		.loc 1 592 39 is_stmt 0 view .LVU686
 2083 007a 4022     		movs	r2, #64
 2084 007c 8260     		str	r2, [r0, #8]
 593:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2085              		.loc 1 593 3 is_stmt 1 view .LVU687
 593:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2086              		.loc 1 593 35 is_stmt 0 view .LVU688
 2087 007e C360     		str	r3, [r0, #12]
 594:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 2088              		.loc 1 594 3 is_stmt 1 view .LVU689
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 92


 594:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 2089              		.loc 1 594 35 is_stmt 0 view .LVU690
 2090 0080 4FF48063 		mov	r3, #1024
 2091 0084 0361     		str	r3, [r0, #16]
 595:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
 2092              		.loc 1 595 3 is_stmt 1 view .LVU691
 2093 0086 FFF7FEFF 		bl	SDIO_SendCommand
 2094              	.LVL174:
 596:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2095              		.loc 1 596 3 view .LVU692
 596:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2096              		.loc 1 596 17 is_stmt 0 view .LVU693
 2097 008a 2046     		mov	r0, r4
 2098 008c FFF7FEFF 		bl	CmdResp1Error
 2099              	.LVL175:
 601:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2100              		.loc 1 601 3 is_stmt 1 view .LVU694
 601:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2101              		.loc 1 601 6 is_stmt 0 view .LVU695
 2102 0090 0646     		mov	r6, r0
 2103 0092 0028     		cmp	r0, #0
 2104 0094 D4D1     		bne	.L144
 513:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t SDType = SD_STD_CAPACITY;
 2105              		.loc 1 513 37 view .LVU696
 2106 0096 0020     		movs	r0, #0
 2107              	.LVL176:
 513:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t SDType = SD_STD_CAPACITY;
 2108              		.loc 1 513 26 view .LVU697
 2109 0098 0446     		mov	r4, r0
 513:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t SDType = SD_STD_CAPACITY;
 2110              		.loc 1 513 12 view .LVU698
 2111 009a 0246     		mov	r2, r0
 2112 009c 15E0     		b	.L147
 2113              	.LVL177:
 2114              	.L145:
 579:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 2115              		.loc 1 579 5 is_stmt 1 view .LVU699
 579:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 2116              		.loc 1 579 41 is_stmt 0 view .LVU700
 2117 009e 2A48     		ldr	r0, .L155+4
 2118              	.LVL178:
 579:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 2119              		.loc 1 579 41 view .LVU701
 2120 00a0 0025     		movs	r5, #0
 2121 00a2 0560     		str	r5, [r0]
 580:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 2122              		.loc 1 580 5 is_stmt 1 view .LVU702
 580:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 2123              		.loc 1 580 41 is_stmt 0 view .LVU703
 2124 00a4 3724     		movs	r4, #55
 2125 00a6 4460     		str	r4, [r0, #4]
 581:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2126              		.loc 1 581 5 is_stmt 1 view .LVU704
 581:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2127              		.loc 1 581 41 is_stmt 0 view .LVU705
 2128 00a8 4023     		movs	r3, #64
 2129 00aa 8360     		str	r3, [r0, #8]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 93


 582:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2130              		.loc 1 582 5 is_stmt 1 view .LVU706
 582:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2131              		.loc 1 582 37 is_stmt 0 view .LVU707
 2132 00ac C560     		str	r5, [r0, #12]
 583:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 2133              		.loc 1 583 5 is_stmt 1 view .LVU708
 583:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 2134              		.loc 1 583 37 is_stmt 0 view .LVU709
 2135 00ae 4FF48063 		mov	r3, #1024
 2136 00b2 0361     		str	r3, [r0, #16]
 584:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
 2137              		.loc 1 584 5 is_stmt 1 view .LVU710
 2138 00b4 FFF7FEFF 		bl	SDIO_SendCommand
 2139              	.LVL179:
 585:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 2140              		.loc 1 585 5 view .LVU711
 585:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 2141              		.loc 1 585 19 is_stmt 0 view .LVU712
 2142 00b8 2046     		mov	r0, r4
 2143 00ba FFF7FEFF 		bl	CmdResp1Error
 2144              	.LVL180:
 585:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 2145              		.loc 1 585 19 view .LVU713
 2146 00be D7E7     		b	.L146
 2147              	.LVL181:
 2148              	.L154:
 637:HW/SDCard/stm32_eval_sdio_sd.c ****       validvoltage = (((response >> 31) == 1) ? 1 : 0);
 2149              		.loc 1 637 7 is_stmt 1 view .LVU714
 637:HW/SDCard/stm32_eval_sdio_sd.c ****       validvoltage = (((response >> 31) == 1) ? 1 : 0);
 2150              		.loc 1 637 18 is_stmt 0 view .LVU715
 2151 00c0 FFF7FEFF 		bl	SDIO_GetResponse
 2152              	.LVL182:
 638:HW/SDCard/stm32_eval_sdio_sd.c ****       count++;
 2153              		.loc 1 638 7 is_stmt 1 view .LVU716
 638:HW/SDCard/stm32_eval_sdio_sd.c ****       count++;
 2154              		.loc 1 638 51 is_stmt 0 view .LVU717
 2155 00c4 0246     		mov	r2, r0
 2156 00c6 C00F     		lsrs	r0, r0, #31
 2157              	.LVL183:
 639:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 2158              		.loc 1 639 7 is_stmt 1 view .LVU718
 639:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 2159              		.loc 1 639 12 is_stmt 0 view .LVU719
 2160 00c8 0134     		adds	r4, r4, #1
 2161              	.LVL184:
 2162              	.L147:
 606:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 2163              		.loc 1 606 28 is_stmt 1 view .LVU720
 2164 00ca 68BB     		cbnz	r0, .L148
 606:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 2165              		.loc 1 606 28 is_stmt 0 discriminator 1 view .LVU721
 2166 00cc 4FF6FE73 		movw	r3, #65534
 2167 00d0 9C42     		cmp	r4, r3
 2168 00d2 29D8     		bhi	.L148
 610:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 2169              		.loc 1 610 7 is_stmt 1 view .LVU722
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 94


 610:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 2170              		.loc 1 610 43 is_stmt 0 view .LVU723
 2171 00d4 1C48     		ldr	r0, .L155+4
 2172              	.LVL185:
 610:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 2173              		.loc 1 610 43 view .LVU724
 2174 00d6 0023     		movs	r3, #0
 2175 00d8 0360     		str	r3, [r0]
 611:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 2176              		.loc 1 611 7 is_stmt 1 view .LVU725
 611:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 2177              		.loc 1 611 43 is_stmt 0 view .LVU726
 2178 00da 3726     		movs	r6, #55
 2179              	.LVL186:
 611:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 2180              		.loc 1 611 43 view .LVU727
 2181 00dc 4660     		str	r6, [r0, #4]
 612:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2182              		.loc 1 612 7 is_stmt 1 view .LVU728
 612:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2183              		.loc 1 612 43 is_stmt 0 view .LVU729
 2184 00de 4022     		movs	r2, #64
 2185              	.LVL187:
 612:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2186              		.loc 1 612 43 view .LVU730
 2187 00e0 8260     		str	r2, [r0, #8]
 613:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2188              		.loc 1 613 7 is_stmt 1 view .LVU731
 613:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2189              		.loc 1 613 39 is_stmt 0 view .LVU732
 2190 00e2 C360     		str	r3, [r0, #12]
 614:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 2191              		.loc 1 614 7 is_stmt 1 view .LVU733
 614:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 2192              		.loc 1 614 39 is_stmt 0 view .LVU734
 2193 00e4 4FF48063 		mov	r3, #1024
 2194 00e8 0361     		str	r3, [r0, #16]
 615:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2195              		.loc 1 615 7 is_stmt 1 view .LVU735
 2196 00ea FFF7FEFF 		bl	SDIO_SendCommand
 2197              	.LVL188:
 617:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2198              		.loc 1 617 7 view .LVU736
 617:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2199              		.loc 1 617 21 is_stmt 0 view .LVU737
 2200 00ee 3046     		mov	r0, r6
 2201 00f0 FFF7FEFF 		bl	CmdResp1Error
 2202              	.LVL189:
 619:HW/SDCard/stm32_eval_sdio_sd.c ****       {
 2203              		.loc 1 619 7 is_stmt 1 view .LVU738
 619:HW/SDCard/stm32_eval_sdio_sd.c ****       {
 2204              		.loc 1 619 10 is_stmt 0 view .LVU739
 2205 00f4 0646     		mov	r6, r0
 2206 00f6 0028     		cmp	r0, #0
 2207 00f8 A2D1     		bne	.L144
 623:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_OP_COND;
 2208              		.loc 1 623 7 is_stmt 1 view .LVU740
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 95


 623:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_OP_COND;
 2209              		.loc 1 623 66 is_stmt 0 view .LVU741
 2210 00fa 45F00043 		orr	r3, r5, #-2147483648
 2211 00fe 43F48013 		orr	r3, r3, #1048576
 623:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_OP_COND;
 2212              		.loc 1 623 43 view .LVU742
 2213 0102 1148     		ldr	r0, .L155+4
 2214              	.LVL190:
 623:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_OP_COND;
 2215              		.loc 1 623 43 view .LVU743
 2216 0104 0360     		str	r3, [r0]
 624:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 2217              		.loc 1 624 7 is_stmt 1 view .LVU744
 624:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 2218              		.loc 1 624 43 is_stmt 0 view .LVU745
 2219 0106 2923     		movs	r3, #41
 2220 0108 4360     		str	r3, [r0, #4]
 625:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2221              		.loc 1 625 7 is_stmt 1 view .LVU746
 625:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2222              		.loc 1 625 43 is_stmt 0 view .LVU747
 2223 010a 4023     		movs	r3, #64
 2224 010c 8360     		str	r3, [r0, #8]
 626:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2225              		.loc 1 626 7 is_stmt 1 view .LVU748
 626:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2226              		.loc 1 626 39 is_stmt 0 view .LVU749
 2227 010e 0023     		movs	r3, #0
 2228 0110 C360     		str	r3, [r0, #12]
 627:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 2229              		.loc 1 627 7 is_stmt 1 view .LVU750
 627:HW/SDCard/stm32_eval_sdio_sd.c ****       SDIO_SendCommand(&SDIO_CmdInitStructure);
 2230              		.loc 1 627 39 is_stmt 0 view .LVU751
 2231 0112 4FF48063 		mov	r3, #1024
 2232 0116 0361     		str	r3, [r0, #16]
 628:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2233              		.loc 1 628 7 is_stmt 1 view .LVU752
 2234 0118 FFF7FEFF 		bl	SDIO_SendCommand
 2235              	.LVL191:
 630:HW/SDCard/stm32_eval_sdio_sd.c ****       if (errorstatus != SD_OK)
 2236              		.loc 1 630 7 view .LVU753
 630:HW/SDCard/stm32_eval_sdio_sd.c ****       if (errorstatus != SD_OK)
 2237              		.loc 1 630 21 is_stmt 0 view .LVU754
 2238 011c FFF7FEFF 		bl	CmdResp3Error
 2239              	.LVL192:
 631:HW/SDCard/stm32_eval_sdio_sd.c ****       {
 2240              		.loc 1 631 7 is_stmt 1 view .LVU755
 631:HW/SDCard/stm32_eval_sdio_sd.c ****       {
 2241              		.loc 1 631 10 is_stmt 0 view .LVU756
 2242 0120 0646     		mov	r6, r0
 2243 0122 0028     		cmp	r0, #0
 2244 0124 CCD0     		beq	.L154
 2245 0126 8BE7     		b	.L144
 2246              	.LVL193:
 2247              	.L148:
 642:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 2248              		.loc 1 642 5 is_stmt 1 view .LVU757
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 96


 642:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 2249              		.loc 1 642 8 is_stmt 0 view .LVU758
 2250 0128 4FF6FE73 		movw	r3, #65534
 2251 012c 9C42     		cmp	r4, r3
 2252 012e 06D8     		bhi	.L151
 649:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 2253              		.loc 1 649 5 is_stmt 1 view .LVU759
 2254              	.LVL194:
 649:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 2255              		.loc 1 649 8 is_stmt 0 view .LVU760
 2256 0130 12F0804F 		tst	r2, #1073741824
 2257 0134 84D0     		beq	.L144
 651:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 2258              		.loc 1 651 7 is_stmt 1 view .LVU761
 651:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 2259              		.loc 1 651 16 is_stmt 0 view .LVU762
 2260 0136 054B     		ldr	r3, .L155+8
 2261 0138 0222     		movs	r2, #2
 2262              	.LVL195:
 651:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 2263              		.loc 1 651 16 view .LVU763
 2264 013a 1A60     		str	r2, [r3]
 2265 013c 80E7     		b	.L144
 2266              	.LVL196:
 2267              	.L151:
 645:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 2268              		.loc 1 645 13 view .LVU764
 2269 013e 1B26     		movs	r6, #27
 2270              	.LVL197:
 645:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 2271              		.loc 1 645 13 view .LVU765
 2272 0140 7EE7     		b	.L144
 2273              	.L156:
 2274 0142 00BF     		.align	2
 2275              	.L155:
 2276 0144 00000000 		.word	SDIO_InitStructure
 2277 0148 00000000 		.word	SDIO_CmdInitStructure
 2278 014c 00000000 		.word	CardType
 2279              		.cfi_endproc
 2280              	.LFE41:
 2282              		.section	.text.SD_PowerOFF,"ax",%progbits
 2283              		.align	1
 2284              		.global	SD_PowerOFF
 2285              		.syntax unified
 2286              		.thumb
 2287              		.thumb_func
 2289              	SD_PowerOFF:
 2290              	.LFB42:
 665:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 2291              		.loc 1 665 1 is_stmt 1 view -0
 2292              		.cfi_startproc
 2293              		@ args = 0, pretend = 0, frame = 0
 2294              		@ frame_needed = 0, uses_anonymous_args = 0
 2295 0000 08B5     		push	{r3, lr}
 2296              	.LCFI32:
 2297              		.cfi_def_cfa_offset 8
 2298              		.cfi_offset 3, -8
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 97


 2299              		.cfi_offset 14, -4
 666:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2300              		.loc 1 666 3 view .LVU767
 2301              	.LVL198:
 669:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2302              		.loc 1 669 3 view .LVU768
 2303 0002 0020     		movs	r0, #0
 2304 0004 FFF7FEFF 		bl	SDIO_SetPowerState
 2305              	.LVL199:
 671:HW/SDCard/stm32_eval_sdio_sd.c **** }
 2306              		.loc 1 671 3 view .LVU769
 672:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2307              		.loc 1 672 1 is_stmt 0 view .LVU770
 2308 0008 0020     		movs	r0, #0
 2309 000a 08BD     		pop	{r3, pc}
 2310              		.cfi_endproc
 2311              	.LFE42:
 2313              		.section	.text.SD_InitializeCards,"ax",%progbits
 2314              		.align	1
 2315              		.global	SD_InitializeCards
 2316              		.syntax unified
 2317              		.thumb
 2318              		.thumb_func
 2320              	SD_InitializeCards:
 2321              	.LFB43:
 681:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 2322              		.loc 1 681 1 is_stmt 1 view -0
 2323              		.cfi_startproc
 2324              		@ args = 0, pretend = 0, frame = 8
 2325              		@ frame_needed = 0, uses_anonymous_args = 0
 2326 0000 30B5     		push	{r4, r5, lr}
 2327              	.LCFI33:
 2328              		.cfi_def_cfa_offset 12
 2329              		.cfi_offset 4, -12
 2330              		.cfi_offset 5, -8
 2331              		.cfi_offset 14, -4
 2332 0002 83B0     		sub	sp, sp, #12
 2333              	.LCFI34:
 2334              		.cfi_def_cfa_offset 24
 682:HW/SDCard/stm32_eval_sdio_sd.c ****   uint16_t rca = 0x01;
 2335              		.loc 1 682 3 view .LVU772
 2336              	.LVL200:
 683:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2337              		.loc 1 683 3 view .LVU773
 683:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2338              		.loc 1 683 12 is_stmt 0 view .LVU774
 2339 0004 0123     		movs	r3, #1
 2340 0006 ADF80630 		strh	r3, [sp, #6]	@ movhi
 685:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2341              		.loc 1 685 3 is_stmt 1 view .LVU775
 685:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2342              		.loc 1 685 7 is_stmt 0 view .LVU776
 2343 000a FFF7FEFF 		bl	SDIO_GetPowerState
 2344              	.LVL201:
 685:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2345              		.loc 1 685 6 view .LVU777
 2346 000e 0028     		cmp	r0, #0
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 98


 2347 0010 72D0     		beq	.L164
 691:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2348              		.loc 1 691 3 is_stmt 1 view .LVU778
 691:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2349              		.loc 1 691 35 is_stmt 0 view .LVU779
 2350 0012 3A4B     		ldr	r3, .L169
 2351 0014 1B68     		ldr	r3, [r3]
 691:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2352              		.loc 1 691 6 view .LVU780
 2353 0016 042B     		cmp	r3, #4
 2354 0018 23D1     		bne	.L167
 2355              	.LVL202:
 2356              	.L161:
 714:HW/SDCard/stm32_eval_sdio_sd.c ****       ||  (SDIO_HIGH_CAPACITY_SD_CARD == CardType))
 2357              		.loc 1 714 3 is_stmt 1 view .LVU781
 714:HW/SDCard/stm32_eval_sdio_sd.c ****       ||  (SDIO_HIGH_CAPACITY_SD_CARD == CardType))
 2358              		.loc 1 714 52 is_stmt 0 view .LVU782
 2359 001a 384B     		ldr	r3, .L169
 2360 001c 1B68     		ldr	r3, [r3]
 714:HW/SDCard/stm32_eval_sdio_sd.c ****       ||  (SDIO_HIGH_CAPACITY_SD_CARD == CardType))
 2361              		.loc 1 714 6 view .LVU783
 2362 001e 012B     		cmp	r3, #1
 2363 0020 03D9     		bls	.L162
 714:HW/SDCard/stm32_eval_sdio_sd.c ****       ||  (SDIO_HIGH_CAPACITY_SD_CARD == CardType))
 2364              		.loc 1 714 101 discriminator 1 view .LVU784
 2365 0022 062B     		cmp	r3, #6
 2366 0024 01D0     		beq	.L162
 715:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2367              		.loc 1 715 7 view .LVU785
 2368 0026 022B     		cmp	r3, #2
 2369 0028 13D1     		bne	.L163
 2370              	.L162:
 720:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_REL_ADDR;
 2371              		.loc 1 720 5 is_stmt 1 view .LVU786
 720:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_REL_ADDR;
 2372              		.loc 1 720 41 is_stmt 0 view .LVU787
 2373 002a 3548     		ldr	r0, .L169+4
 2374 002c 0023     		movs	r3, #0
 2375 002e 0360     		str	r3, [r0]
 721:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 2376              		.loc 1 721 5 is_stmt 1 view .LVU788
 721:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 2377              		.loc 1 721 41 is_stmt 0 view .LVU789
 2378 0030 0324     		movs	r4, #3
 2379 0032 4460     		str	r4, [r0, #4]
 722:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2380              		.loc 1 722 5 is_stmt 1 view .LVU790
 722:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2381              		.loc 1 722 41 is_stmt 0 view .LVU791
 2382 0034 4022     		movs	r2, #64
 2383 0036 8260     		str	r2, [r0, #8]
 723:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2384              		.loc 1 723 5 is_stmt 1 view .LVU792
 723:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2385              		.loc 1 723 37 is_stmt 0 view .LVU793
 2386 0038 C360     		str	r3, [r0, #12]
 724:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 99


 2387              		.loc 1 724 5 is_stmt 1 view .LVU794
 724:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 2388              		.loc 1 724 37 is_stmt 0 view .LVU795
 2389 003a 4FF48063 		mov	r3, #1024
 2390 003e 0361     		str	r3, [r0, #16]
 725:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2391              		.loc 1 725 5 is_stmt 1 view .LVU796
 2392 0040 FFF7FEFF 		bl	SDIO_SendCommand
 2393              	.LVL203:
 727:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2394              		.loc 1 727 5 view .LVU797
 727:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2395              		.loc 1 727 19 is_stmt 0 view .LVU798
 2396 0044 0DF10601 		add	r1, sp, #6
 2397 0048 2046     		mov	r0, r4
 2398 004a FFF7FEFF 		bl	CmdResp6Error
 2399              	.LVL204:
 729:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 2400              		.loc 1 729 5 is_stmt 1 view .LVU799
 729:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 2401              		.loc 1 729 8 is_stmt 0 view .LVU800
 2402 004e 0446     		mov	r4, r0
 2403 0050 20B9     		cbnz	r0, .L160
 2404              	.LVL205:
 2405              	.L163:
 735:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2406              		.loc 1 735 3 is_stmt 1 view .LVU801
 735:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2407              		.loc 1 735 35 is_stmt 0 view .LVU802
 2408 0052 2A4B     		ldr	r3, .L169
 2409 0054 1B68     		ldr	r3, [r3]
 735:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2410              		.loc 1 735 6 view .LVU803
 2411 0056 042B     		cmp	r3, #4
 2412 0058 26D1     		bne	.L168
 762:HW/SDCard/stm32_eval_sdio_sd.c **** }
 2413              		.loc 1 762 9 view .LVU804
 2414 005a 0024     		movs	r4, #0
 2415              	.L160:
 763:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2416              		.loc 1 763 1 view .LVU805
 2417 005c 2046     		mov	r0, r4
 2418 005e 03B0     		add	sp, sp, #12
 2419              	.LCFI35:
 2420              		.cfi_remember_state
 2421              		.cfi_def_cfa_offset 12
 2422              		@ sp needed
 2423 0060 30BD     		pop	{r4, r5, pc}
 2424              	.LVL206:
 2425              	.L167:
 2426              	.LCFI36:
 2427              		.cfi_restore_state
 695:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_ALL_SEND_CID;
 2428              		.loc 1 695 5 is_stmt 1 view .LVU806
 695:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_ALL_SEND_CID;
 2429              		.loc 1 695 41 is_stmt 0 view .LVU807
 2430 0062 2748     		ldr	r0, .L169+4
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 100


 2431 0064 0023     		movs	r3, #0
 2432 0066 0360     		str	r3, [r0]
 696:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Long;
 2433              		.loc 1 696 5 is_stmt 1 view .LVU808
 696:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Long;
 2434              		.loc 1 696 41 is_stmt 0 view .LVU809
 2435 0068 0222     		movs	r2, #2
 2436 006a 4260     		str	r2, [r0, #4]
 697:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2437              		.loc 1 697 5 is_stmt 1 view .LVU810
 697:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2438              		.loc 1 697 41 is_stmt 0 view .LVU811
 2439 006c C022     		movs	r2, #192
 2440 006e 8260     		str	r2, [r0, #8]
 698:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2441              		.loc 1 698 5 is_stmt 1 view .LVU812
 698:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2442              		.loc 1 698 37 is_stmt 0 view .LVU813
 2443 0070 C360     		str	r3, [r0, #12]
 699:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 2444              		.loc 1 699 5 is_stmt 1 view .LVU814
 699:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 2445              		.loc 1 699 37 is_stmt 0 view .LVU815
 2446 0072 4FF48063 		mov	r3, #1024
 2447 0076 0361     		str	r3, [r0, #16]
 700:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2448              		.loc 1 700 5 is_stmt 1 view .LVU816
 2449 0078 FFF7FEFF 		bl	SDIO_SendCommand
 2450              	.LVL207:
 702:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2451              		.loc 1 702 5 view .LVU817
 702:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2452              		.loc 1 702 19 is_stmt 0 view .LVU818
 2453 007c FFF7FEFF 		bl	CmdResp2Error
 2454              	.LVL208:
 704:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 2455              		.loc 1 704 5 is_stmt 1 view .LVU819
 704:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 2456              		.loc 1 704 8 is_stmt 0 view .LVU820
 2457 0080 0446     		mov	r4, r0
 2458 0082 0028     		cmp	r0, #0
 2459 0084 EAD1     		bne	.L160
 709:HW/SDCard/stm32_eval_sdio_sd.c ****     CID_Tab[1] = SDIO_GetResponse(SDIO_RESP2);
 2460              		.loc 1 709 5 is_stmt 1 view .LVU821
 709:HW/SDCard/stm32_eval_sdio_sd.c ****     CID_Tab[1] = SDIO_GetResponse(SDIO_RESP2);
 2461              		.loc 1 709 18 is_stmt 0 view .LVU822
 2462 0086 FFF7FEFF 		bl	SDIO_GetResponse
 2463              	.LVL209:
 709:HW/SDCard/stm32_eval_sdio_sd.c ****     CID_Tab[1] = SDIO_GetResponse(SDIO_RESP2);
 2464              		.loc 1 709 16 view .LVU823
 2465 008a 1E4C     		ldr	r4, .L169+8
 2466 008c 2060     		str	r0, [r4]
 710:HW/SDCard/stm32_eval_sdio_sd.c ****     CID_Tab[2] = SDIO_GetResponse(SDIO_RESP3);
 2467              		.loc 1 710 5 is_stmt 1 view .LVU824
 710:HW/SDCard/stm32_eval_sdio_sd.c ****     CID_Tab[2] = SDIO_GetResponse(SDIO_RESP3);
 2468              		.loc 1 710 18 is_stmt 0 view .LVU825
 2469 008e 0420     		movs	r0, #4
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 101


 2470 0090 FFF7FEFF 		bl	SDIO_GetResponse
 2471              	.LVL210:
 710:HW/SDCard/stm32_eval_sdio_sd.c ****     CID_Tab[2] = SDIO_GetResponse(SDIO_RESP3);
 2472              		.loc 1 710 16 view .LVU826
 2473 0094 6060     		str	r0, [r4, #4]
 711:HW/SDCard/stm32_eval_sdio_sd.c ****     CID_Tab[3] = SDIO_GetResponse(SDIO_RESP4);
 2474              		.loc 1 711 5 is_stmt 1 view .LVU827
 711:HW/SDCard/stm32_eval_sdio_sd.c ****     CID_Tab[3] = SDIO_GetResponse(SDIO_RESP4);
 2475              		.loc 1 711 18 is_stmt 0 view .LVU828
 2476 0096 0820     		movs	r0, #8
 2477 0098 FFF7FEFF 		bl	SDIO_GetResponse
 2478              	.LVL211:
 711:HW/SDCard/stm32_eval_sdio_sd.c ****     CID_Tab[3] = SDIO_GetResponse(SDIO_RESP4);
 2479              		.loc 1 711 16 view .LVU829
 2480 009c A060     		str	r0, [r4, #8]
 712:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 2481              		.loc 1 712 5 is_stmt 1 view .LVU830
 712:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 2482              		.loc 1 712 18 is_stmt 0 view .LVU831
 2483 009e 0C20     		movs	r0, #12
 2484 00a0 FFF7FEFF 		bl	SDIO_GetResponse
 2485              	.LVL212:
 712:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 2486              		.loc 1 712 16 view .LVU832
 2487 00a4 E060     		str	r0, [r4, #12]
 2488 00a6 B8E7     		b	.L161
 2489              	.LVL213:
 2490              	.L168:
 737:HW/SDCard/stm32_eval_sdio_sd.c ****     /* ËØªÂèñSDÂç°ÁöÑCSDÂØÑÂ≠òÂô®ÔºàCSD‰∏≠‰øùÂ≠òÁùÄSDÂç°ÁöÑÁ°¨‰ª∂‰ø°ÊÅØÔºâ */
 2491              		.loc 1 737 5 is_stmt 1 view .LVU833
 737:HW/SDCard/stm32_eval_sdio_sd.c ****     /* ËØªÂèñSDÂç°ÁöÑCSDÂØÑÂ≠òÂô®ÔºàCSD‰∏≠‰øùÂ≠òÁùÄSDÂç°ÁöÑÁ°¨‰ª∂‰ø°ÊÅØÔºâ */
 2492              		.loc 1 737 9 is_stmt 0 view .LVU834
 2493 00a8 BDF80630 		ldrh	r3, [sp, #6]
 2494 00ac 164A     		ldr	r2, .L169+12
 2495 00ae 1360     		str	r3, [r2]
 740:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SEND_CSD;
 2496              		.loc 1 740 5 is_stmt 1 view .LVU835
 740:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SEND_CSD;
 2497              		.loc 1 740 43 is_stmt 0 view .LVU836
 2498 00b0 1B04     		lsls	r3, r3, #16
 740:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SEND_CSD;
 2499              		.loc 1 740 41 view .LVU837
 2500 00b2 1348     		ldr	r0, .L169+4
 2501 00b4 0360     		str	r3, [r0]
 741:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Long;
 2502              		.loc 1 741 5 is_stmt 1 view .LVU838
 741:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Long;
 2503              		.loc 1 741 41 is_stmt 0 view .LVU839
 2504 00b6 0923     		movs	r3, #9
 2505 00b8 4360     		str	r3, [r0, #4]
 742:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2506              		.loc 1 742 5 is_stmt 1 view .LVU840
 742:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 2507              		.loc 1 742 41 is_stmt 0 view .LVU841
 2508 00ba C023     		movs	r3, #192
 2509 00bc 8360     		str	r3, [r0, #8]
 743:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 102


 2510              		.loc 1 743 5 is_stmt 1 view .LVU842
 743:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 2511              		.loc 1 743 37 is_stmt 0 view .LVU843
 2512 00be 0023     		movs	r3, #0
 2513 00c0 C360     		str	r3, [r0, #12]
 744:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 2514              		.loc 1 744 5 is_stmt 1 view .LVU844
 744:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 2515              		.loc 1 744 37 is_stmt 0 view .LVU845
 2516 00c2 4FF48063 		mov	r3, #1024
 2517 00c6 0361     		str	r3, [r0, #16]
 745:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2518              		.loc 1 745 5 is_stmt 1 view .LVU846
 2519 00c8 FFF7FEFF 		bl	SDIO_SendCommand
 2520              	.LVL214:
 747:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2521              		.loc 1 747 5 view .LVU847
 747:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2522              		.loc 1 747 19 is_stmt 0 view .LVU848
 2523 00cc FFF7FEFF 		bl	CmdResp2Error
 2524              	.LVL215:
 749:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 2525              		.loc 1 749 5 is_stmt 1 view .LVU849
 749:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 2526              		.loc 1 749 8 is_stmt 0 view .LVU850
 2527 00d0 0446     		mov	r4, r0
 2528 00d2 0028     		cmp	r0, #0
 2529 00d4 C2D1     		bne	.L160
 754:HW/SDCard/stm32_eval_sdio_sd.c ****     CSD_Tab[1] = SDIO_GetResponse(SDIO_RESP2);
 2530              		.loc 1 754 5 is_stmt 1 view .LVU851
 754:HW/SDCard/stm32_eval_sdio_sd.c ****     CSD_Tab[1] = SDIO_GetResponse(SDIO_RESP2);
 2531              		.loc 1 754 18 is_stmt 0 view .LVU852
 2532 00d6 FFF7FEFF 		bl	SDIO_GetResponse
 2533              	.LVL216:
 754:HW/SDCard/stm32_eval_sdio_sd.c ****     CSD_Tab[1] = SDIO_GetResponse(SDIO_RESP2);
 2534              		.loc 1 754 16 view .LVU853
 2535 00da 0C4D     		ldr	r5, .L169+16
 2536 00dc 2860     		str	r0, [r5]
 755:HW/SDCard/stm32_eval_sdio_sd.c ****     CSD_Tab[2] = SDIO_GetResponse(SDIO_RESP3);
 2537              		.loc 1 755 5 is_stmt 1 view .LVU854
 755:HW/SDCard/stm32_eval_sdio_sd.c ****     CSD_Tab[2] = SDIO_GetResponse(SDIO_RESP3);
 2538              		.loc 1 755 18 is_stmt 0 view .LVU855
 2539 00de 0420     		movs	r0, #4
 2540 00e0 FFF7FEFF 		bl	SDIO_GetResponse
 2541              	.LVL217:
 755:HW/SDCard/stm32_eval_sdio_sd.c ****     CSD_Tab[2] = SDIO_GetResponse(SDIO_RESP3);
 2542              		.loc 1 755 16 view .LVU856
 2543 00e4 6860     		str	r0, [r5, #4]
 756:HW/SDCard/stm32_eval_sdio_sd.c ****     CSD_Tab[3] = SDIO_GetResponse(SDIO_RESP4);
 2544              		.loc 1 756 5 is_stmt 1 view .LVU857
 756:HW/SDCard/stm32_eval_sdio_sd.c ****     CSD_Tab[3] = SDIO_GetResponse(SDIO_RESP4);
 2545              		.loc 1 756 18 is_stmt 0 view .LVU858
 2546 00e6 0820     		movs	r0, #8
 2547 00e8 FFF7FEFF 		bl	SDIO_GetResponse
 2548              	.LVL218:
 756:HW/SDCard/stm32_eval_sdio_sd.c ****     CSD_Tab[3] = SDIO_GetResponse(SDIO_RESP4);
 2549              		.loc 1 756 16 view .LVU859
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 103


 2550 00ec A860     		str	r0, [r5, #8]
 757:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 2551              		.loc 1 757 5 is_stmt 1 view .LVU860
 757:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 2552              		.loc 1 757 18 is_stmt 0 view .LVU861
 2553 00ee 0C20     		movs	r0, #12
 2554 00f0 FFF7FEFF 		bl	SDIO_GetResponse
 2555              	.LVL219:
 757:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 2556              		.loc 1 757 16 view .LVU862
 2557 00f4 E860     		str	r0, [r5, #12]
 2558 00f6 B1E7     		b	.L160
 2559              	.LVL220:
 2560              	.L164:
 688:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 2561              		.loc 1 688 11 view .LVU863
 2562 00f8 2524     		movs	r4, #37
 2563 00fa AFE7     		b	.L160
 2564              	.L170:
 2565              		.align	2
 2566              	.L169:
 2567 00fc 00000000 		.word	CardType
 2568 0100 00000000 		.word	SDIO_CmdInitStructure
 2569 0104 00000000 		.word	CID_Tab
 2570 0108 00000000 		.word	RCA
 2571 010c 00000000 		.word	CSD_Tab
 2572              		.cfi_endproc
 2573              	.LFE43:
 2575              		.section	.text.SD_GetCardInfo,"ax",%progbits
 2576              		.align	1
 2577              		.global	SD_GetCardInfo
 2578              		.syntax unified
 2579              		.thumb
 2580              		.thumb_func
 2582              	SD_GetCardInfo:
 2583              	.LVL221:
 2584              	.LFB44:
 772:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 2585              		.loc 1 772 1 is_stmt 1 view -0
 2586              		.cfi_startproc
 2587              		@ args = 0, pretend = 0, frame = 0
 2588              		@ frame_needed = 0, uses_anonymous_args = 0
 772:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 2589              		.loc 1 772 1 is_stmt 0 view .LVU865
 2590 0000 30B5     		push	{r4, r5, lr}
 2591              	.LCFI37:
 2592              		.cfi_def_cfa_offset 12
 2593              		.cfi_offset 4, -12
 2594              		.cfi_offset 5, -8
 2595              		.cfi_offset 14, -4
 2596 0002 0346     		mov	r3, r0
 773:HW/SDCard/stm32_eval_sdio_sd.c ****   uint8_t tmp = 0;
 2597              		.loc 1 773 3 is_stmt 1 view .LVU866
 2598              	.LVL222:
 774:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2599              		.loc 1 774 3 view .LVU867
 776:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->RCA = (uint16_t)RCA;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 104


 2600              		.loc 1 776 3 view .LVU868
 776:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->RCA = (uint16_t)RCA;
 2601              		.loc 1 776 24 is_stmt 0 view .LVU869
 2602 0004 A44A     		ldr	r2, .L176
 2603 0006 1068     		ldr	r0, [r2]
 2604              	.LVL223:
 776:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->RCA = (uint16_t)RCA;
 2605              		.loc 1 776 22 view .LVU870
 2606 0008 83F85600 		strb	r0, [r3, #86]
 777:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2607              		.loc 1 777 3 is_stmt 1 view .LVU871
 777:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2608              		.loc 1 777 19 is_stmt 0 view .LVU872
 2609 000c A34A     		ldr	r2, .L176+4
 2610 000e 1288     		ldrh	r2, [r2]
 777:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2611              		.loc 1 777 17 view .LVU873
 2612 0010 A3F85420 		strh	r2, [r3, #84]	@ movhi
 780:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.CSDStruct = (tmp & 0xC0) >> 6;
 2613              		.loc 1 780 3 is_stmt 1 view .LVU874
 780:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.CSDStruct = (tmp & 0xC0) >> 6;
 2614              		.loc 1 780 27 is_stmt 0 view .LVU875
 2615 0014 A249     		ldr	r1, .L176+8
 2616 0016 0A68     		ldr	r2, [r1]
 2617              	.LVL224:
 781:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.SysSpecVersion = (tmp & 0x3C) >> 2;
 2618              		.loc 1 781 3 is_stmt 1 view .LVU876
 781:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.SysSpecVersion = (tmp & 0x3C) >> 2;
 2619              		.loc 1 781 45 is_stmt 0 view .LVU877
 2620 0018 940F     		lsrs	r4, r2, #30
 781:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.SysSpecVersion = (tmp & 0x3C) >> 2;
 2621              		.loc 1 781 30 view .LVU878
 2622 001a 1C70     		strb	r4, [r3]
 782:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.Reserved1 = tmp & 0x03;
 2623              		.loc 1 782 3 is_stmt 1 view .LVU879
 782:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.Reserved1 = tmp & 0x03;
 2624              		.loc 1 782 50 is_stmt 0 view .LVU880
 2625 001c C2F38364 		ubfx	r4, r2, #26, #4
 782:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.Reserved1 = tmp & 0x03;
 2626              		.loc 1 782 35 view .LVU881
 2627 0020 5C70     		strb	r4, [r3, #1]
 783:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2628              		.loc 1 783 3 is_stmt 1 view .LVU882
 783:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2629              		.loc 1 783 36 is_stmt 0 view .LVU883
 2630 0022 C2F30164 		ubfx	r4, r2, #24, #2
 783:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2631              		.loc 1 783 30 view .LVU884
 2632 0026 9C70     		strb	r4, [r3, #2]
 786:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.TAAC = tmp;
 2633              		.loc 1 786 3 is_stmt 1 view .LVU885
 786:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.TAAC = tmp;
 2634              		.loc 1 786 7 is_stmt 0 view .LVU886
 2635 0028 C2F30744 		ubfx	r4, r2, #16, #8
 2636              	.LVL225:
 787:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2637              		.loc 1 787 3 is_stmt 1 view .LVU887
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 105


 787:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2638              		.loc 1 787 25 is_stmt 0 view .LVU888
 2639 002c DC70     		strb	r4, [r3, #3]
 790:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.NSAC = tmp;
 2640              		.loc 1 790 3 is_stmt 1 view .LVU889
 790:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.NSAC = tmp;
 2641              		.loc 1 790 7 is_stmt 0 view .LVU890
 2642 002e C2F30724 		ubfx	r4, r2, #8, #8
 2643              	.LVL226:
 791:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2644              		.loc 1 791 3 is_stmt 1 view .LVU891
 791:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2645              		.loc 1 791 25 is_stmt 0 view .LVU892
 2646 0032 1C71     		strb	r4, [r3, #4]
 794:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.MaxBusClkFrec = tmp;
 2647              		.loc 1 794 3 is_stmt 1 view .LVU893
 794:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.MaxBusClkFrec = tmp;
 2648              		.loc 1 794 7 is_stmt 0 view .LVU894
 2649 0034 D2B2     		uxtb	r2, r2
 2650              	.LVL227:
 795:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2651              		.loc 1 795 3 is_stmt 1 view .LVU895
 795:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2652              		.loc 1 795 34 is_stmt 0 view .LVU896
 2653 0036 5A71     		strb	r2, [r3, #5]
 798:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.CardComdClasses = tmp << 4;
 2654              		.loc 1 798 3 is_stmt 1 view .LVU897
 798:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.CardComdClasses = tmp << 4;
 2655              		.loc 1 798 27 is_stmt 0 view .LVU898
 2656 0038 4A68     		ldr	r2, [r1, #4]
 2657              	.LVL228:
 798:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.CardComdClasses = tmp << 4;
 2658              		.loc 1 798 7 view .LVU899
 2659 003a 110E     		lsrs	r1, r2, #24
 2660              	.LVL229:
 799:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2661              		.loc 1 799 3 is_stmt 1 view .LVU900
 799:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2662              		.loc 1 799 42 is_stmt 0 view .LVU901
 2663 003c 0901     		lsls	r1, r1, #4
 2664              	.LVL230:
 799:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2665              		.loc 1 799 36 view .LVU902
 2666 003e D980     		strh	r1, [r3, #6]	@ movhi
 802:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.CardComdClasses |= (tmp & 0xF0) >> 4;
 2667              		.loc 1 802 3 is_stmt 1 view .LVU903
 2668              	.LVL231:
 803:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.RdBlockLen = tmp & 0x0F;
 2669              		.loc 1 803 3 view .LVU904
 803:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.RdBlockLen = tmp & 0x0F;
 2670              		.loc 1 803 19 is_stmt 0 view .LVU905
 2671 0040 D988     		ldrh	r1, [r3, #6]
 2672 0042 89B2     		uxth	r1, r1
 803:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.RdBlockLen = tmp & 0x0F;
 2673              		.loc 1 803 52 view .LVU906
 2674 0044 C2F30354 		ubfx	r4, r2, #20, #4
 803:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.RdBlockLen = tmp & 0x0F;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 106


 2675              		.loc 1 803 36 view .LVU907
 2676 0048 2143     		orrs	r1, r1, r4
 2677 004a D980     		strh	r1, [r3, #6]	@ movhi
 804:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2678              		.loc 1 804 3 is_stmt 1 view .LVU908
 804:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2679              		.loc 1 804 37 is_stmt 0 view .LVU909
 2680 004c C2F30341 		ubfx	r1, r2, #16, #4
 804:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2681              		.loc 1 804 31 view .LVU910
 2682 0050 1972     		strb	r1, [r3, #8]
 807:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.PartBlockRead = (tmp & 0x80) >> 7;
 2683              		.loc 1 807 3 is_stmt 1 view .LVU911
 807:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.PartBlockRead = (tmp & 0x80) >> 7;
 2684              		.loc 1 807 7 is_stmt 0 view .LVU912
 2685 0052 C2F30721 		ubfx	r1, r2, #8, #8
 2686              	.LVL232:
 808:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WrBlockMisalign = (tmp & 0x40) >> 6;
 2687              		.loc 1 808 3 is_stmt 1 view .LVU913
 808:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WrBlockMisalign = (tmp & 0x40) >> 6;
 2688              		.loc 1 808 49 is_stmt 0 view .LVU914
 2689 0056 C2F3C034 		ubfx	r4, r2, #15, #1
 808:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WrBlockMisalign = (tmp & 0x40) >> 6;
 2690              		.loc 1 808 34 view .LVU915
 2691 005a 5C72     		strb	r4, [r3, #9]
 809:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.RdBlockMisalign = (tmp & 0x20) >> 5;
 2692              		.loc 1 809 3 is_stmt 1 view .LVU916
 809:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.RdBlockMisalign = (tmp & 0x20) >> 5;
 2693              		.loc 1 809 51 is_stmt 0 view .LVU917
 2694 005c C2F38034 		ubfx	r4, r2, #14, #1
 809:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.RdBlockMisalign = (tmp & 0x20) >> 5;
 2695              		.loc 1 809 36 view .LVU918
 2696 0060 9C72     		strb	r4, [r3, #10]
 810:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.DSRImpl = (tmp & 0x10) >> 4;
 2697              		.loc 1 810 3 is_stmt 1 view .LVU919
 810:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.DSRImpl = (tmp & 0x10) >> 4;
 2698              		.loc 1 810 51 is_stmt 0 view .LVU920
 2699 0062 C2F34034 		ubfx	r4, r2, #13, #1
 810:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.DSRImpl = (tmp & 0x10) >> 4;
 2700              		.loc 1 810 36 view .LVU921
 2701 0066 DC72     		strb	r4, [r3, #11]
 811:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.Reserved2 = 0; /*!< Reserved */
 2702              		.loc 1 811 3 is_stmt 1 view .LVU922
 811:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.Reserved2 = 0; /*!< Reserved */
 2703              		.loc 1 811 43 is_stmt 0 view .LVU923
 2704 0068 C2F30034 		ubfx	r4, r2, #12, #1
 811:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.Reserved2 = 0; /*!< Reserved */
 2705              		.loc 1 811 28 view .LVU924
 2706 006c 1C73     		strb	r4, [r3, #12]
 812:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2707              		.loc 1 812 3 is_stmt 1 view .LVU925
 812:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2708              		.loc 1 812 30 is_stmt 0 view .LVU926
 2709 006e 0024     		movs	r4, #0
 2710 0070 5C73     		strb	r4, [r3, #13]
 814:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2711              		.loc 1 814 3 is_stmt 1 view .LVU927
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 107


 814:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2712              		.loc 1 814 6 is_stmt 0 view .LVU928
 2713 0072 0128     		cmp	r0, #1
 2714 0074 23D9     		bls	.L175
 843:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2715              		.loc 1 843 8 is_stmt 1 view .LVU929
 843:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 2716              		.loc 1 843 11 is_stmt 0 view .LVU930
 2717 0076 0228     		cmp	r0, #2
 2718 0078 63D1     		bne	.L173
 846:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.DeviceSize = (tmp & 0x3F) << 16;
 2719              		.loc 1 846 5 is_stmt 1 view .LVU931
 2720              	.LVL233:
 847:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2721              		.loc 1 847 5 view .LVU932
 847:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2722              		.loc 1 847 48 is_stmt 0 view .LVU933
 2723 007a D2B2     		uxtb	r2, r2
 847:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2724              		.loc 1 847 48 view .LVU934
 2725 007c 1204     		lsls	r2, r2, #16
 2726              	.LVL234:
 847:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2727              		.loc 1 847 48 view .LVU935
 2728 007e 02F47C12 		and	r2, r2, #4128768
 847:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2729              		.loc 1 847 33 view .LVU936
 2730 0082 1A61     		str	r2, [r3, #16]
 850:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2731              		.loc 1 850 5 is_stmt 1 view .LVU937
 850:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2732              		.loc 1 850 29 is_stmt 0 view .LVU938
 2733 0084 864A     		ldr	r2, .L176+8
 2734 0086 9168     		ldr	r1, [r2, #8]
 850:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2735              		.loc 1 850 47 view .LVU939
 2736 0088 080E     		lsrs	r0, r1, #24
 2737              	.LVL235:
 852:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2738              		.loc 1 852 5 is_stmt 1 view .LVU940
 852:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2739              		.loc 1 852 21 is_stmt 0 view .LVU941
 2740 008a 1A69     		ldr	r2, [r3, #16]
 852:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2741              		.loc 1 852 33 view .LVU942
 2742 008c 42EA0022 		orr	r2, r2, r0, lsl #8
 2743 0090 1A61     		str	r2, [r3, #16]
 855:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2744              		.loc 1 855 5 is_stmt 1 view .LVU943
 2745              	.LVL236:
 857:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2746              		.loc 1 857 5 view .LVU944
 857:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2747              		.loc 1 857 21 is_stmt 0 view .LVU945
 2748 0092 1869     		ldr	r0, [r3, #16]
 857:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2749              		.loc 1 857 33 view .LVU946
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 108


 2750 0094 C1F30742 		ubfx	r2, r1, #16, #8
 2751 0098 0243     		orrs	r2, r2, r0
 2752 009a 1A61     		str	r2, [r3, #16]
 860:HW/SDCard/stm32_eval_sdio_sd.c ****     
 2753              		.loc 1 860 5 is_stmt 1 view .LVU947
 860:HW/SDCard/stm32_eval_sdio_sd.c ****     
 2754              		.loc 1 860 9 is_stmt 0 view .LVU948
 2755 009c C1F30721 		ubfx	r1, r1, #8, #8
 2756              	.LVL237:
 863:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardBlockSize = 512;
 2757              		.loc 1 863 5 is_stmt 1 view .LVU949
 863:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardBlockSize = 512;
 2758              		.loc 1 863 57 is_stmt 0 view .LVU950
 2759 00a0 1A69     		ldr	r2, [r3, #16]
 863:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardBlockSize = 512;
 2760              		.loc 1 863 69 view .LVU951
 2761 00a2 0132     		adds	r2, r2, #1
 2762 00a4 2CBF     		ite	cs
 2763 00a6 0120     		movcs	r0, #1
 2764 00a8 0020     		movcc	r0, #0
 863:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardBlockSize = 512;
 2765              		.loc 1 863 80 view .LVU952
 2766 00aa C004     		lsls	r0, r0, #19
 2767 00ac 40EA5230 		orr	r0, r0, r2, lsr #13
 2768 00b0 D204     		lsls	r2, r2, #19
 863:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardBlockSize = 512;
 2769              		.loc 1 863 28 view .LVU953
 2770 00b2 9A64     		str	r2, [r3, #72]
 2771 00b4 D864     		str	r0, [r3, #76]
 864:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 2772              		.loc 1 864 5 is_stmt 1 view .LVU954
 864:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 2773              		.loc 1 864 29 is_stmt 0 view .LVU955
 2774 00b6 4FF40072 		mov	r2, #512
 2775 00ba 1A65     		str	r2, [r3, #80]
 2776 00bc 41E0     		b	.L173
 2777              	.L175:
 816:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2778              		.loc 1 816 5 is_stmt 1 view .LVU956
 816:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2779              		.loc 1 816 48 is_stmt 0 view .LVU957
 2780 00be 8902     		lsls	r1, r1, #10
 2781              	.LVL238:
 816:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2782              		.loc 1 816 48 view .LVU958
 2783 00c0 01F44061 		and	r1, r1, #3072
 816:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2784              		.loc 1 816 33 view .LVU959
 2785 00c4 1961     		str	r1, [r3, #16]
 819:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.DeviceSize |= (tmp) << 2;
 2786              		.loc 1 819 5 is_stmt 1 view .LVU960
 2787              	.LVL239:
 820:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2788              		.loc 1 820 5 view .LVU961
 820:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2789              		.loc 1 820 21 is_stmt 0 view .LVU962
 2790 00c6 1969     		ldr	r1, [r3, #16]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 109


 820:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2791              		.loc 1 820 42 view .LVU963
 2792 00c8 D2B2     		uxtb	r2, r2
 820:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2793              		.loc 1 820 33 view .LVU964
 2794 00ca 41EA8202 		orr	r2, r1, r2, lsl #2
 2795              	.LVL240:
 820:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2796              		.loc 1 820 33 view .LVU965
 2797 00ce 1A61     		str	r2, [r3, #16]
 823:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.DeviceSize |= (tmp & 0xC0) >> 6;
 2798              		.loc 1 823 5 is_stmt 1 view .LVU966
 823:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.DeviceSize |= (tmp & 0xC0) >> 6;
 2799              		.loc 1 823 29 is_stmt 0 view .LVU967
 2800 00d0 734A     		ldr	r2, .L176+8
 2801 00d2 9268     		ldr	r2, [r2, #8]
 2802              	.LVL241:
 824:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2803              		.loc 1 824 5 is_stmt 1 view .LVU968
 824:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2804              		.loc 1 824 21 is_stmt 0 view .LVU969
 2805 00d4 1969     		ldr	r1, [r3, #16]
 824:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2806              		.loc 1 824 33 view .LVU970
 2807 00d6 41EA9271 		orr	r1, r1, r2, lsr #30
 2808 00da 1961     		str	r1, [r3, #16]
 826:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.MaxRdCurrentVDDMax = (tmp & 0x07);
 2809              		.loc 1 826 5 is_stmt 1 view .LVU971
 826:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.MaxRdCurrentVDDMax = (tmp & 0x07);
 2810              		.loc 1 826 56 is_stmt 0 view .LVU972
 2811 00dc C2F3C261 		ubfx	r1, r2, #27, #3
 826:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.MaxRdCurrentVDDMax = (tmp & 0x07);
 2812              		.loc 1 826 41 view .LVU973
 2813 00e0 1975     		strb	r1, [r3, #20]
 827:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2814              		.loc 1 827 5 is_stmt 1 view .LVU974
 827:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2815              		.loc 1 827 48 is_stmt 0 view .LVU975
 2816 00e2 C2F30261 		ubfx	r1, r2, #24, #3
 827:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2817              		.loc 1 827 41 view .LVU976
 2818 00e6 5975     		strb	r1, [r3, #21]
 830:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.MaxWrCurrentVDDMin = (tmp & 0xE0) >> 5;
 2819              		.loc 1 830 5 is_stmt 1 view .LVU977
 830:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.MaxWrCurrentVDDMin = (tmp & 0xE0) >> 5;
 2820              		.loc 1 830 47 is_stmt 0 view .LVU978
 2821 00e8 110C     		lsrs	r1, r2, #16
 2822              	.LVL242:
 831:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.MaxWrCurrentVDDMax = (tmp & 0x1C) >> 2;
 2823              		.loc 1 831 5 is_stmt 1 view .LVU979
 831:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.MaxWrCurrentVDDMax = (tmp & 0x1C) >> 2;
 2824              		.loc 1 831 56 is_stmt 0 view .LVU980
 2825 00ea C2F34250 		ubfx	r0, r2, #21, #3
 831:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.MaxWrCurrentVDDMax = (tmp & 0x1C) >> 2;
 2826              		.loc 1 831 41 view .LVU981
 2827 00ee 9875     		strb	r0, [r3, #22]
 832:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.DeviceSizeMul = (tmp & 0x03) << 1;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 110


 2828              		.loc 1 832 5 is_stmt 1 view .LVU982
 832:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.DeviceSizeMul = (tmp & 0x03) << 1;
 2829              		.loc 1 832 56 is_stmt 0 view .LVU983
 2830 00f0 C2F38240 		ubfx	r0, r2, #18, #3
 832:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.DeviceSizeMul = (tmp & 0x03) << 1;
 2831              		.loc 1 832 41 view .LVU984
 2832 00f4 D875     		strb	r0, [r3, #23]
 833:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Byte 10 */
 2833              		.loc 1 833 5 is_stmt 1 view .LVU985
 833:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Byte 10 */
 2834              		.loc 1 833 51 is_stmt 0 view .LVU986
 2835 00f6 4900     		lsls	r1, r1, #1
 2836 00f8 01F00601 		and	r1, r1, #6
 833:HW/SDCard/stm32_eval_sdio_sd.c ****     /*!< Byte 10 */
 2837              		.loc 1 833 36 view .LVU987
 2838 00fc 1976     		strb	r1, [r3, #24]
 835:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.DeviceSizeMul |= (tmp & 0x80) >> 7;
 2839              		.loc 1 835 5 is_stmt 1 view .LVU988
 835:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->SD_csd.DeviceSizeMul |= (tmp & 0x80) >> 7;
 2840              		.loc 1 835 9 is_stmt 0 view .LVU989
 2841 00fe C2F30721 		ubfx	r1, r2, #8, #8
 2842              	.LVL243:
 836:HW/SDCard/stm32_eval_sdio_sd.c ****     
 2843              		.loc 1 836 5 is_stmt 1 view .LVU990
 836:HW/SDCard/stm32_eval_sdio_sd.c ****     
 2844              		.loc 1 836 21 is_stmt 0 view .LVU991
 2845 0102 187E     		ldrb	r0, [r3, #24]	@ zero_extendqisi2
 836:HW/SDCard/stm32_eval_sdio_sd.c ****     
 2846              		.loc 1 836 52 view .LVU992
 2847 0104 C2F3C032 		ubfx	r2, r2, #15, #1
 836:HW/SDCard/stm32_eval_sdio_sd.c ****     
 2848              		.loc 1 836 36 view .LVU993
 2849 0108 0243     		orrs	r2, r2, r0
 2850 010a 1A76     		strb	r2, [r3, #24]
 838:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardCapacity *= (1 << (cardinfo->SD_csd.DeviceSizeMul + 2));
 2851              		.loc 1 838 5 is_stmt 1 view .LVU994
 838:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardCapacity *= (1 << (cardinfo->SD_csd.DeviceSizeMul + 2));
 2852              		.loc 1 838 47 is_stmt 0 view .LVU995
 2853 010c 1C69     		ldr	r4, [r3, #16]
 838:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardCapacity *= (1 << (cardinfo->SD_csd.DeviceSizeMul + 2));
 2854              		.loc 1 838 59 view .LVU996
 2855 010e 0134     		adds	r4, r4, #1
 838:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardCapacity *= (1 << (cardinfo->SD_csd.DeviceSizeMul + 2));
 2856              		.loc 1 838 28 view .LVU997
 2857 0110 9C64     		str	r4, [r3, #72]
 2858 0112 0022     		movs	r2, #0
 2859 0114 DA64     		str	r2, [r3, #76]
 839:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardBlockSize = 1 << (cardinfo->SD_csd.RdBlockLen);
 2860              		.loc 1 839 5 is_stmt 1 view .LVU998
 839:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardBlockSize = 1 << (cardinfo->SD_csd.RdBlockLen);
 2861              		.loc 1 839 54 is_stmt 0 view .LVU999
 2862 0116 1A7E     		ldrb	r2, [r3, #24]	@ zero_extendqisi2
 839:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardBlockSize = 1 << (cardinfo->SD_csd.RdBlockLen);
 2863              		.loc 1 839 69 view .LVU1000
 2864 0118 0232     		adds	r2, r2, #2
 839:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardBlockSize = 1 << (cardinfo->SD_csd.RdBlockLen);
 2865              		.loc 1 839 34 view .LVU1001
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 111


 2866 011a 0120     		movs	r0, #1
 2867 011c 00FA02F2 		lsl	r2, r0, r2
 2868 0120 D517     		asrs	r5, r2, #31
 839:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardBlockSize = 1 << (cardinfo->SD_csd.RdBlockLen);
 2869              		.loc 1 839 28 view .LVU1002
 2870 0122 A4FB022C 		umull	r2, ip, r4, r2
 2871 0126 04FB05C4 		mla	r4, r4, r5, ip
 2872 012a 9A64     		str	r2, [r3, #72]
 2873 012c DC64     		str	r4, [r3, #76]
 840:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardCapacity *= cardinfo->CardBlockSize;
 2874              		.loc 1 840 5 is_stmt 1 view .LVU1003
 840:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardCapacity *= cardinfo->CardBlockSize;
 2875              		.loc 1 840 53 is_stmt 0 view .LVU1004
 2876 012e 1D7A     		ldrb	r5, [r3, #8]	@ zero_extendqisi2
 2877 0130 EDB2     		uxtb	r5, r5
 840:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardCapacity *= cardinfo->CardBlockSize;
 2878              		.loc 1 840 33 view .LVU1005
 2879 0132 A840     		lsls	r0, r0, r5
 840:HW/SDCard/stm32_eval_sdio_sd.c ****     cardinfo->CardCapacity *= cardinfo->CardBlockSize;
 2880              		.loc 1 840 29 view .LVU1006
 2881 0134 1865     		str	r0, [r3, #80]
 841:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 2882              		.loc 1 841 5 is_stmt 1 view .LVU1007
 841:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 2883              		.loc 1 841 28 is_stmt 0 view .LVU1008
 2884 0136 A2FB0025 		umull	r2, r5, r2, r0
 2885 013a 00FB0450 		mla	r0, r0, r4, r5
 2886 013e 9A64     		str	r2, [r3, #72]
 2887 0140 D864     		str	r0, [r3, #76]
 2888              	.L173:
 868:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.EraseGrMul = (tmp & 0x3F) << 1;
 2889              		.loc 1 868 3 is_stmt 1 view .LVU1009
 868:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.EraseGrMul = (tmp & 0x3F) << 1;
 2890              		.loc 1 868 47 is_stmt 0 view .LVU1010
 2891 0142 C1F38012 		ubfx	r2, r1, #6, #1
 868:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.EraseGrMul = (tmp & 0x3F) << 1;
 2892              		.loc 1 868 32 view .LVU1011
 2893 0146 5A76     		strb	r2, [r3, #25]
 869:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2894              		.loc 1 869 3 is_stmt 1 view .LVU1012
 869:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2895              		.loc 1 869 46 is_stmt 0 view .LVU1013
 2896 0148 4900     		lsls	r1, r1, #1
 2897              	.LVL244:
 869:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2898              		.loc 1 869 46 view .LVU1014
 2899 014a 01F07E01 		and	r1, r1, #126
 869:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2900              		.loc 1 869 31 view .LVU1015
 2901 014e 9976     		strb	r1, [r3, #26]
 872:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.EraseGrMul |= (tmp & 0x80) >> 7;
 2902              		.loc 1 872 3 is_stmt 1 view .LVU1016
 872:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.EraseGrMul |= (tmp & 0x80) >> 7;
 2903              		.loc 1 872 26 is_stmt 0 view .LVU1017
 2904 0150 5348     		ldr	r0, .L176+8
 872:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.EraseGrMul |= (tmp & 0x80) >> 7;
 2905              		.loc 1 872 7 view .LVU1018
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 112


 2906 0152 027A     		ldrb	r2, [r0, #8]	@ zero_extendqisi2
 2907              	.LVL245:
 873:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WrProtectGrSize = (tmp & 0x7F);
 2908              		.loc 1 873 3 is_stmt 1 view .LVU1019
 873:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WrProtectGrSize = (tmp & 0x7F);
 2909              		.loc 1 873 19 is_stmt 0 view .LVU1020
 2910 0154 997E     		ldrb	r1, [r3, #26]	@ zero_extendqisi2
 873:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WrProtectGrSize = (tmp & 0x7F);
 2911              		.loc 1 873 31 view .LVU1021
 2912 0156 41EAD211 		orr	r1, r1, r2, lsr #7
 2913 015a 9976     		strb	r1, [r3, #26]
 874:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2914              		.loc 1 874 3 is_stmt 1 view .LVU1022
 874:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2915              		.loc 1 874 43 is_stmt 0 view .LVU1023
 2916 015c 02F07F02 		and	r2, r2, #127
 2917              	.LVL246:
 874:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2918              		.loc 1 874 36 view .LVU1024
 2919 0160 DA76     		strb	r2, [r3, #27]
 877:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WrProtectGrEnable = (tmp & 0x80) >> 7;
 2920              		.loc 1 877 3 is_stmt 1 view .LVU1025
 877:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WrProtectGrEnable = (tmp & 0x80) >> 7;
 2921              		.loc 1 877 27 is_stmt 0 view .LVU1026
 2922 0162 C268     		ldr	r2, [r0, #12]
 877:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WrProtectGrEnable = (tmp & 0x80) >> 7;
 2923              		.loc 1 877 45 view .LVU1027
 2924 0164 110E     		lsrs	r1, r2, #24
 2925              	.LVL247:
 878:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.ManDeflECC = (tmp & 0x60) >> 5;
 2926              		.loc 1 878 3 is_stmt 1 view .LVU1028
 878:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.ManDeflECC = (tmp & 0x60) >> 5;
 2927              		.loc 1 878 53 is_stmt 0 view .LVU1029
 2928 0166 D00F     		lsrs	r0, r2, #31
 878:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.ManDeflECC = (tmp & 0x60) >> 5;
 2929              		.loc 1 878 38 view .LVU1030
 2930 0168 1877     		strb	r0, [r3, #28]
 879:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WrSpeedFact = (tmp & 0x1C) >> 2;
 2931              		.loc 1 879 3 is_stmt 1 view .LVU1031
 879:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WrSpeedFact = (tmp & 0x1C) >> 2;
 2932              		.loc 1 879 46 is_stmt 0 view .LVU1032
 2933 016a C2F34170 		ubfx	r0, r2, #29, #2
 879:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WrSpeedFact = (tmp & 0x1C) >> 2;
 2934              		.loc 1 879 31 view .LVU1033
 2935 016e 5877     		strb	r0, [r3, #29]
 880:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.MaxWrBlockLen = (tmp & 0x03) << 2;
 2936              		.loc 1 880 3 is_stmt 1 view .LVU1034
 880:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.MaxWrBlockLen = (tmp & 0x03) << 2;
 2937              		.loc 1 880 47 is_stmt 0 view .LVU1035
 2938 0170 C2F38260 		ubfx	r0, r2, #26, #3
 880:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.MaxWrBlockLen = (tmp & 0x03) << 2;
 2939              		.loc 1 880 32 view .LVU1036
 2940 0174 9877     		strb	r0, [r3, #30]
 881:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2941              		.loc 1 881 3 is_stmt 1 view .LVU1037
 881:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2942              		.loc 1 881 49 is_stmt 0 view .LVU1038
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 113


 2943 0176 8900     		lsls	r1, r1, #2
 2944 0178 01F00C01 		and	r1, r1, #12
 881:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2945              		.loc 1 881 34 view .LVU1039
 2946 017c D977     		strb	r1, [r3, #31]
 884:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.MaxWrBlockLen |= (tmp & 0xC0) >> 6;
 2947              		.loc 1 884 3 is_stmt 1 view .LVU1040
 2948              	.LVL248:
 885:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20) >> 5;
 2949              		.loc 1 885 3 view .LVU1041
 885:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20) >> 5;
 2950              		.loc 1 885 19 is_stmt 0 view .LVU1042
 2951 017e D97F     		ldrb	r1, [r3, #31]	@ zero_extendqisi2
 885:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20) >> 5;
 2952              		.loc 1 885 50 view .LVU1043
 2953 0180 C2F38150 		ubfx	r0, r2, #22, #2
 885:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20) >> 5;
 2954              		.loc 1 885 34 view .LVU1044
 2955 0184 0143     		orrs	r1, r1, r0
 2956 0186 D977     		strb	r1, [r3, #31]
 886:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.Reserved3 = 0;
 2957              		.loc 1 886 3 is_stmt 1 view .LVU1045
 886:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.Reserved3 = 0;
 2958              		.loc 1 886 55 is_stmt 0 view .LVU1046
 2959 0188 C2F34051 		ubfx	r1, r2, #21, #1
 886:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.Reserved3 = 0;
 2960              		.loc 1 886 40 view .LVU1047
 2961 018c 83F82010 		strb	r1, [r3, #32]
 887:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.ContentProtectAppli = (tmp & 0x01);
 2962              		.loc 1 887 3 is_stmt 1 view .LVU1048
 887:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.ContentProtectAppli = (tmp & 0x01);
 2963              		.loc 1 887 30 is_stmt 0 view .LVU1049
 2964 0190 0020     		movs	r0, #0
 2965 0192 83F82100 		strb	r0, [r3, #33]
 888:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2966              		.loc 1 888 3 is_stmt 1 view .LVU1050
 888:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2967              		.loc 1 888 47 is_stmt 0 view .LVU1051
 2968 0196 C2F30041 		ubfx	r1, r2, #16, #1
 888:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2969              		.loc 1 888 40 view .LVU1052
 2970 019a 83F82210 		strb	r1, [r3, #34]
 891:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.FileFormatGrouop = (tmp & 0x80) >> 7;
 2971              		.loc 1 891 3 is_stmt 1 view .LVU1053
 2972              	.LVL249:
 892:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.CopyFlag = (tmp & 0x40) >> 6;
 2973              		.loc 1 892 3 view .LVU1054
 892:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.CopyFlag = (tmp & 0x40) >> 6;
 2974              		.loc 1 892 52 is_stmt 0 view .LVU1055
 2975 019e C2F3C031 		ubfx	r1, r2, #15, #1
 892:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.CopyFlag = (tmp & 0x40) >> 6;
 2976              		.loc 1 892 37 view .LVU1056
 2977 01a2 83F82310 		strb	r1, [r3, #35]
 893:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.PermWrProtect = (tmp & 0x20) >> 5;
 2978              		.loc 1 893 3 is_stmt 1 view .LVU1057
 893:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.PermWrProtect = (tmp & 0x20) >> 5;
 2979              		.loc 1 893 44 is_stmt 0 view .LVU1058
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 114


 2980 01a6 C2F38031 		ubfx	r1, r2, #14, #1
 893:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.PermWrProtect = (tmp & 0x20) >> 5;
 2981              		.loc 1 893 29 view .LVU1059
 2982 01aa 83F82410 		strb	r1, [r3, #36]
 894:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.TempWrProtect = (tmp & 0x10) >> 4;
 2983              		.loc 1 894 3 is_stmt 1 view .LVU1060
 894:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.TempWrProtect = (tmp & 0x10) >> 4;
 2984              		.loc 1 894 49 is_stmt 0 view .LVU1061
 2985 01ae C2F34031 		ubfx	r1, r2, #13, #1
 894:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.TempWrProtect = (tmp & 0x10) >> 4;
 2986              		.loc 1 894 34 view .LVU1062
 2987 01b2 83F82510 		strb	r1, [r3, #37]
 895:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.FileFormat = (tmp & 0x0C) >> 2;
 2988              		.loc 1 895 3 is_stmt 1 view .LVU1063
 895:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.FileFormat = (tmp & 0x0C) >> 2;
 2989              		.loc 1 895 49 is_stmt 0 view .LVU1064
 2990 01b6 C2F30031 		ubfx	r1, r2, #12, #1
 895:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.FileFormat = (tmp & 0x0C) >> 2;
 2991              		.loc 1 895 34 view .LVU1065
 2992 01ba 83F82610 		strb	r1, [r3, #38]
 896:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.ECC = (tmp & 0x03);
 2993              		.loc 1 896 3 is_stmt 1 view .LVU1066
 896:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.ECC = (tmp & 0x03);
 2994              		.loc 1 896 46 is_stmt 0 view .LVU1067
 2995 01be C2F38121 		ubfx	r1, r2, #10, #2
 896:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.ECC = (tmp & 0x03);
 2996              		.loc 1 896 31 view .LVU1068
 2997 01c2 83F82710 		strb	r1, [r3, #39]
 897:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2998              		.loc 1 897 3 is_stmt 1 view .LVU1069
 897:HW/SDCard/stm32_eval_sdio_sd.c **** 
 2999              		.loc 1 897 31 is_stmt 0 view .LVU1070
 3000 01c6 C2F30121 		ubfx	r1, r2, #8, #2
 897:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3001              		.loc 1 897 24 view .LVU1071
 3002 01ca 83F82810 		strb	r1, [r3, #40]
 900:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.CSD_CRC = (tmp & 0xFE) >> 1;
 3003              		.loc 1 900 3 is_stmt 1 view .LVU1072
 3004              	.LVL250:
 901:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.Reserved4 = 1;
 3005              		.loc 1 901 3 view .LVU1073
 901:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.Reserved4 = 1;
 3006              		.loc 1 901 43 is_stmt 0 view .LVU1074
 3007 01ce C2F34602 		ubfx	r2, r2, #1, #7
 3008              	.LVL251:
 901:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_csd.Reserved4 = 1;
 3009              		.loc 1 901 28 view .LVU1075
 3010 01d2 83F82920 		strb	r2, [r3, #41]
 902:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3011              		.loc 1 902 3 is_stmt 1 view .LVU1076
 902:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3012              		.loc 1 902 30 is_stmt 0 view .LVU1077
 3013 01d6 4FF0010C 		mov	ip, #1
 3014 01da 83F82AC0 		strb	ip, [r3, #42]
 906:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ManufacturerID = tmp;
 3015              		.loc 1 906 3 is_stmt 1 view .LVU1078
 906:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ManufacturerID = tmp;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 115


 3016              		.loc 1 906 27 is_stmt 0 view .LVU1079
 3017 01de 3149     		ldr	r1, .L176+12
 3018 01e0 0A68     		ldr	r2, [r1]
 906:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ManufacturerID = tmp;
 3019              		.loc 1 906 7 view .LVU1080
 3020 01e2 140E     		lsrs	r4, r2, #24
 3021              	.LVL252:
 907:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3022              		.loc 1 907 3 is_stmt 1 view .LVU1081
 907:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3023              		.loc 1 907 35 is_stmt 0 view .LVU1082
 3024 01e4 83F82C40 		strb	r4, [r3, #44]
 910:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.OEM_AppliID = tmp << 8;
 3025              		.loc 1 910 3 is_stmt 1 view .LVU1083
 910:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.OEM_AppliID = tmp << 8;
 3026              		.loc 1 910 7 is_stmt 0 view .LVU1084
 3027 01e8 C2F30744 		ubfx	r4, r2, #16, #8
 3028              	.LVL253:
 911:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3029              		.loc 1 911 3 is_stmt 1 view .LVU1085
 911:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3030              		.loc 1 911 38 is_stmt 0 view .LVU1086
 3031 01ec 2402     		lsls	r4, r4, #8
 3032              	.LVL254:
 911:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3033              		.loc 1 911 32 view .LVU1087
 3034 01ee DC85     		strh	r4, [r3, #46]	@ movhi
 914:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.OEM_AppliID |= tmp;
 3035              		.loc 1 914 3 is_stmt 1 view .LVU1088
 914:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.OEM_AppliID |= tmp;
 3036              		.loc 1 914 7 is_stmt 0 view .LVU1089
 3037 01f0 C2F30724 		ubfx	r4, r2, #8, #8
 3038              	.LVL255:
 915:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3039              		.loc 1 915 3 is_stmt 1 view .LVU1090
 915:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3040              		.loc 1 915 19 is_stmt 0 view .LVU1091
 3041 01f4 B3F82EE0 		ldrh	lr, [r3, #46]
 3042 01f8 1FFA8EFE 		uxth	lr, lr
 915:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3043              		.loc 1 915 32 view .LVU1092
 3044 01fc 44EA0E04 		orr	r4, r4, lr
 3045              	.LVL256:
 915:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3046              		.loc 1 915 32 view .LVU1093
 3047 0200 DC85     		strh	r4, [r3, #46]	@ movhi
 918:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdName1 = tmp << 24;
 3048              		.loc 1 918 3 is_stmt 1 view .LVU1094
 3049              	.LVL257:
 919:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3050              		.loc 1 919 3 view .LVU1095
 919:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3051              		.loc 1 919 36 is_stmt 0 view .LVU1096
 3052 0202 1206     		lsls	r2, r2, #24
 3053              	.LVL258:
 919:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3054              		.loc 1 919 30 view .LVU1097
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 116


 3055 0204 1A63     		str	r2, [r3, #48]
 922:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdName1 |= tmp << 16;
 3056              		.loc 1 922 3 is_stmt 1 view .LVU1098
 922:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdName1 |= tmp << 16;
 3057              		.loc 1 922 27 is_stmt 0 view .LVU1099
 3058 0206 4A68     		ldr	r2, [r1, #4]
 922:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdName1 |= tmp << 16;
 3059              		.loc 1 922 45 view .LVU1100
 3060 0208 150E     		lsrs	r5, r2, #24
 3061              	.LVL259:
 923:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3062              		.loc 1 923 3 is_stmt 1 view .LVU1101
 923:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3063              		.loc 1 923 19 is_stmt 0 view .LVU1102
 3064 020a 1C6B     		ldr	r4, [r3, #48]
 923:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3065              		.loc 1 923 30 view .LVU1103
 3066 020c 44EA0544 		orr	r4, r4, r5, lsl #16
 3067 0210 1C63     		str	r4, [r3, #48]
 926:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdName1 |= tmp << 8;
 3068              		.loc 1 926 3 is_stmt 1 view .LVU1104
 3069              	.LVL260:
 927:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3070              		.loc 1 927 3 view .LVU1105
 927:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3071              		.loc 1 927 19 is_stmt 0 view .LVU1106
 3072 0212 1C6B     		ldr	r4, [r3, #48]
 927:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3073              		.loc 1 927 37 view .LVU1107
 3074 0214 C2F30745 		ubfx	r5, r2, #16, #8
 927:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3075              		.loc 1 927 30 view .LVU1108
 3076 0218 44EA0524 		orr	r4, r4, r5, lsl #8
 3077 021c 1C63     		str	r4, [r3, #48]
 930:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdName1 |= tmp;
 3078              		.loc 1 930 3 is_stmt 1 view .LVU1109
 3079              	.LVL261:
 931:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3080              		.loc 1 931 3 view .LVU1110
 931:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3081              		.loc 1 931 19 is_stmt 0 view .LVU1111
 3082 021e 1D6B     		ldr	r5, [r3, #48]
 931:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3083              		.loc 1 931 30 view .LVU1112
 3084 0220 C2F30724 		ubfx	r4, r2, #8, #8
 3085 0224 2C43     		orrs	r4, r4, r5
 3086 0226 1C63     		str	r4, [r3, #48]
 934:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdName2 = tmp;
 3087              		.loc 1 934 3 is_stmt 1 view .LVU1113
 934:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdName2 = tmp;
 3088              		.loc 1 934 7 is_stmt 0 view .LVU1114
 3089 0228 D2B2     		uxtb	r2, r2
 3090              	.LVL262:
 935:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3091              		.loc 1 935 3 is_stmt 1 view .LVU1115
 935:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3092              		.loc 1 935 30 is_stmt 0 view .LVU1116
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 117


 3093 022a 83F83420 		strb	r2, [r3, #52]
 938:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdRev = tmp;
 3094              		.loc 1 938 3 is_stmt 1 view .LVU1117
 938:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdRev = tmp;
 3095              		.loc 1 938 27 is_stmt 0 view .LVU1118
 3096 022e 8A68     		ldr	r2, [r1, #8]
 3097              	.LVL263:
 938:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdRev = tmp;
 3098              		.loc 1 938 7 view .LVU1119
 3099 0230 140E     		lsrs	r4, r2, #24
 3100              	.LVL264:
 939:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3101              		.loc 1 939 3 is_stmt 1 view .LVU1120
 939:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3102              		.loc 1 939 28 is_stmt 0 view .LVU1121
 3103 0232 83F83540 		strb	r4, [r3, #53]
 942:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdSN = tmp << 24;
 3104              		.loc 1 942 3 is_stmt 1 view .LVU1122
 3105              	.LVL265:
 943:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3106              		.loc 1 943 3 view .LVU1123
 943:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3107              		.loc 1 943 33 is_stmt 0 view .LVU1124
 3108 0236 C2F30744 		ubfx	r4, r2, #16, #8
 3109 023a 2406     		lsls	r4, r4, #24
 943:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3110              		.loc 1 943 27 view .LVU1125
 3111 023c 9C63     		str	r4, [r3, #56]
 946:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdSN |= tmp << 16;
 3112              		.loc 1 946 3 is_stmt 1 view .LVU1126
 3113              	.LVL266:
 947:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3114              		.loc 1 947 3 view .LVU1127
 947:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3115              		.loc 1 947 19 is_stmt 0 view .LVU1128
 3116 023e 9C6B     		ldr	r4, [r3, #56]
 947:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3117              		.loc 1 947 34 view .LVU1129
 3118 0240 C2F3072E 		ubfx	lr, r2, #8, #8
 947:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3119              		.loc 1 947 27 view .LVU1130
 3120 0244 44EA0E44 		orr	r4, r4, lr, lsl #16
 3121 0248 9C63     		str	r4, [r3, #56]
 950:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdSN |= tmp << 8;
 3122              		.loc 1 950 3 is_stmt 1 view .LVU1131
 3123              	.LVL267:
 951:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3124              		.loc 1 951 3 view .LVU1132
 951:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3125              		.loc 1 951 19 is_stmt 0 view .LVU1133
 3126 024a 9C6B     		ldr	r4, [r3, #56]
 951:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3127              		.loc 1 951 34 view .LVU1134
 3128 024c D2B2     		uxtb	r2, r2
 951:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3129              		.loc 1 951 27 view .LVU1135
 3130 024e 44EA0222 		orr	r2, r4, r2, lsl #8
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 118


 3131              	.LVL268:
 951:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3132              		.loc 1 951 27 view .LVU1136
 3133 0252 9A63     		str	r2, [r3, #56]
 954:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdSN |= tmp;
 3134              		.loc 1 954 3 is_stmt 1 view .LVU1137
 954:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ProdSN |= tmp;
 3135              		.loc 1 954 27 is_stmt 0 view .LVU1138
 3136 0254 CA68     		ldr	r2, [r1, #12]
 3137              	.LVL269:
 955:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3138              		.loc 1 955 3 is_stmt 1 view .LVU1139
 955:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3139              		.loc 1 955 19 is_stmt 0 view .LVU1140
 3140 0256 996B     		ldr	r1, [r3, #56]
 955:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3141              		.loc 1 955 27 view .LVU1141
 3142 0258 41EA1261 		orr	r1, r1, r2, lsr #24
 3143 025c 9963     		str	r1, [r3, #56]
 958:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.Reserved1 |= (tmp & 0xF0) >> 4;
 3144              		.loc 1 958 3 is_stmt 1 view .LVU1142
 958:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.Reserved1 |= (tmp & 0xF0) >> 4;
 3145              		.loc 1 958 45 is_stmt 0 view .LVU1143
 3146 025e 110C     		lsrs	r1, r2, #16
 3147              	.LVL270:
 959:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ManufactDate = (tmp & 0x0F) << 8;
 3148              		.loc 1 959 3 is_stmt 1 view .LVU1144
 959:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ManufactDate = (tmp & 0x0F) << 8;
 3149              		.loc 1 959 19 is_stmt 0 view .LVU1145
 3150 0260 93F83CE0 		ldrb	lr, [r3, #60]	@ zero_extendqisi2
 959:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ManufactDate = (tmp & 0x0F) << 8;
 3151              		.loc 1 959 46 view .LVU1146
 3152 0264 C2F30354 		ubfx	r4, r2, #20, #4
 959:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ManufactDate = (tmp & 0x0F) << 8;
 3153              		.loc 1 959 30 view .LVU1147
 3154 0268 4EEA040E 		orr	lr, lr, r4
 3155 026c 83F83CE0 		strb	lr, [r3, #60]
 960:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3156              		.loc 1 960 3 is_stmt 1 view .LVU1148
 960:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3157              		.loc 1 960 48 is_stmt 0 view .LVU1149
 3158 0270 0902     		lsls	r1, r1, #8
 3159 0272 01F47061 		and	r1, r1, #3840
 960:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3160              		.loc 1 960 33 view .LVU1150
 3161 0276 D987     		strh	r1, [r3, #62]	@ movhi
 963:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ManufactDate |= tmp;
 3162              		.loc 1 963 3 is_stmt 1 view .LVU1151
 963:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.ManufactDate |= tmp;
 3163              		.loc 1 963 7 is_stmt 0 view .LVU1152
 3164 0278 C2F30721 		ubfx	r1, r2, #8, #8
 3165              	.LVL271:
 964:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3166              		.loc 1 964 3 is_stmt 1 view .LVU1153
 964:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3167              		.loc 1 964 19 is_stmt 0 view .LVU1154
 3168 027c B3F83EE0 		ldrh	lr, [r3, #62]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 119


 3169 0280 1FFA8EFE 		uxth	lr, lr
 964:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3170              		.loc 1 964 33 view .LVU1155
 3171 0284 41EA0E01 		orr	r1, r1, lr
 3172              	.LVL272:
 964:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3173              		.loc 1 964 33 view .LVU1156
 3174 0288 D987     		strh	r1, [r3, #62]	@ movhi
 967:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.CID_CRC = (tmp & 0xFE) >> 1;
 3175              		.loc 1 967 3 is_stmt 1 view .LVU1157
 3176              	.LVL273:
 968:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.Reserved2 = 1;
 3177              		.loc 1 968 3 view .LVU1158
 968:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.Reserved2 = 1;
 3178              		.loc 1 968 43 is_stmt 0 view .LVU1159
 3179 028a C2F34602 		ubfx	r2, r2, #1, #7
 3180              	.LVL274:
 968:HW/SDCard/stm32_eval_sdio_sd.c ****   cardinfo->SD_cid.Reserved2 = 1;
 3181              		.loc 1 968 28 view .LVU1160
 3182 028e 83F84020 		strb	r2, [r3, #64]
 969:HW/SDCard/stm32_eval_sdio_sd.c ****   
 3183              		.loc 1 969 3 is_stmt 1 view .LVU1161
 969:HW/SDCard/stm32_eval_sdio_sd.c ****   
 3184              		.loc 1 969 30 is_stmt 0 view .LVU1162
 3185 0292 83F841C0 		strb	ip, [r3, #65]
 971:HW/SDCard/stm32_eval_sdio_sd.c **** }
 3186              		.loc 1 971 3 is_stmt 1 view .LVU1163
 972:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3187              		.loc 1 972 1 is_stmt 0 view .LVU1164
 3188 0296 30BD     		pop	{r4, r5, pc}
 3189              	.L177:
 3190              		.align	2
 3191              	.L176:
 3192 0298 00000000 		.word	CardType
 3193 029c 00000000 		.word	RCA
 3194 02a0 00000000 		.word	CSD_Tab
 3195 02a4 00000000 		.word	CID_Tab
 3196              		.cfi_endproc
 3197              	.LFE44:
 3199              		.section	.text.SD_EnableWideBusOperation,"ax",%progbits
 3200              		.align	1
 3201              		.global	SD_EnableWideBusOperation
 3202              		.syntax unified
 3203              		.thumb
 3204              		.thumb_func
 3206              	SD_EnableWideBusOperation:
 3207              	.LVL275:
 3208              	.LFB46:
1070:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 3209              		.loc 1 1070 1 is_stmt 1 view -0
 3210              		.cfi_startproc
 3211              		@ args = 0, pretend = 0, frame = 0
 3212              		@ frame_needed = 0, uses_anonymous_args = 0
1070:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 3213              		.loc 1 1070 1 is_stmt 0 view .LVU1166
 3214 0000 10B5     		push	{r4, lr}
 3215              	.LCFI38:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 120


 3216              		.cfi_def_cfa_offset 8
 3217              		.cfi_offset 4, -8
 3218              		.cfi_offset 14, -4
1071:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3219              		.loc 1 1071 3 is_stmt 1 view .LVU1167
 3220              	.LVL276:
1074:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3221              		.loc 1 1074 3 view .LVU1168
1074:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3222              		.loc 1 1074 28 is_stmt 0 view .LVU1169
 3223 0002 1B4B     		ldr	r3, .L186
 3224 0004 1B68     		ldr	r3, [r3]
1074:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3225              		.loc 1 1074 6 view .LVU1170
 3226 0006 032B     		cmp	r3, #3
 3227 0008 2BD0     		beq	.L181
1079:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3228              		.loc 1 1079 8 is_stmt 1 view .LVU1171
1079:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3229              		.loc 1 1079 11 is_stmt 0 view .LVU1172
 3230 000a 022B     		cmp	r3, #2
 3231 000c 2BD8     		bhi	.L182
1081:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 3232              		.loc 1 1081 5 is_stmt 1 view .LVU1173
1081:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 3233              		.loc 1 1081 8 is_stmt 0 view .LVU1174
 3234 000e B0F5805F 		cmp	r0, #4096
 3235 0012 2BD0     		beq	.L183
1086:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 3236              		.loc 1 1086 10 is_stmt 1 view .LVU1175
1086:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 3237              		.loc 1 1086 13 is_stmt 0 view .LVU1176
 3238 0014 B0F5006F 		cmp	r0, #2048
 3239 0018 10D0     		beq	.L185
1104:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3240              		.loc 1 1104 7 is_stmt 1 view .LVU1177
1104:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3241              		.loc 1 1104 21 is_stmt 0 view .LVU1178
 3242 001a 0020     		movs	r0, #0
 3243              	.LVL277:
1104:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3244              		.loc 1 1104 21 view .LVU1179
 3245 001c FFF7FEFF 		bl	SDEnWideBus
 3246              	.LVL278:
1106:HW/SDCard/stm32_eval_sdio_sd.c ****       {
 3247              		.loc 1 1106 7 is_stmt 1 view .LVU1180
1106:HW/SDCard/stm32_eval_sdio_sd.c ****       {
 3248              		.loc 1 1106 10 is_stmt 0 view .LVU1181
 3249 0020 0446     		mov	r4, r0
 3250 0022 08BB     		cbnz	r0, .L179
1109:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 3251              		.loc 1 1109 9 is_stmt 1 view .LVU1182
1109:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 3252              		.loc 1 1109 42 is_stmt 0 view .LVU1183
 3253 0024 1348     		ldr	r0, .L186+4
 3254              	.LVL279:
1109:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 121


 3255              		.loc 1 1109 42 view .LVU1184
 3256 0026 0123     		movs	r3, #1
 3257 0028 0375     		strb	r3, [r0, #20]
1110:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
 3258              		.loc 1 1110 9 is_stmt 1 view .LVU1185
1110:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
 3259              		.loc 1 1110 43 is_stmt 0 view .LVU1186
 3260 002a 0023     		movs	r3, #0
 3261 002c 0360     		str	r3, [r0]
1111:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
 3262              		.loc 1 1111 9 is_stmt 1 view .LVU1187
1111:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
 3263              		.loc 1 1111 45 is_stmt 0 view .LVU1188
 3264 002e 4360     		str	r3, [r0, #4]
1112:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_1b;
 3265              		.loc 1 1112 9 is_stmt 1 view .LVU1189
1112:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_1b;
 3266              		.loc 1 1112 48 is_stmt 0 view .LVU1190
 3267 0030 8360     		str	r3, [r0, #8]
1113:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
 3268              		.loc 1 1113 9 is_stmt 1 view .LVU1191
1113:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
 3269              		.loc 1 1113 41 is_stmt 0 view .LVU1192
 3270 0032 C360     		str	r3, [r0, #12]
1114:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_Init(&SDIO_InitStructure);
 3271              		.loc 1 1114 9 is_stmt 1 view .LVU1193
1114:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_Init(&SDIO_InitStructure);
 3272              		.loc 1 1114 53 is_stmt 0 view .LVU1194
 3273 0034 0361     		str	r3, [r0, #16]
1115:HW/SDCard/stm32_eval_sdio_sd.c ****       }
 3274              		.loc 1 1115 9 is_stmt 1 view .LVU1195
 3275 0036 FFF7FEFF 		bl	SDIO_Init
 3276              	.LVL280:
 3277 003a 15E0     		b	.L179
 3278              	.LVL281:
 3279              	.L185:
1088:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3280              		.loc 1 1088 7 view .LVU1196
1088:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3281              		.loc 1 1088 21 is_stmt 0 view .LVU1197
 3282 003c 0120     		movs	r0, #1
 3283              	.LVL282:
1088:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3284              		.loc 1 1088 21 view .LVU1198
 3285 003e FFF7FEFF 		bl	SDEnWideBus
 3286              	.LVL283:
1090:HW/SDCard/stm32_eval_sdio_sd.c ****       {
 3287              		.loc 1 1090 7 is_stmt 1 view .LVU1199
1090:HW/SDCard/stm32_eval_sdio_sd.c ****       {
 3288              		.loc 1 1090 10 is_stmt 0 view .LVU1200
 3289 0042 0446     		mov	r4, r0
 3290 0044 80B9     		cbnz	r0, .L179
1093:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 3291              		.loc 1 1093 9 is_stmt 1 view .LVU1201
1093:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 3292              		.loc 1 1093 42 is_stmt 0 view .LVU1202
 3293 0046 0B48     		ldr	r0, .L186+4
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 122


 3294              	.LVL284:
1093:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 3295              		.loc 1 1093 42 view .LVU1203
 3296 0048 0123     		movs	r3, #1
 3297 004a 0375     		strb	r3, [r0, #20]
1094:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
 3298              		.loc 1 1094 9 is_stmt 1 view .LVU1204
1094:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
 3299              		.loc 1 1094 43 is_stmt 0 view .LVU1205
 3300 004c 0023     		movs	r3, #0
 3301 004e 0360     		str	r3, [r0]
1095:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
 3302              		.loc 1 1095 9 is_stmt 1 view .LVU1206
1095:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
 3303              		.loc 1 1095 45 is_stmt 0 view .LVU1207
 3304 0050 4360     		str	r3, [r0, #4]
1096:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_4b;
 3305              		.loc 1 1096 9 is_stmt 1 view .LVU1208
1096:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_4b;
 3306              		.loc 1 1096 48 is_stmt 0 view .LVU1209
 3307 0052 8360     		str	r3, [r0, #8]
1097:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
 3308              		.loc 1 1097 9 is_stmt 1 view .LVU1210
1097:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
 3309              		.loc 1 1097 41 is_stmt 0 view .LVU1211
 3310 0054 4FF40062 		mov	r2, #2048
 3311 0058 C260     		str	r2, [r0, #12]
1098:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_Init(&SDIO_InitStructure);
 3312              		.loc 1 1098 9 is_stmt 1 view .LVU1212
1098:HW/SDCard/stm32_eval_sdio_sd.c ****         SDIO_Init(&SDIO_InitStructure);
 3313              		.loc 1 1098 53 is_stmt 0 view .LVU1213
 3314 005a 0361     		str	r3, [r0, #16]
1099:HW/SDCard/stm32_eval_sdio_sd.c ****       }
 3315              		.loc 1 1099 9 is_stmt 1 view .LVU1214
 3316 005c FFF7FEFF 		bl	SDIO_Init
 3317              	.LVL285:
 3318 0060 02E0     		b	.L179
 3319              	.LVL286:
 3320              	.L181:
1077:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 3321              		.loc 1 1077 11 is_stmt 0 view .LVU1215
 3322 0062 2724     		movs	r4, #39
 3323 0064 00E0     		b	.L179
 3324              	.L182:
1071:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3325              		.loc 1 1071 12 view .LVU1216
 3326 0066 0024     		movs	r4, #0
 3327              	.LVL287:
 3328              	.L179:
1121:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3329              		.loc 1 1121 1 view .LVU1217
 3330 0068 2046     		mov	r0, r4
 3331 006a 10BD     		pop	{r4, pc}
 3332              	.LVL288:
 3333              	.L183:
1084:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 3334              		.loc 1 1084 13 view .LVU1218
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 123


 3335 006c 2724     		movs	r4, #39
 3336 006e FBE7     		b	.L179
 3337              	.L187:
 3338              		.align	2
 3339              	.L186:
 3340 0070 00000000 		.word	CardType
 3341 0074 00000000 		.word	SDIO_InitStructure
 3342              		.cfi_endproc
 3343              	.LFE46:
 3345              		.section	.text.SD_SelectDeselect,"ax",%progbits
 3346              		.align	1
 3347              		.global	SD_SelectDeselect
 3348              		.syntax unified
 3349              		.thumb
 3350              		.thumb_func
 3352              	SD_SelectDeselect:
 3353              	.LVL289:
 3354              	.LFB47:
1129:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 3355              		.loc 1 1129 1 is_stmt 1 view -0
 3356              		.cfi_startproc
 3357              		@ args = 0, pretend = 0, frame = 0
 3358              		@ frame_needed = 0, uses_anonymous_args = 0
1129:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 3359              		.loc 1 1129 1 is_stmt 0 view .LVU1220
 3360 0000 10B5     		push	{r4, lr}
 3361              	.LCFI39:
 3362              		.cfi_def_cfa_offset 8
 3363              		.cfi_offset 4, -8
 3364              		.cfi_offset 14, -4
1130:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3365              		.loc 1 1130 3 is_stmt 1 view .LVU1221
 3366              	.LVL290:
1133:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SEL_DESEL_CARD;
 3367              		.loc 1 1133 3 view .LVU1222
1133:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SEL_DESEL_CARD;
 3368              		.loc 1 1133 39 is_stmt 0 view .LVU1223
 3369 0002 094B     		ldr	r3, .L190
 3370 0004 1860     		str	r0, [r3]
1134:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3371              		.loc 1 1134 3 is_stmt 1 view .LVU1224
1134:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3372              		.loc 1 1134 39 is_stmt 0 view .LVU1225
 3373 0006 0724     		movs	r4, #7
 3374 0008 5C60     		str	r4, [r3, #4]
1135:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3375              		.loc 1 1135 3 is_stmt 1 view .LVU1226
1135:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3376              		.loc 1 1135 39 is_stmt 0 view .LVU1227
 3377 000a 4022     		movs	r2, #64
 3378 000c 9A60     		str	r2, [r3, #8]
1136:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3379              		.loc 1 1136 3 is_stmt 1 view .LVU1228
1136:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3380              		.loc 1 1136 35 is_stmt 0 view .LVU1229
 3381 000e 0022     		movs	r2, #0
 3382 0010 DA60     		str	r2, [r3, #12]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 124


1137:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 3383              		.loc 1 1137 3 is_stmt 1 view .LVU1230
1137:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 3384              		.loc 1 1137 35 is_stmt 0 view .LVU1231
 3385 0012 4FF48062 		mov	r2, #1024
 3386 0016 1A61     		str	r2, [r3, #16]
1138:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3387              		.loc 1 1138 3 is_stmt 1 view .LVU1232
 3388 0018 1846     		mov	r0, r3
 3389              	.LVL291:
1138:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3390              		.loc 1 1138 3 is_stmt 0 view .LVU1233
 3391 001a FFF7FEFF 		bl	SDIO_SendCommand
 3392              	.LVL292:
1140:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3393              		.loc 1 1140 3 is_stmt 1 view .LVU1234
1140:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3394              		.loc 1 1140 17 is_stmt 0 view .LVU1235
 3395 001e 2046     		mov	r0, r4
 3396 0020 FFF7FEFF 		bl	CmdResp1Error
 3397              	.LVL293:
1142:HW/SDCard/stm32_eval_sdio_sd.c **** }
 3398              		.loc 1 1142 3 is_stmt 1 view .LVU1236
1143:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3399              		.loc 1 1143 1 is_stmt 0 view .LVU1237
 3400 0024 10BD     		pop	{r4, pc}
 3401              	.L191:
 3402 0026 00BF     		.align	2
 3403              	.L190:
 3404 0028 00000000 		.word	SDIO_CmdInitStructure
 3405              		.cfi_endproc
 3406              	.LFE47:
 3408              		.section	.text.SD_Init,"ax",%progbits
 3409              		.align	1
 3410              		.global	SD_Init
 3411              		.syntax unified
 3412              		.thumb
 3413              		.thumb_func
 3415              	SD_Init:
 3416              	.LFB37:
 369:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 3417              		.loc 1 369 1 is_stmt 1 view -0
 3418              		.cfi_startproc
 3419              		@ args = 0, pretend = 0, frame = 0
 3420              		@ frame_needed = 0, uses_anonymous_args = 0
 3421 0000 38B5     		push	{r3, r4, r5, lr}
 3422              	.LCFI40:
 3423              		.cfi_def_cfa_offset 16
 3424              		.cfi_offset 3, -16
 3425              		.cfi_offset 4, -12
 3426              		.cfi_offset 5, -8
 3427              		.cfi_offset 14, -4
 370:HW/SDCard/stm32_eval_sdio_sd.c ****   
 3428              		.loc 1 370 3 view .LVU1239
 3429              	.LVL294:
 373:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3430              		.loc 1 373 3 view .LVU1240
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 125


 3431 0002 FFF7FEFF 		bl	SD_LowLevel_Init
 3432              	.LVL295:
 376:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3433              		.loc 1 376 3 view .LVU1241
 3434 0006 FFF7FEFF 		bl	SDIO_DeInit
 3435              	.LVL296:
 379:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3436              		.loc 1 379 3 view .LVU1242
 379:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3437              		.loc 1 379 17 is_stmt 0 view .LVU1243
 3438 000a FFF7FEFF 		bl	SD_PowerON
 3439              	.LVL297:
 381:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3440              		.loc 1 381 3 is_stmt 1 view .LVU1244
 381:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3441              		.loc 1 381 6 is_stmt 0 view .LVU1245
 3442 000e 0446     		mov	r4, r0
 3443 0010 08B1     		cbz	r0, .L196
 3444              	.LVL298:
 3445              	.L193:
 430:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3446              		.loc 1 430 1 view .LVU1246
 3447 0012 2046     		mov	r0, r4
 3448 0014 38BD     		pop	{r3, r4, r5, pc}
 3449              	.LVL299:
 3450              	.L196:
 388:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3451              		.loc 1 388 3 is_stmt 1 view .LVU1247
 388:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3452              		.loc 1 388 17 is_stmt 0 view .LVU1248
 3453 0016 FFF7FEFF 		bl	SD_InitializeCards
 3454              	.LVL300:
 390:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3455              		.loc 1 390 3 is_stmt 1 view .LVU1249
 390:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3456              		.loc 1 390 6 is_stmt 0 view .LVU1250
 3457 001a 0446     		mov	r4, r0
 3458 001c 0028     		cmp	r0, #0
 3459 001e F8D1     		bne	.L193
 400:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 3460              		.loc 1 400 3 is_stmt 1 view .LVU1251
 400:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 3461              		.loc 1 400 36 is_stmt 0 view .LVU1252
 3462 0020 0F48     		ldr	r0, .L198
 3463              	.LVL301:
 400:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockEdge = SDIO_ClockEdge_Rising;
 3464              		.loc 1 400 36 view .LVU1253
 3465 0022 0123     		movs	r3, #1
 3466 0024 0375     		strb	r3, [r0, #20]
 401:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
 3467              		.loc 1 401 3 is_stmt 1 view .LVU1254
 401:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockBypass = SDIO_ClockBypass_Disable;
 3468              		.loc 1 401 37 is_stmt 0 view .LVU1255
 3469 0026 0023     		movs	r3, #0
 3470 0028 0360     		str	r3, [r0]
 402:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
 3471              		.loc 1 402 3 is_stmt 1 view .LVU1256
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 126


 402:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_ClockPowerSave = SDIO_ClockPowerSave_Disable;
 3472              		.loc 1 402 39 is_stmt 0 view .LVU1257
 3473 002a 4360     		str	r3, [r0, #4]
 403:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_1b;
 3474              		.loc 1 403 3 is_stmt 1 view .LVU1258
 403:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_BusWide = SDIO_BusWide_1b;
 3475              		.loc 1 403 42 is_stmt 0 view .LVU1259
 3476 002c 8360     		str	r3, [r0, #8]
 404:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
 3477              		.loc 1 404 3 is_stmt 1 view .LVU1260
 404:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_InitStructure.SDIO_HardwareFlowControl = SDIO_HardwareFlowControl_Disable;
 3478              		.loc 1 404 35 is_stmt 0 view .LVU1261
 3479 002e C360     		str	r3, [r0, #12]
 405:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_Init(&SDIO_InitStructure);
 3480              		.loc 1 405 3 is_stmt 1 view .LVU1262
 405:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_Init(&SDIO_InitStructure);
 3481              		.loc 1 405 47 is_stmt 0 view .LVU1263
 3482 0030 0361     		str	r3, [r0, #16]
 406:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3483              		.loc 1 406 3 is_stmt 1 view .LVU1264
 3484 0032 FFF7FEFF 		bl	SDIO_Init
 3485              	.LVL302:
 409:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3486              		.loc 1 409 3 view .LVU1265
 412:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 3487              		.loc 1 412 5 view .LVU1266
 412:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 3488              		.loc 1 412 19 is_stmt 0 view .LVU1267
 3489 0036 0B48     		ldr	r0, .L198+4
 3490 0038 FFF7FEFF 		bl	SD_GetCardInfo
 3491              	.LVL303:
 416:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3492              		.loc 1 416 3 is_stmt 1 view .LVU1268
 416:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3493              		.loc 1 416 6 is_stmt 0 view .LVU1269
 3494 003c 0546     		mov	r5, r0
 3495 003e 0028     		cmp	r0, #0
 3496 0040 E7D1     		bne	.L193
 419:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 3497              		.loc 1 419 5 is_stmt 1 view .LVU1270
 419:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 3498              		.loc 1 419 59 is_stmt 0 view .LVU1271
 3499 0042 084B     		ldr	r3, .L198+4
 3500 0044 B3F85400 		ldrh	r0, [r3, #84]
 3501              	.LVL304:
 419:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 3502              		.loc 1 419 19 view .LVU1272
 3503 0048 0004     		lsls	r0, r0, #16
 3504 004a FFF7FEFF 		bl	SD_SelectDeselect
 3505              	.LVL305:
 423:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3506              		.loc 1 423 3 is_stmt 1 view .LVU1273
 423:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3507              		.loc 1 423 6 is_stmt 0 view .LVU1274
 3508 004e 0446     		mov	r4, r0
 3509 0050 08B1     		cbz	r0, .L197
 429:HW/SDCard/stm32_eval_sdio_sd.c **** }
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 127


 3510              		.loc 1 429 9 view .LVU1275
 3511 0052 2C46     		mov	r4, r5
 3512 0054 DDE7     		b	.L193
 3513              	.L197:
 425:HW/SDCard/stm32_eval_sdio_sd.c ****   }  
 3514              		.loc 1 425 5 is_stmt 1 view .LVU1276
 425:HW/SDCard/stm32_eval_sdio_sd.c ****   }  
 3515              		.loc 1 425 19 is_stmt 0 view .LVU1277
 3516 0056 4FF40060 		mov	r0, #2048
 3517              	.LVL306:
 425:HW/SDCard/stm32_eval_sdio_sd.c ****   }  
 3518              		.loc 1 425 19 view .LVU1278
 3519 005a FFF7FEFF 		bl	SD_EnableWideBusOperation
 3520              	.LVL307:
 425:HW/SDCard/stm32_eval_sdio_sd.c ****   }  
 3521              		.loc 1 425 19 view .LVU1279
 3522 005e D8E7     		b	.L193
 3523              	.L199:
 3524              		.align	2
 3525              	.L198:
 3526 0060 00000000 		.word	SDIO_InitStructure
 3527 0064 00000000 		.word	SDCardInfo
 3528              		.cfi_endproc
 3529              	.LFE37:
 3531              		.section	.text.SD_ReadBlock,"ax",%progbits
 3532              		.align	1
 3533              		.global	SD_ReadBlock
 3534              		.syntax unified
 3535              		.thumb
 3536              		.thumb_func
 3538              	SD_ReadBlock:
 3539              	.LVL308:
 3540              	.LFB48:
1160:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 3541              		.loc 1 1160 1 is_stmt 1 view -0
 3542              		.cfi_startproc
 3543              		@ args = 0, pretend = 0, frame = 0
 3544              		@ frame_needed = 0, uses_anonymous_args = 0
1160:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 3545              		.loc 1 1160 1 is_stmt 0 view .LVU1281
 3546 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3547              	.LCFI41:
 3548              		.cfi_def_cfa_offset 24
 3549              		.cfi_offset 3, -24
 3550              		.cfi_offset 4, -20
 3551              		.cfi_offset 5, -16
 3552              		.cfi_offset 6, -12
 3553              		.cfi_offset 7, -8
 3554              		.cfi_offset 14, -4
 3555 0002 0546     		mov	r5, r0
 3556 0004 0C46     		mov	r4, r1
1161:HW/SDCard/stm32_eval_sdio_sd.c **** #if defined (SD_POLLING_MODE) 
 3557              		.loc 1 1161 3 is_stmt 1 view .LVU1282
 3558              	.LVL309:
1166:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 0;
 3559              		.loc 1 1166 3 view .LVU1283
1166:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 0;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 128


 3560              		.loc 1 1166 17 is_stmt 0 view .LVU1284
 3561 0006 0023     		movs	r3, #0
 3562 0008 2E49     		ldr	r1, .L209
 3563              	.LVL310:
1166:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 0;
 3564              		.loc 1 1166 17 view .LVU1285
 3565 000a 0B70     		strb	r3, [r1]
1167:HW/SDCard/stm32_eval_sdio_sd.c ****   StopCondition = 0;
 3566              		.loc 1 1167 3 is_stmt 1 view .LVU1286
1167:HW/SDCard/stm32_eval_sdio_sd.c ****   StopCondition = 0;
 3567              		.loc 1 1167 15 is_stmt 0 view .LVU1287
 3568 000c 2E49     		ldr	r1, .L209+4
 3569 000e 0B60     		str	r3, [r1]
1168:HW/SDCard/stm32_eval_sdio_sd.c ****   
 3570              		.loc 1 1168 3 is_stmt 1 view .LVU1288
1168:HW/SDCard/stm32_eval_sdio_sd.c ****   
 3571              		.loc 1 1168 17 is_stmt 0 view .LVU1289
 3572 0010 2E49     		ldr	r1, .L209+8
 3573 0012 0B60     		str	r3, [r1]
1170:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3574              		.loc 1 1170 3 is_stmt 1 view .LVU1290
1170:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3575              		.loc 1 1170 15 is_stmt 0 view .LVU1291
 3576 0014 2E49     		ldr	r1, .L209+12
 3577 0016 CB62     		str	r3, [r1, #44]
1173:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3578              		.loc 1 1173 3 is_stmt 1 view .LVU1292
1173:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3579              		.loc 1 1173 16 is_stmt 0 view .LVU1293
 3580 0018 2E4B     		ldr	r3, .L209+16
 3581 001a 1B68     		ldr	r3, [r3]
1173:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3582              		.loc 1 1173 6 view .LVU1294
 3583 001c 022B     		cmp	r3, #2
 3584 001e 3ED0     		beq	.L207
 3585              	.LVL311:
 3586              	.L201:
1180:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3587              		.loc 1 1180 3 is_stmt 1 view .LVU1295
 3588 0020 1646     		mov	r6, r2
 3589 0022 2D4B     		ldr	r3, .L209+20
 3590 0024 1B68     		ldr	r3, [r3]
 3591 0026 9A42     		cmp	r2, r3
 3592 0028 17D0     		beq	.L202
1180:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3593              		.loc 1 1180 3 discriminator 1 view .LVU1296
 3594 002a 12B9     		cbnz	r2, .L203
1180:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3595              		.loc 1 1180 3 is_stmt 0 discriminator 3 view .LVU1297
 3596 002c 531E     		subs	r3, r2, #1
 3597 002e 1A42     		tst	r2, r3
 3598 0030 46D1     		bne	.L205
 3599              	.L203:
1180:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3600              		.loc 1 1180 3 is_stmt 1 discriminator 6 view .LVU1298
 3601 0032 2A48     		ldr	r0, .L209+24
 3602              	.LVL312:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 129


1180:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3603              		.loc 1 1180 3 is_stmt 0 discriminator 6 view .LVU1299
 3604 0034 0660     		str	r6, [r0]
1180:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3605              		.loc 1 1180 3 is_stmt 1 discriminator 6 view .LVU1300
 3606 0036 1027     		movs	r7, #16
 3607 0038 4760     		str	r7, [r0, #4]
1180:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3608              		.loc 1 1180 3 discriminator 6 view .LVU1301
 3609 003a 4023     		movs	r3, #64
 3610 003c 8360     		str	r3, [r0, #8]
1180:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3611              		.loc 1 1180 3 discriminator 6 view .LVU1302
 3612 003e 0023     		movs	r3, #0
 3613 0040 C360     		str	r3, [r0, #12]
1180:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3614              		.loc 1 1180 3 discriminator 6 view .LVU1303
 3615 0042 4FF48063 		mov	r3, #1024
 3616 0046 0361     		str	r3, [r0, #16]
1180:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3617              		.loc 1 1180 3 discriminator 6 view .LVU1304
 3618 0048 FFF7FEFF 		bl	SDIO_SendCommand
 3619              	.LVL313:
1180:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3620              		.loc 1 1180 3 discriminator 6 view .LVU1305
 3621 004c 3846     		mov	r0, r7
 3622 004e FFF7FEFF 		bl	CmdResp1Error
 3623              	.LVL314:
1180:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3624              		.loc 1 1180 3 discriminator 6 view .LVU1306
 3625 0052 0746     		mov	r7, r0
 3626 0054 08BB     		cbnz	r0, .L204
1180:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3627              		.loc 1 1180 3 discriminator 8 view .LVU1307
 3628 0056 204B     		ldr	r3, .L209+20
 3629 0058 1E60     		str	r6, [r3]
 3630              	.LVL315:
 3631              	.L202:
1180:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3632              		.loc 1 1180 32 discriminator 9 view .LVU1308
1182:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = BlockSize;
 3633              		.loc 1 1182 3 discriminator 9 view .LVU1309
1182:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = BlockSize;
 3634              		.loc 1 1182 43 is_stmt 0 discriminator 9 view .LVU1310
 3635 005a 2148     		ldr	r0, .L209+28
 3636 005c 4FF0FF33 		mov	r3, #-1
 3637 0060 0360     		str	r3, [r0]
1183:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 3638              		.loc 1 1183 3 is_stmt 1 discriminator 9 view .LVU1311
1183:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 3639              		.loc 1 1183 42 is_stmt 0 discriminator 9 view .LVU1312
 3640 0062 4660     		str	r6, [r0, #4]
1184:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
 3641              		.loc 1 1184 3 is_stmt 1 discriminator 9 view .LVU1313
1184:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
 3642              		.loc 1 1184 45 is_stmt 0 discriminator 9 view .LVU1314
 3643 0064 9023     		movs	r3, #144
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 130


 3644 0066 8360     		str	r3, [r0, #8]
1185:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 3645              		.loc 1 1185 3 is_stmt 1 discriminator 9 view .LVU1315
1185:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 3646              		.loc 1 1185 43 is_stmt 0 discriminator 9 view .LVU1316
 3647 0068 0223     		movs	r3, #2
 3648 006a C360     		str	r3, [r0, #12]
1186:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 3649              		.loc 1 1186 3 is_stmt 1 discriminator 9 view .LVU1317
1186:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 3650              		.loc 1 1186 44 is_stmt 0 discriminator 9 view .LVU1318
 3651 006c 0027     		movs	r7, #0
 3652 006e 0761     		str	r7, [r0, #16]
1187:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 3653              		.loc 1 1187 3 is_stmt 1 discriminator 9 view .LVU1319
1187:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 3654              		.loc 1 1187 36 is_stmt 0 discriminator 9 view .LVU1320
 3655 0070 0123     		movs	r3, #1
 3656 0072 4361     		str	r3, [r0, #20]
1188:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3657              		.loc 1 1188 3 is_stmt 1 discriminator 9 view .LVU1321
 3658 0074 FFF7FEFF 		bl	SDIO_DataConfig
 3659              	.LVL316:
1191:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_READ_SINGLE_BLOCK;
 3660              		.loc 1 1191 3 discriminator 9 view .LVU1322
1191:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_READ_SINGLE_BLOCK;
 3661              		.loc 1 1191 39 is_stmt 0 discriminator 9 view .LVU1323
 3662 0078 1848     		ldr	r0, .L209+24
 3663 007a 0460     		str	r4, [r0]
1192:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3664              		.loc 1 1192 3 is_stmt 1 discriminator 9 view .LVU1324
1192:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3665              		.loc 1 1192 39 is_stmt 0 discriminator 9 view .LVU1325
 3666 007c 1124     		movs	r4, #17
 3667              	.LVL317:
1192:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3668              		.loc 1 1192 39 discriminator 9 view .LVU1326
 3669 007e 4460     		str	r4, [r0, #4]
1193:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3670              		.loc 1 1193 3 is_stmt 1 discriminator 9 view .LVU1327
1193:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3671              		.loc 1 1193 39 is_stmt 0 discriminator 9 view .LVU1328
 3672 0080 4023     		movs	r3, #64
 3673 0082 8360     		str	r3, [r0, #8]
1194:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3674              		.loc 1 1194 3 is_stmt 1 discriminator 9 view .LVU1329
1194:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3675              		.loc 1 1194 35 is_stmt 0 discriminator 9 view .LVU1330
 3676 0084 C760     		str	r7, [r0, #12]
1195:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 3677              		.loc 1 1195 3 is_stmt 1 discriminator 9 view .LVU1331
1195:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 3678              		.loc 1 1195 35 is_stmt 0 discriminator 9 view .LVU1332
 3679 0086 4FF48063 		mov	r3, #1024
 3680 008a 0361     		str	r3, [r0, #16]
1196:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3681              		.loc 1 1196 3 is_stmt 1 discriminator 9 view .LVU1333
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 131


 3682 008c FFF7FEFF 		bl	SDIO_SendCommand
 3683              	.LVL318:
1198:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3684              		.loc 1 1198 3 discriminator 9 view .LVU1334
1198:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3685              		.loc 1 1198 17 is_stmt 0 discriminator 9 view .LVU1335
 3686 0090 2046     		mov	r0, r4
 3687 0092 FFF7FEFF 		bl	CmdResp1Error
 3688              	.LVL319:
1200:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3689              		.loc 1 1200 3 is_stmt 1 discriminator 9 view .LVU1336
1200:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3690              		.loc 1 1200 6 is_stmt 0 discriminator 9 view .LVU1337
 3691 0096 0746     		mov	r7, r0
 3692 0098 28B1     		cbz	r0, .L208
 3693              	.LVL320:
 3694              	.L204:
1260:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3695              		.loc 1 1260 1 view .LVU1338
 3696 009a 3846     		mov	r0, r7
 3697 009c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3698              	.LVL321:
 3699              	.L207:
1175:HW/SDCard/stm32_eval_sdio_sd.c ****     ReadAddr /= 512;
 3700              		.loc 1 1175 5 is_stmt 1 view .LVU1339
1176:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 3701              		.loc 1 1176 5 view .LVU1340
1176:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 3702              		.loc 1 1176 14 is_stmt 0 view .LVU1341
 3703 009e 640A     		lsrs	r4, r4, #9
 3704              	.LVL322:
1175:HW/SDCard/stm32_eval_sdio_sd.c ****     ReadAddr /= 512;
 3705              		.loc 1 1175 15 view .LVU1342
 3706 00a0 4FF40072 		mov	r2, #512
 3707 00a4 BCE7     		b	.L201
 3708              	.LVL323:
 3709              	.L208:
1254:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_DMACmd(ENABLE);
 3710              		.loc 1 1254 5 is_stmt 1 view .LVU1343
 3711 00a6 0121     		movs	r1, #1
 3712 00a8 4FF48070 		mov	r0, #256
 3713              	.LVL324:
1254:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_DMACmd(ENABLE);
 3714              		.loc 1 1254 5 is_stmt 0 view .LVU1344
 3715 00ac FFF7FEFF 		bl	SDIO_ITConfig
 3716              	.LVL325:
1255:HW/SDCard/stm32_eval_sdio_sd.c ****     SD_LowLevel_DMA_RxConfig((uint32_t *)readbuff, BlockSize);
 3717              		.loc 1 1255 5 is_stmt 1 view .LVU1345
 3718 00b0 0120     		movs	r0, #1
 3719 00b2 FFF7FEFF 		bl	SDIO_DMACmd
 3720              	.LVL326:
1256:HW/SDCard/stm32_eval_sdio_sd.c **** #endif
 3721              		.loc 1 1256 5 view .LVU1346
 3722 00b6 3146     		mov	r1, r6
 3723 00b8 2846     		mov	r0, r5
 3724 00ba FFF7FEFF 		bl	SD_LowLevel_DMA_RxConfig
 3725              	.LVL327:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 132


1259:HW/SDCard/stm32_eval_sdio_sd.c **** }
 3726              		.loc 1 1259 3 view .LVU1347
1259:HW/SDCard/stm32_eval_sdio_sd.c **** }
 3727              		.loc 1 1259 9 is_stmt 0 view .LVU1348
 3728 00be ECE7     		b	.L204
 3729              	.LVL328:
 3730              	.L205:
1180:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3731              		.loc 1 1180 3 view .LVU1349
 3732 00c0 2627     		movs	r7, #38
 3733 00c2 EAE7     		b	.L204
 3734              	.L210:
 3735              		.align	2
 3736              	.L209:
 3737 00c4 00000000 		.word	TransferError
 3738 00c8 00000000 		.word	TransferEnd
 3739 00cc 00000000 		.word	StopCondition
 3740 00d0 00800140 		.word	1073840128
 3741 00d4 00000000 		.word	CardType
 3742 00d8 00000000 		.word	SD_BlockSize
 3743 00dc 00000000 		.word	SDIO_CmdInitStructure
 3744 00e0 00000000 		.word	SDIO_DataInitStructure
 3745              		.cfi_endproc
 3746              	.LFE48:
 3748              		.section	.text.SD_ReadMultiBlocks,"ax",%progbits
 3749              		.align	1
 3750              		.global	SD_ReadMultiBlocks
 3751              		.syntax unified
 3752              		.thumb
 3753              		.thumb_func
 3755              	SD_ReadMultiBlocks:
 3756              	.LVL329:
 3757              	.LFB49:
1278:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 3758              		.loc 1 1278 1 is_stmt 1 view -0
 3759              		.cfi_startproc
 3760              		@ args = 0, pretend = 0, frame = 0
 3761              		@ frame_needed = 0, uses_anonymous_args = 0
1278:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 3762              		.loc 1 1278 1 is_stmt 0 view .LVU1351
 3763 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3764              	.LCFI42:
 3765              		.cfi_def_cfa_offset 24
 3766              		.cfi_offset 4, -24
 3767              		.cfi_offset 5, -20
 3768              		.cfi_offset 6, -16
 3769              		.cfi_offset 7, -12
 3770              		.cfi_offset 8, -8
 3771              		.cfi_offset 14, -4
 3772 0004 0646     		mov	r6, r0
 3773 0006 0D46     		mov	r5, r1
 3774 0008 1F46     		mov	r7, r3
1279:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferError = SD_OK;
 3775              		.loc 1 1279 3 is_stmt 1 view .LVU1352
 3776              	.LVL330:
1280:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 0;
 3777              		.loc 1 1280 3 view .LVU1353
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 133


1280:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 0;
 3778              		.loc 1 1280 17 is_stmt 0 view .LVU1354
 3779 000a 0024     		movs	r4, #0
 3780 000c 324B     		ldr	r3, .L220
 3781              	.LVL331:
1280:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 0;
 3782              		.loc 1 1280 17 view .LVU1355
 3783 000e 1C70     		strb	r4, [r3]
1281:HW/SDCard/stm32_eval_sdio_sd.c ****   StopCondition = 1;
 3784              		.loc 1 1281 3 is_stmt 1 view .LVU1356
1281:HW/SDCard/stm32_eval_sdio_sd.c ****   StopCondition = 1;
 3785              		.loc 1 1281 15 is_stmt 0 view .LVU1357
 3786 0010 324B     		ldr	r3, .L220+4
 3787 0012 1C60     		str	r4, [r3]
1282:HW/SDCard/stm32_eval_sdio_sd.c **** 	
 3788              		.loc 1 1282 3 is_stmt 1 view .LVU1358
1282:HW/SDCard/stm32_eval_sdio_sd.c **** 	
 3789              		.loc 1 1282 17 is_stmt 0 view .LVU1359
 3790 0014 324B     		ldr	r3, .L220+8
 3791 0016 0121     		movs	r1, #1
 3792              	.LVL332:
1282:HW/SDCard/stm32_eval_sdio_sd.c **** 	
 3793              		.loc 1 1282 17 view .LVU1360
 3794 0018 1960     		str	r1, [r3]
1284:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3795              		.loc 1 1284 3 is_stmt 1 view .LVU1361
1284:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3796              		.loc 1 1284 15 is_stmt 0 view .LVU1362
 3797 001a 324B     		ldr	r3, .L220+12
 3798 001c DC62     		str	r4, [r3, #44]
1286:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3799              		.loc 1 1286 3 is_stmt 1 view .LVU1363
1286:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3800              		.loc 1 1286 16 is_stmt 0 view .LVU1364
 3801 001e 324B     		ldr	r3, .L220+16
 3802 0020 1B68     		ldr	r3, [r3]
1286:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3803              		.loc 1 1286 6 view .LVU1365
 3804 0022 022B     		cmp	r3, #2
 3805 0024 43D0     		beq	.L218
 3806              	.LVL333:
 3807              	.L212:
1293:HW/SDCard/stm32_eval_sdio_sd.c ****     
 3808              		.loc 1 1293 3 is_stmt 1 view .LVU1366
 3809 0026 1446     		mov	r4, r2
 3810 0028 304B     		ldr	r3, .L220+20
 3811 002a 1B68     		ldr	r3, [r3]
 3812 002c 9A42     		cmp	r2, r3
 3813 002e 19D0     		beq	.L213
1293:HW/SDCard/stm32_eval_sdio_sd.c ****     
 3814              		.loc 1 1293 3 discriminator 1 view .LVU1367
 3815 0030 12B9     		cbnz	r2, .L214
1293:HW/SDCard/stm32_eval_sdio_sd.c ****     
 3816              		.loc 1 1293 3 is_stmt 0 discriminator 3 view .LVU1368
 3817 0032 531E     		subs	r3, r2, #1
 3818 0034 1A42     		tst	r2, r3
 3819 0036 4BD1     		bne	.L216
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 134


 3820              	.L214:
1293:HW/SDCard/stm32_eval_sdio_sd.c ****     
 3821              		.loc 1 1293 3 is_stmt 1 discriminator 6 view .LVU1369
 3822 0038 2D48     		ldr	r0, .L220+24
 3823              	.LVL334:
1293:HW/SDCard/stm32_eval_sdio_sd.c ****     
 3824              		.loc 1 1293 3 is_stmt 0 discriminator 6 view .LVU1370
 3825 003a 0460     		str	r4, [r0]
1293:HW/SDCard/stm32_eval_sdio_sd.c ****     
 3826              		.loc 1 1293 3 is_stmt 1 discriminator 6 view .LVU1371
 3827 003c 4FF01008 		mov	r8, #16
 3828 0040 C0F80480 		str	r8, [r0, #4]
1293:HW/SDCard/stm32_eval_sdio_sd.c ****     
 3829              		.loc 1 1293 3 discriminator 6 view .LVU1372
 3830 0044 4023     		movs	r3, #64
 3831 0046 8360     		str	r3, [r0, #8]
1293:HW/SDCard/stm32_eval_sdio_sd.c ****     
 3832              		.loc 1 1293 3 discriminator 6 view .LVU1373
 3833 0048 0023     		movs	r3, #0
 3834 004a C360     		str	r3, [r0, #12]
1293:HW/SDCard/stm32_eval_sdio_sd.c ****     
 3835              		.loc 1 1293 3 discriminator 6 view .LVU1374
 3836 004c 4FF48063 		mov	r3, #1024
 3837 0050 0361     		str	r3, [r0, #16]
1293:HW/SDCard/stm32_eval_sdio_sd.c ****     
 3838              		.loc 1 1293 3 discriminator 6 view .LVU1375
 3839 0052 FFF7FEFF 		bl	SDIO_SendCommand
 3840              	.LVL335:
1293:HW/SDCard/stm32_eval_sdio_sd.c ****     
 3841              		.loc 1 1293 3 discriminator 6 view .LVU1376
 3842 0056 4046     		mov	r0, r8
 3843 0058 FFF7FEFF 		bl	CmdResp1Error
 3844              	.LVL336:
1293:HW/SDCard/stm32_eval_sdio_sd.c ****     
 3845              		.loc 1 1293 3 discriminator 6 view .LVU1377
 3846 005c 8046     		mov	r8, r0
 3847 005e 18BB     		cbnz	r0, .L215
1293:HW/SDCard/stm32_eval_sdio_sd.c ****     
 3848              		.loc 1 1293 3 discriminator 8 view .LVU1378
 3849 0060 224B     		ldr	r3, .L220+20
 3850 0062 1C60     		str	r4, [r3]
 3851              	.LVL337:
 3852              	.L213:
1293:HW/SDCard/stm32_eval_sdio_sd.c ****     
 3853              		.loc 1 1293 32 discriminator 9 view .LVU1379
1295:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = NumberOfBlocks * BlockSize;
 3854              		.loc 1 1295 3 discriminator 9 view .LVU1380
1295:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = NumberOfBlocks * BlockSize;
 3855              		.loc 1 1295 43 is_stmt 0 discriminator 9 view .LVU1381
 3856 0064 2348     		ldr	r0, .L220+28
 3857 0066 4FF0FF33 		mov	r3, #-1
 3858 006a 0360     		str	r3, [r0]
1296:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 3859              		.loc 1 1296 3 is_stmt 1 discriminator 9 view .LVU1382
1296:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 3860              		.loc 1 1296 59 is_stmt 0 discriminator 9 view .LVU1383
 3861 006c 07FB04F4 		mul	r4, r7, r4
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 135


1296:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 3862              		.loc 1 1296 42 discriminator 9 view .LVU1384
 3863 0070 4460     		str	r4, [r0, #4]
1297:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
 3864              		.loc 1 1297 3 is_stmt 1 discriminator 9 view .LVU1385
1297:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
 3865              		.loc 1 1297 45 is_stmt 0 discriminator 9 view .LVU1386
 3866 0072 9023     		movs	r3, #144
 3867 0074 8360     		str	r3, [r0, #8]
1298:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 3868              		.loc 1 1298 3 is_stmt 1 discriminator 9 view .LVU1387
1298:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 3869              		.loc 1 1298 43 is_stmt 0 discriminator 9 view .LVU1388
 3870 0076 0223     		movs	r3, #2
 3871 0078 C360     		str	r3, [r0, #12]
1299:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 3872              		.loc 1 1299 3 is_stmt 1 discriminator 9 view .LVU1389
1299:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 3873              		.loc 1 1299 44 is_stmt 0 discriminator 9 view .LVU1390
 3874 007a 0027     		movs	r7, #0
 3875              	.LVL338:
1299:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 3876              		.loc 1 1299 44 discriminator 9 view .LVU1391
 3877 007c 0761     		str	r7, [r0, #16]
1300:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 3878              		.loc 1 1300 3 is_stmt 1 discriminator 9 view .LVU1392
1300:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 3879              		.loc 1 1300 36 is_stmt 0 discriminator 9 view .LVU1393
 3880 007e 0123     		movs	r3, #1
 3881 0080 4361     		str	r3, [r0, #20]
1301:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3882              		.loc 1 1301 3 is_stmt 1 discriminator 9 view .LVU1394
 3883 0082 FFF7FEFF 		bl	SDIO_DataConfig
 3884              	.LVL339:
1304:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_READ_MULT_BLOCK;
 3885              		.loc 1 1304 3 discriminator 9 view .LVU1395
1304:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_READ_MULT_BLOCK;
 3886              		.loc 1 1304 39 is_stmt 0 discriminator 9 view .LVU1396
 3887 0086 1A48     		ldr	r0, .L220+24
 3888 0088 0560     		str	r5, [r0]
1305:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3889              		.loc 1 1305 3 is_stmt 1 discriminator 9 view .LVU1397
1305:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3890              		.loc 1 1305 39 is_stmt 0 discriminator 9 view .LVU1398
 3891 008a 1225     		movs	r5, #18
 3892              	.LVL340:
1305:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 3893              		.loc 1 1305 39 discriminator 9 view .LVU1399
 3894 008c 4560     		str	r5, [r0, #4]
1306:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3895              		.loc 1 1306 3 is_stmt 1 discriminator 9 view .LVU1400
1306:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 3896              		.loc 1 1306 39 is_stmt 0 discriminator 9 view .LVU1401
 3897 008e 4023     		movs	r3, #64
 3898 0090 8360     		str	r3, [r0, #8]
1307:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3899              		.loc 1 1307 3 is_stmt 1 discriminator 9 view .LVU1402
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 136


1307:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 3900              		.loc 1 1307 35 is_stmt 0 discriminator 9 view .LVU1403
 3901 0092 C760     		str	r7, [r0, #12]
1308:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 3902              		.loc 1 1308 3 is_stmt 1 discriminator 9 view .LVU1404
1308:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 3903              		.loc 1 1308 35 is_stmt 0 discriminator 9 view .LVU1405
 3904 0094 4FF48063 		mov	r3, #1024
 3905 0098 0361     		str	r3, [r0, #16]
1309:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3906              		.loc 1 1309 3 is_stmt 1 discriminator 9 view .LVU1406
 3907 009a FFF7FEFF 		bl	SDIO_SendCommand
 3908              	.LVL341:
1311:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3909              		.loc 1 1311 3 discriminator 9 view .LVU1407
1311:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3910              		.loc 1 1311 17 is_stmt 0 discriminator 9 view .LVU1408
 3911 009e 2846     		mov	r0, r5
 3912 00a0 FFF7FEFF 		bl	CmdResp1Error
 3913              	.LVL342:
1313:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3914              		.loc 1 1313 3 is_stmt 1 discriminator 9 view .LVU1409
1313:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 3915              		.loc 1 1313 6 is_stmt 0 discriminator 9 view .LVU1410
 3916 00a4 8046     		mov	r8, r0
 3917 00a6 30B1     		cbz	r0, .L219
 3918              	.LVL343:
 3919              	.L215:
1323:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3920              		.loc 1 1323 1 view .LVU1411
 3921 00a8 4046     		mov	r0, r8
 3922 00aa BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3923              	.LVL344:
 3924              	.L218:
1288:HW/SDCard/stm32_eval_sdio_sd.c ****     ReadAddr /= 512;
 3925              		.loc 1 1288 5 is_stmt 1 view .LVU1412
1289:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 3926              		.loc 1 1289 5 view .LVU1413
1289:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 3927              		.loc 1 1289 14 is_stmt 0 view .LVU1414
 3928 00ae 6D0A     		lsrs	r5, r5, #9
 3929              	.LVL345:
1288:HW/SDCard/stm32_eval_sdio_sd.c ****     ReadAddr /= 512;
 3930              		.loc 1 1288 15 view .LVU1415
 3931 00b0 4FF40072 		mov	r2, #512
 3932 00b4 B7E7     		b	.L212
 3933              	.LVL346:
 3934              	.L219:
1318:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DMACmd(ENABLE);
 3935              		.loc 1 1318 3 is_stmt 1 view .LVU1416
 3936 00b6 0121     		movs	r1, #1
 3937 00b8 4FF48070 		mov	r0, #256
 3938              	.LVL347:
1318:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DMACmd(ENABLE);
 3939              		.loc 1 1318 3 is_stmt 0 view .LVU1417
 3940 00bc FFF7FEFF 		bl	SDIO_ITConfig
 3941              	.LVL348:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 137


1319:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_LowLevel_DMA_RxConfig((uint32_t *)readbuff, (NumberOfBlocks * BlockSize));
 3942              		.loc 1 1319 3 is_stmt 1 view .LVU1418
 3943 00c0 0120     		movs	r0, #1
 3944 00c2 FFF7FEFF 		bl	SDIO_DMACmd
 3945              	.LVL349:
1320:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3946              		.loc 1 1320 3 view .LVU1419
 3947 00c6 2146     		mov	r1, r4
 3948 00c8 3046     		mov	r0, r6
 3949 00ca FFF7FEFF 		bl	SD_LowLevel_DMA_RxConfig
 3950              	.LVL350:
1322:HW/SDCard/stm32_eval_sdio_sd.c **** }
 3951              		.loc 1 1322 3 view .LVU1420
1322:HW/SDCard/stm32_eval_sdio_sd.c **** }
 3952              		.loc 1 1322 9 is_stmt 0 view .LVU1421
 3953 00ce EBE7     		b	.L215
 3954              	.LVL351:
 3955              	.L216:
1293:HW/SDCard/stm32_eval_sdio_sd.c ****     
 3956              		.loc 1 1293 3 view .LVU1422
 3957 00d0 4FF02608 		mov	r8, #38
 3958 00d4 E8E7     		b	.L215
 3959              	.L221:
 3960 00d6 00BF     		.align	2
 3961              	.L220:
 3962 00d8 00000000 		.word	TransferError
 3963 00dc 00000000 		.word	TransferEnd
 3964 00e0 00000000 		.word	StopCondition
 3965 00e4 00800140 		.word	1073840128
 3966 00e8 00000000 		.word	CardType
 3967 00ec 00000000 		.word	SD_BlockSize
 3968 00f0 00000000 		.word	SDIO_CmdInitStructure
 3969 00f4 00000000 		.word	SDIO_DataInitStructure
 3970              		.cfi_endproc
 3971              	.LFE49:
 3973              		.section	.text.SD_WaitReadOperation,"ax",%progbits
 3974              		.align	1
 3975              		.global	SD_WaitReadOperation
 3976              		.syntax unified
 3977              		.thumb
 3978              		.thumb_func
 3980              	SD_WaitReadOperation:
 3981              	.LFB50:
1334:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 3982              		.loc 1 1334 1 is_stmt 1 view -0
 3983              		.cfi_startproc
 3984              		@ args = 0, pretend = 0, frame = 0
 3985              		@ frame_needed = 0, uses_anonymous_args = 0
 3986 0000 08B5     		push	{r3, lr}
 3987              	.LCFI43:
 3988              		.cfi_def_cfa_offset 8
 3989              		.cfi_offset 3, -8
 3990              		.cfi_offset 14, -4
 3991              	.L224:
1338:HW/SDCard/stm32_eval_sdio_sd.c **** 
 3992              		.loc 1 1338 4 discriminator 3 view .LVU1424
1337:HW/SDCard/stm32_eval_sdio_sd.c ****   {}
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 138


 3993              		.loc 1 1337 71 discriminator 3 view .LVU1425
 3994              	.LBB6:
 3995              	.LBI6:
 130:HW/SDCard/SDCard_eval.h **** 
 131:HW/SDCard/SDCard_eval.h **** /**
 132:HW/SDCard/SDCard_eval.h ****  * @brief Êü•ËØ¢DMA‰º†ËæìÁä∂ÊÄÅ
 133:HW/SDCard/SDCard_eval.h ****  * @return DMA‰º†ËæìÁä∂ÊÄÅ
 134:HW/SDCard/SDCard_eval.h ****  */
 135:HW/SDCard/SDCard_eval.h **** __inline FlagStatus SD_DMAEndOfTransferStatus(void){
 3996              		.loc 2 135 21 discriminator 3 view .LVU1426
 3997              	.LBB7:
 136:HW/SDCard/SDCard_eval.h ****   return DMA_GetFlagStatus(DMA2_FLAG_TC4);
 3998              		.loc 2 136 3 discriminator 3 view .LVU1427
 3999              		.loc 2 136 10 is_stmt 0 discriminator 3 view .LVU1428
 4000 0002 0A48     		ldr	r0, .L228
 4001 0004 FFF7FEFF 		bl	DMA_GetFlagStatus
 4002              	.LVL352:
 4003              	.LBE7:
 4004              	.LBE6:
1337:HW/SDCard/stm32_eval_sdio_sd.c ****   {}
 4005              		.loc 1 1337 71 discriminator 3 view .LVU1429
 4006 0008 30B9     		cbnz	r0, .L223
1337:HW/SDCard/stm32_eval_sdio_sd.c ****   {}
 4007              		.loc 1 1337 65 discriminator 1 view .LVU1430
 4008 000a 094B     		ldr	r3, .L228+4
 4009 000c 1B68     		ldr	r3, [r3]
1337:HW/SDCard/stm32_eval_sdio_sd.c ****   {}
 4010              		.loc 1 1337 49 discriminator 1 view .LVU1431
 4011 000e 1BB9     		cbnz	r3, .L223
1337:HW/SDCard/stm32_eval_sdio_sd.c ****   {}
 4012              		.loc 1 1337 89 discriminator 2 view .LVU1432
 4013 0010 084B     		ldr	r3, .L228+8
 4014 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1337:HW/SDCard/stm32_eval_sdio_sd.c ****   {}
 4015              		.loc 1 1337 71 discriminator 2 view .LVU1433
 4016 0014 002B     		cmp	r3, #0
 4017 0016 F4D0     		beq	.L224
 4018              	.L223:
1340:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4019              		.loc 1 1340 3 is_stmt 1 view .LVU1434
1340:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4020              		.loc 1 1340 21 is_stmt 0 view .LVU1435
 4021 0018 064B     		ldr	r3, .L228+8
 4022 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1340:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4023              		.loc 1 1340 6 view .LVU1436
 4024 001c 03F0FF00 		and	r0, r3, #255
 4025 0020 03B9     		cbnz	r3, .L227
 4026              	.L225:
1346:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4027              		.loc 1 1346 1 view .LVU1437
 4028 0022 08BD     		pop	{r3, pc}
 4029              	.L227:
1342:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4030              		.loc 1 1342 5 is_stmt 1 view .LVU1438
1342:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4031              		.loc 1 1342 11 is_stmt 0 view .LVU1439
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 139


 4032 0024 034B     		ldr	r3, .L228+8
 4033 0026 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 4034 0028 C0B2     		uxtb	r0, r0
 4035 002a FAE7     		b	.L225
 4036              	.L229:
 4037              		.align	2
 4038              	.L228:
 4039 002c 00200010 		.word	268443648
 4040 0030 00000000 		.word	TransferEnd
 4041 0034 00000000 		.word	TransferError
 4042              		.cfi_endproc
 4043              	.LFE50:
 4045              		.section	.text.SD_WriteBlock,"ax",%progbits
 4046              		.align	1
 4047              		.global	SD_WriteBlock
 4048              		.syntax unified
 4049              		.thumb
 4050              		.thumb_func
 4052              	SD_WriteBlock:
 4053              	.LVL353:
 4054              	.LFB51:
1363:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 4055              		.loc 1 1363 1 is_stmt 1 view -0
 4056              		.cfi_startproc
 4057              		@ args = 0, pretend = 0, frame = 0
 4058              		@ frame_needed = 0, uses_anonymous_args = 0
1363:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 4059              		.loc 1 1363 1 is_stmt 0 view .LVU1441
 4060 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4061              	.LCFI44:
 4062              		.cfi_def_cfa_offset 24
 4063              		.cfi_offset 3, -24
 4064              		.cfi_offset 4, -20
 4065              		.cfi_offset 5, -16
 4066              		.cfi_offset 6, -12
 4067              		.cfi_offset 7, -8
 4068              		.cfi_offset 14, -4
 4069 0002 0546     		mov	r5, r0
 4070 0004 0C46     		mov	r4, r1
1364:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4071              		.loc 1 1364 3 is_stmt 1 view .LVU1442
 4072              	.LVL354:
1371:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 0;
 4073              		.loc 1 1371 3 view .LVU1443
1371:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 0;
 4074              		.loc 1 1371 17 is_stmt 0 view .LVU1444
 4075 0006 0023     		movs	r3, #0
 4076 0008 2E49     		ldr	r1, .L239
 4077              	.LVL355:
1371:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 0;
 4078              		.loc 1 1371 17 view .LVU1445
 4079 000a 0B70     		strb	r3, [r1]
1372:HW/SDCard/stm32_eval_sdio_sd.c ****   StopCondition = 0;
 4080              		.loc 1 1372 3 is_stmt 1 view .LVU1446
1372:HW/SDCard/stm32_eval_sdio_sd.c ****   StopCondition = 0;
 4081              		.loc 1 1372 15 is_stmt 0 view .LVU1447
 4082 000c 2E49     		ldr	r1, .L239+4
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 140


 4083 000e 0B60     		str	r3, [r1]
1373:HW/SDCard/stm32_eval_sdio_sd.c ****   
 4084              		.loc 1 1373 3 is_stmt 1 view .LVU1448
1373:HW/SDCard/stm32_eval_sdio_sd.c ****   
 4085              		.loc 1 1373 17 is_stmt 0 view .LVU1449
 4086 0010 2E49     		ldr	r1, .L239+8
 4087 0012 0B60     		str	r3, [r1]
1375:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4088              		.loc 1 1375 3 is_stmt 1 view .LVU1450
1375:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4089              		.loc 1 1375 15 is_stmt 0 view .LVU1451
 4090 0014 2E49     		ldr	r1, .L239+12
 4091 0016 CB62     		str	r3, [r1, #44]
1378:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4092              		.loc 1 1378 3 is_stmt 1 view .LVU1452
1378:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4093              		.loc 1 1378 16 is_stmt 0 view .LVU1453
 4094 0018 2E4B     		ldr	r3, .L239+16
 4095 001a 1B68     		ldr	r3, [r3]
1378:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4096              		.loc 1 1378 6 view .LVU1454
 4097 001c 022B     		cmp	r3, #2
 4098 001e 30D0     		beq	.L237
 4099              	.LVL356:
 4100              	.L231:
1385:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4101              		.loc 1 1385 3 is_stmt 1 view .LVU1455
 4102 0020 1646     		mov	r6, r2
 4103 0022 2D4B     		ldr	r3, .L239+20
 4104 0024 1B68     		ldr	r3, [r3]
 4105 0026 9A42     		cmp	r2, r3
 4106 0028 17D0     		beq	.L232
1385:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4107              		.loc 1 1385 3 discriminator 1 view .LVU1456
 4108 002a 12B9     		cbnz	r2, .L233
1385:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4109              		.loc 1 1385 3 is_stmt 0 discriminator 3 view .LVU1457
 4110 002c 531E     		subs	r3, r2, #1
 4111 002e 1A42     		tst	r2, r3
 4112 0030 46D1     		bne	.L235
 4113              	.L233:
1385:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4114              		.loc 1 1385 3 is_stmt 1 discriminator 6 view .LVU1458
 4115 0032 2A48     		ldr	r0, .L239+24
 4116              	.LVL357:
1385:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4117              		.loc 1 1385 3 is_stmt 0 discriminator 6 view .LVU1459
 4118 0034 0660     		str	r6, [r0]
1385:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4119              		.loc 1 1385 3 is_stmt 1 discriminator 6 view .LVU1460
 4120 0036 1027     		movs	r7, #16
 4121 0038 4760     		str	r7, [r0, #4]
1385:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4122              		.loc 1 1385 3 discriminator 6 view .LVU1461
 4123 003a 4023     		movs	r3, #64
 4124 003c 8360     		str	r3, [r0, #8]
1385:HW/SDCard/stm32_eval_sdio_sd.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 141


 4125              		.loc 1 1385 3 discriminator 6 view .LVU1462
 4126 003e 0023     		movs	r3, #0
 4127 0040 C360     		str	r3, [r0, #12]
1385:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4128              		.loc 1 1385 3 discriminator 6 view .LVU1463
 4129 0042 4FF48063 		mov	r3, #1024
 4130 0046 0361     		str	r3, [r0, #16]
1385:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4131              		.loc 1 1385 3 discriminator 6 view .LVU1464
 4132 0048 FFF7FEFF 		bl	SDIO_SendCommand
 4133              	.LVL358:
1385:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4134              		.loc 1 1385 3 discriminator 6 view .LVU1465
 4135 004c 3846     		mov	r0, r7
 4136 004e FFF7FEFF 		bl	CmdResp1Error
 4137              	.LVL359:
1385:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4138              		.loc 1 1385 3 discriminator 6 view .LVU1466
 4139 0052 0746     		mov	r7, r0
 4140 0054 98B9     		cbnz	r0, .L234
1385:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4141              		.loc 1 1385 3 discriminator 8 view .LVU1467
 4142 0056 204B     		ldr	r3, .L239+20
 4143 0058 1E60     		str	r6, [r3]
 4144              	.LVL360:
 4145              	.L232:
1385:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4146              		.loc 1 1385 32 discriminator 9 view .LVU1468
1388:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_WRITE_SINGLE_BLOCK;
 4147              		.loc 1 1388 3 discriminator 9 view .LVU1469
1388:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_WRITE_SINGLE_BLOCK;
 4148              		.loc 1 1388 39 is_stmt 0 discriminator 9 view .LVU1470
 4149 005a 2048     		ldr	r0, .L239+24
 4150 005c 0460     		str	r4, [r0]
1389:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4151              		.loc 1 1389 3 is_stmt 1 discriminator 9 view .LVU1471
1389:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4152              		.loc 1 1389 39 is_stmt 0 discriminator 9 view .LVU1472
 4153 005e 1824     		movs	r4, #24
 4154              	.LVL361:
1389:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4155              		.loc 1 1389 39 discriminator 9 view .LVU1473
 4156 0060 4460     		str	r4, [r0, #4]
1390:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4157              		.loc 1 1390 3 is_stmt 1 discriminator 9 view .LVU1474
1390:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4158              		.loc 1 1390 39 is_stmt 0 discriminator 9 view .LVU1475
 4159 0062 4023     		movs	r3, #64
 4160 0064 8360     		str	r3, [r0, #8]
1391:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4161              		.loc 1 1391 3 is_stmt 1 discriminator 9 view .LVU1476
1391:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4162              		.loc 1 1391 35 is_stmt 0 discriminator 9 view .LVU1477
 4163 0066 0023     		movs	r3, #0
 4164 0068 C360     		str	r3, [r0, #12]
1392:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 4165              		.loc 1 1392 3 is_stmt 1 discriminator 9 view .LVU1478
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 142


1392:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 4166              		.loc 1 1392 35 is_stmt 0 discriminator 9 view .LVU1479
 4167 006a 4FF48063 		mov	r3, #1024
 4168 006e 0361     		str	r3, [r0, #16]
1393:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4169              		.loc 1 1393 3 is_stmt 1 discriminator 9 view .LVU1480
 4170 0070 FFF7FEFF 		bl	SDIO_SendCommand
 4171              	.LVL362:
1395:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4172              		.loc 1 1395 3 discriminator 9 view .LVU1481
1395:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4173              		.loc 1 1395 17 is_stmt 0 discriminator 9 view .LVU1482
 4174 0074 2046     		mov	r0, r4
 4175 0076 FFF7FEFF 		bl	CmdResp1Error
 4176              	.LVL363:
1397:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4177              		.loc 1 1397 3 is_stmt 1 discriminator 9 view .LVU1483
1397:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4178              		.loc 1 1397 6 is_stmt 0 discriminator 9 view .LVU1484
 4179 007a 0746     		mov	r7, r0
 4180 007c 28B1     		cbz	r0, .L238
 4181              	.LVL364:
 4182              	.L234:
1466:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4183              		.loc 1 1466 1 view .LVU1485
 4184 007e 3846     		mov	r0, r7
 4185 0080 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4186              	.LVL365:
 4187              	.L237:
1380:HW/SDCard/stm32_eval_sdio_sd.c ****     WriteAddr /= 512;
 4188              		.loc 1 1380 5 is_stmt 1 view .LVU1486
1381:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4189              		.loc 1 1381 5 view .LVU1487
1381:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4190              		.loc 1 1381 15 is_stmt 0 view .LVU1488
 4191 0082 640A     		lsrs	r4, r4, #9
 4192              	.LVL366:
1380:HW/SDCard/stm32_eval_sdio_sd.c ****     WriteAddr /= 512;
 4193              		.loc 1 1380 15 view .LVU1489
 4194 0084 4FF40072 		mov	r2, #512
 4195 0088 CAE7     		b	.L231
 4196              	.LVL367:
 4197              	.L238:
1402:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = BlockSize;
 4198              		.loc 1 1402 3 is_stmt 1 view .LVU1490
1402:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = BlockSize;
 4199              		.loc 1 1402 43 is_stmt 0 view .LVU1491
 4200 008a 1548     		ldr	r0, .L239+28
 4201              	.LVL368:
1402:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = BlockSize;
 4202              		.loc 1 1402 43 view .LVU1492
 4203 008c 4FF0FF33 		mov	r3, #-1
 4204 0090 0360     		str	r3, [r0]
1403:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 4205              		.loc 1 1403 3 is_stmt 1 view .LVU1493
1403:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 4206              		.loc 1 1403 42 is_stmt 0 view .LVU1494
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 143


 4207 0092 4660     		str	r6, [r0, #4]
1404:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToCard;
 4208              		.loc 1 1404 3 is_stmt 1 view .LVU1495
1404:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToCard;
 4209              		.loc 1 1404 45 is_stmt 0 view .LVU1496
 4210 0094 9023     		movs	r3, #144
 4211 0096 8360     		str	r3, [r0, #8]
1405:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 4212              		.loc 1 1405 3 is_stmt 1 view .LVU1497
1405:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 4213              		.loc 1 1405 43 is_stmt 0 view .LVU1498
 4214 0098 0023     		movs	r3, #0
 4215 009a C360     		str	r3, [r0, #12]
1406:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 4216              		.loc 1 1406 3 is_stmt 1 view .LVU1499
1406:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 4217              		.loc 1 1406 44 is_stmt 0 view .LVU1500
 4218 009c 0361     		str	r3, [r0, #16]
1407:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 4219              		.loc 1 1407 3 is_stmt 1 view .LVU1501
1407:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 4220              		.loc 1 1407 36 is_stmt 0 view .LVU1502
 4221 009e 0124     		movs	r4, #1
 4222 00a0 4461     		str	r4, [r0, #20]
1408:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4223              		.loc 1 1408 3 is_stmt 1 view .LVU1503
 4224 00a2 FFF7FEFF 		bl	SDIO_DataConfig
 4225              	.LVL369:
1460:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_LowLevel_DMA_TxConfig((uint32_t *)writebuff, BlockSize);
 4226              		.loc 1 1460 3 view .LVU1504
 4227 00a6 2146     		mov	r1, r4
 4228 00a8 4FF48070 		mov	r0, #256
 4229 00ac FFF7FEFF 		bl	SDIO_ITConfig
 4230              	.LVL370:
1461:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DMACmd(ENABLE);
 4231              		.loc 1 1461 3 view .LVU1505
 4232 00b0 3146     		mov	r1, r6
 4233 00b2 2846     		mov	r0, r5
 4234 00b4 FFF7FEFF 		bl	SD_LowLevel_DMA_TxConfig
 4235              	.LVL371:
1462:HW/SDCard/stm32_eval_sdio_sd.c **** #endif
 4236              		.loc 1 1462 3 view .LVU1506
 4237 00b8 2046     		mov	r0, r4
 4238 00ba FFF7FEFF 		bl	SDIO_DMACmd
 4239              	.LVL372:
1465:HW/SDCard/stm32_eval_sdio_sd.c **** }
 4240              		.loc 1 1465 3 view .LVU1507
1465:HW/SDCard/stm32_eval_sdio_sd.c **** }
 4241              		.loc 1 1465 9 is_stmt 0 view .LVU1508
 4242 00be DEE7     		b	.L234
 4243              	.LVL373:
 4244              	.L235:
1385:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4245              		.loc 1 1385 3 view .LVU1509
 4246 00c0 2627     		movs	r7, #38
 4247 00c2 DCE7     		b	.L234
 4248              	.L240:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 144


 4249              		.align	2
 4250              	.L239:
 4251 00c4 00000000 		.word	TransferError
 4252 00c8 00000000 		.word	TransferEnd
 4253 00cc 00000000 		.word	StopCondition
 4254 00d0 00800140 		.word	1073840128
 4255 00d4 00000000 		.word	CardType
 4256 00d8 00000000 		.word	SD_BlockSize
 4257 00dc 00000000 		.word	SDIO_CmdInitStructure
 4258 00e0 00000000 		.word	SDIO_DataInitStructure
 4259              		.cfi_endproc
 4260              	.LFE51:
 4262              		.section	.text.SD_WriteMultiBlocks,"ax",%progbits
 4263              		.align	1
 4264              		.global	SD_WriteMultiBlocks
 4265              		.syntax unified
 4266              		.thumb
 4267              		.thumb_func
 4269              	SD_WriteMultiBlocks:
 4270              	.LVL374:
 4271              	.LFB52:
1484:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 4272              		.loc 1 1484 1 is_stmt 1 view -0
 4273              		.cfi_startproc
 4274              		@ args = 0, pretend = 0, frame = 0
 4275              		@ frame_needed = 0, uses_anonymous_args = 0
1484:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 4276              		.loc 1 1484 1 is_stmt 0 view .LVU1511
 4277 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4278              	.LCFI45:
 4279              		.cfi_def_cfa_offset 24
 4280              		.cfi_offset 4, -24
 4281              		.cfi_offset 5, -20
 4282              		.cfi_offset 6, -16
 4283              		.cfi_offset 7, -12
 4284              		.cfi_offset 8, -8
 4285              		.cfi_offset 14, -4
 4286 0004 8046     		mov	r8, r0
 4287 0006 0D46     		mov	r5, r1
 4288 0008 1E46     		mov	r6, r3
1485:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4289              		.loc 1 1485 3 is_stmt 1 view .LVU1512
 4290              	.LVL375:
1487:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 0;
 4291              		.loc 1 1487 3 view .LVU1513
1487:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 0;
 4292              		.loc 1 1487 17 is_stmt 0 view .LVU1514
 4293 000a 0024     		movs	r4, #0
 4294 000c 454B     		ldr	r3, .L250
 4295              	.LVL376:
1487:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 0;
 4296              		.loc 1 1487 17 view .LVU1515
 4297 000e 1C70     		strb	r4, [r3]
1488:HW/SDCard/stm32_eval_sdio_sd.c ****   StopCondition = 1;
 4298              		.loc 1 1488 3 is_stmt 1 view .LVU1516
1488:HW/SDCard/stm32_eval_sdio_sd.c ****   StopCondition = 1;
 4299              		.loc 1 1488 15 is_stmt 0 view .LVU1517
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 145


 4300 0010 454B     		ldr	r3, .L250+4
 4301 0012 1C60     		str	r4, [r3]
1489:HW/SDCard/stm32_eval_sdio_sd.c ****   
 4302              		.loc 1 1489 3 is_stmt 1 view .LVU1518
1489:HW/SDCard/stm32_eval_sdio_sd.c ****   
 4303              		.loc 1 1489 17 is_stmt 0 view .LVU1519
 4304 0014 454B     		ldr	r3, .L250+8
 4305 0016 0121     		movs	r1, #1
 4306              	.LVL377:
1489:HW/SDCard/stm32_eval_sdio_sd.c ****   
 4307              		.loc 1 1489 17 view .LVU1520
 4308 0018 1960     		str	r1, [r3]
1491:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4309              		.loc 1 1491 3 is_stmt 1 view .LVU1521
1491:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4310              		.loc 1 1491 15 is_stmt 0 view .LVU1522
 4311 001a 454B     		ldr	r3, .L250+12
 4312 001c DC62     		str	r4, [r3, #44]
1493:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4313              		.loc 1 1493 3 is_stmt 1 view .LVU1523
1493:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4314              		.loc 1 1493 16 is_stmt 0 view .LVU1524
 4315 001e 454B     		ldr	r3, .L250+16
 4316 0020 1B68     		ldr	r3, [r3]
1493:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4317              		.loc 1 1493 6 view .LVU1525
 4318 0022 022B     		cmp	r3, #2
 4319 0024 34D0     		beq	.L248
 4320              	.LVL378:
 4321              	.L242:
1500:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4322              		.loc 1 1500 3 is_stmt 1 view .LVU1526
 4323 0026 1746     		mov	r7, r2
 4324 0028 434B     		ldr	r3, .L250+20
 4325 002a 1B68     		ldr	r3, [r3]
 4326 002c 9A42     		cmp	r2, r3
 4327 002e 17D0     		beq	.L243
1500:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4328              		.loc 1 1500 3 discriminator 1 view .LVU1527
 4329 0030 12B9     		cbnz	r2, .L244
1500:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4330              		.loc 1 1500 3 is_stmt 0 discriminator 3 view .LVU1528
 4331 0032 531E     		subs	r3, r2, #1
 4332 0034 1A42     		tst	r2, r3
 4333 0036 72D1     		bne	.L246
 4334              	.L244:
1500:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4335              		.loc 1 1500 3 is_stmt 1 discriminator 6 view .LVU1529
 4336 0038 4048     		ldr	r0, .L250+24
 4337              	.LVL379:
1500:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4338              		.loc 1 1500 3 is_stmt 0 discriminator 6 view .LVU1530
 4339 003a 0760     		str	r7, [r0]
1500:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4340              		.loc 1 1500 3 is_stmt 1 discriminator 6 view .LVU1531
 4341 003c 1024     		movs	r4, #16
 4342 003e 4460     		str	r4, [r0, #4]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 146


1500:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4343              		.loc 1 1500 3 discriminator 6 view .LVU1532
 4344 0040 4023     		movs	r3, #64
 4345 0042 8360     		str	r3, [r0, #8]
1500:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4346              		.loc 1 1500 3 discriminator 6 view .LVU1533
 4347 0044 0023     		movs	r3, #0
 4348 0046 C360     		str	r3, [r0, #12]
1500:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4349              		.loc 1 1500 3 discriminator 6 view .LVU1534
 4350 0048 4FF48063 		mov	r3, #1024
 4351 004c 0361     		str	r3, [r0, #16]
1500:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4352              		.loc 1 1500 3 discriminator 6 view .LVU1535
 4353 004e FFF7FEFF 		bl	SDIO_SendCommand
 4354              	.LVL380:
1500:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4355              		.loc 1 1500 3 discriminator 6 view .LVU1536
 4356 0052 2046     		mov	r0, r4
 4357 0054 FFF7FEFF 		bl	CmdResp1Error
 4358              	.LVL381:
1500:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4359              		.loc 1 1500 3 discriminator 6 view .LVU1537
 4360 0058 0446     		mov	r4, r0
 4361 005a B0B9     		cbnz	r0, .L245
1500:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4362              		.loc 1 1500 3 discriminator 8 view .LVU1538
 4363 005c 364B     		ldr	r3, .L250+20
 4364 005e 1F60     		str	r7, [r3]
 4365              	.LVL382:
 4366              	.L243:
1500:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4367              		.loc 1 1500 32 discriminator 9 view .LVU1539
1503:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 4368              		.loc 1 1503 3 discriminator 9 view .LVU1540
1503:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 4369              		.loc 1 1503 41 is_stmt 0 discriminator 9 view .LVU1541
 4370 0060 374B     		ldr	r3, .L250+28
 4371 0062 1B68     		ldr	r3, [r3]
1503:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 4372              		.loc 1 1503 57 discriminator 9 view .LVU1542
 4373 0064 1B04     		lsls	r3, r3, #16
1503:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 4374              		.loc 1 1503 39 discriminator 9 view .LVU1543
 4375 0066 3548     		ldr	r0, .L250+24
 4376 0068 0360     		str	r3, [r0]
1504:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4377              		.loc 1 1504 3 is_stmt 1 discriminator 9 view .LVU1544
1504:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4378              		.loc 1 1504 39 is_stmt 0 discriminator 9 view .LVU1545
 4379 006a 3724     		movs	r4, #55
 4380 006c 4460     		str	r4, [r0, #4]
1505:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4381              		.loc 1 1505 3 is_stmt 1 discriminator 9 view .LVU1546
1505:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4382              		.loc 1 1505 39 is_stmt 0 discriminator 9 view .LVU1547
 4383 006e 4023     		movs	r3, #64
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 147


 4384 0070 8360     		str	r3, [r0, #8]
1506:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4385              		.loc 1 1506 3 is_stmt 1 discriminator 9 view .LVU1548
1506:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4386              		.loc 1 1506 35 is_stmt 0 discriminator 9 view .LVU1549
 4387 0072 0023     		movs	r3, #0
 4388 0074 C360     		str	r3, [r0, #12]
1507:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 4389              		.loc 1 1507 3 is_stmt 1 discriminator 9 view .LVU1550
1507:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 4390              		.loc 1 1507 35 is_stmt 0 discriminator 9 view .LVU1551
 4391 0076 4FF48063 		mov	r3, #1024
 4392 007a 0361     		str	r3, [r0, #16]
1508:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4393              		.loc 1 1508 3 is_stmt 1 discriminator 9 view .LVU1552
 4394 007c FFF7FEFF 		bl	SDIO_SendCommand
 4395              	.LVL383:
1511:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4396              		.loc 1 1511 3 discriminator 9 view .LVU1553
1511:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4397              		.loc 1 1511 17 is_stmt 0 discriminator 9 view .LVU1554
 4398 0080 2046     		mov	r0, r4
 4399 0082 FFF7FEFF 		bl	CmdResp1Error
 4400              	.LVL384:
1513:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4401              		.loc 1 1513 3 is_stmt 1 discriminator 9 view .LVU1555
1513:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4402              		.loc 1 1513 6 is_stmt 0 discriminator 9 view .LVU1556
 4403 0086 0446     		mov	r4, r0
 4404 0088 30B1     		cbz	r0, .L249
 4405              	.LVL385:
 4406              	.L245:
1561:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4407              		.loc 1 1561 1 view .LVU1557
 4408 008a 2046     		mov	r0, r4
 4409 008c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4410              	.LVL386:
 4411              	.L248:
1495:HW/SDCard/stm32_eval_sdio_sd.c ****     WriteAddr /= 512;
 4412              		.loc 1 1495 5 is_stmt 1 view .LVU1558
1496:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4413              		.loc 1 1496 5 view .LVU1559
1496:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4414              		.loc 1 1496 15 is_stmt 0 view .LVU1560
 4415 0090 6D0A     		lsrs	r5, r5, #9
 4416              	.LVL387:
1495:HW/SDCard/stm32_eval_sdio_sd.c ****     WriteAddr /= 512;
 4417              		.loc 1 1495 15 view .LVU1561
 4418 0092 4FF40072 		mov	r2, #512
 4419 0096 C6E7     		b	.L242
 4420              	.LVL388:
 4421              	.L249:
1518:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCK_COUNT;
 4422              		.loc 1 1518 3 is_stmt 1 view .LVU1562
1518:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCK_COUNT;
 4423              		.loc 1 1518 39 is_stmt 0 view .LVU1563
 4424 0098 2848     		ldr	r0, .L250+24
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 148


 4425              	.LVL389:
1518:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCK_COUNT;
 4426              		.loc 1 1518 39 view .LVU1564
 4427 009a 0660     		str	r6, [r0]
1519:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4428              		.loc 1 1519 3 is_stmt 1 view .LVU1565
1519:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4429              		.loc 1 1519 39 is_stmt 0 view .LVU1566
 4430 009c 1724     		movs	r4, #23
 4431 009e 4460     		str	r4, [r0, #4]
1520:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4432              		.loc 1 1520 3 is_stmt 1 view .LVU1567
1520:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4433              		.loc 1 1520 39 is_stmt 0 view .LVU1568
 4434 00a0 4023     		movs	r3, #64
 4435 00a2 8360     		str	r3, [r0, #8]
1521:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4436              		.loc 1 1521 3 is_stmt 1 view .LVU1569
1521:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4437              		.loc 1 1521 35 is_stmt 0 view .LVU1570
 4438 00a4 0023     		movs	r3, #0
 4439 00a6 C360     		str	r3, [r0, #12]
1522:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 4440              		.loc 1 1522 3 is_stmt 1 view .LVU1571
1522:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 4441              		.loc 1 1522 35 is_stmt 0 view .LVU1572
 4442 00a8 4FF48063 		mov	r3, #1024
 4443 00ac 0361     		str	r3, [r0, #16]
1523:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4444              		.loc 1 1523 3 is_stmt 1 view .LVU1573
 4445 00ae FFF7FEFF 		bl	SDIO_SendCommand
 4446              	.LVL390:
1525:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4447              		.loc 1 1525 3 view .LVU1574
1525:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4448              		.loc 1 1525 17 is_stmt 0 view .LVU1575
 4449 00b2 2046     		mov	r0, r4
 4450 00b4 FFF7FEFF 		bl	CmdResp1Error
 4451              	.LVL391:
1527:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4452              		.loc 1 1527 3 is_stmt 1 view .LVU1576
1527:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4453              		.loc 1 1527 6 is_stmt 0 view .LVU1577
 4454 00b8 0446     		mov	r4, r0
 4455 00ba 0028     		cmp	r0, #0
 4456 00bc E5D1     		bne	.L245
1534:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_WRITE_MULT_BLOCK;
 4457              		.loc 1 1534 3 is_stmt 1 view .LVU1578
1534:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_WRITE_MULT_BLOCK;
 4458              		.loc 1 1534 39 is_stmt 0 view .LVU1579
 4459 00be 1F48     		ldr	r0, .L250+24
 4460              	.LVL392:
1534:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_WRITE_MULT_BLOCK;
 4461              		.loc 1 1534 39 view .LVU1580
 4462 00c0 0560     		str	r5, [r0]
1535:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4463              		.loc 1 1535 3 is_stmt 1 view .LVU1581
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 149


1535:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4464              		.loc 1 1535 39 is_stmt 0 view .LVU1582
 4465 00c2 1924     		movs	r4, #25
 4466 00c4 4460     		str	r4, [r0, #4]
1536:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4467              		.loc 1 1536 3 is_stmt 1 view .LVU1583
1536:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4468              		.loc 1 1536 39 is_stmt 0 view .LVU1584
 4469 00c6 4023     		movs	r3, #64
 4470 00c8 8360     		str	r3, [r0, #8]
1537:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4471              		.loc 1 1537 3 is_stmt 1 view .LVU1585
1537:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4472              		.loc 1 1537 35 is_stmt 0 view .LVU1586
 4473 00ca 0023     		movs	r3, #0
 4474 00cc C360     		str	r3, [r0, #12]
1538:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 4475              		.loc 1 1538 3 is_stmt 1 view .LVU1587
1538:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 4476              		.loc 1 1538 35 is_stmt 0 view .LVU1588
 4477 00ce 4FF48063 		mov	r3, #1024
 4478 00d2 0361     		str	r3, [r0, #16]
1539:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4479              		.loc 1 1539 3 is_stmt 1 view .LVU1589
 4480 00d4 FFF7FEFF 		bl	SDIO_SendCommand
 4481              	.LVL393:
1541:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4482              		.loc 1 1541 3 view .LVU1590
1541:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4483              		.loc 1 1541 17 is_stmt 0 view .LVU1591
 4484 00d8 2046     		mov	r0, r4
 4485 00da FFF7FEFF 		bl	CmdResp1Error
 4486              	.LVL394:
1543:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4487              		.loc 1 1543 3 is_stmt 1 view .LVU1592
1543:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4488              		.loc 1 1543 6 is_stmt 0 view .LVU1593
 4489 00de 0446     		mov	r4, r0
 4490 00e0 0028     		cmp	r0, #0
 4491 00e2 D2D1     		bne	.L245
1548:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = NumberOfBlocks * BlockSize;
 4492              		.loc 1 1548 3 is_stmt 1 view .LVU1594
1548:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = NumberOfBlocks * BlockSize;
 4493              		.loc 1 1548 43 is_stmt 0 view .LVU1595
 4494 00e4 1748     		ldr	r0, .L250+32
 4495              	.LVL395:
1548:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = NumberOfBlocks * BlockSize;
 4496              		.loc 1 1548 43 view .LVU1596
 4497 00e6 4FF0FF33 		mov	r3, #-1
 4498 00ea 0360     		str	r3, [r0]
1549:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 4499              		.loc 1 1549 3 is_stmt 1 view .LVU1597
1549:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
 4500              		.loc 1 1549 59 is_stmt 0 view .LVU1598
 4501 00ec 06FB07F5 		mul	r5, r6, r7
 4502              	.LVL396:
1549:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = (uint32_t) 9 << 4;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 150


 4503              		.loc 1 1549 42 view .LVU1599
 4504 00f0 4560     		str	r5, [r0, #4]
1550:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToCard;
 4505              		.loc 1 1550 3 is_stmt 1 view .LVU1600
1550:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToCard;
 4506              		.loc 1 1550 45 is_stmt 0 view .LVU1601
 4507 00f2 9023     		movs	r3, #144
 4508 00f4 8360     		str	r3, [r0, #8]
1551:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 4509              		.loc 1 1551 3 is_stmt 1 view .LVU1602
1551:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 4510              		.loc 1 1551 43 is_stmt 0 view .LVU1603
 4511 00f6 0023     		movs	r3, #0
 4512 00f8 C360     		str	r3, [r0, #12]
1552:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 4513              		.loc 1 1552 3 is_stmt 1 view .LVU1604
1552:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 4514              		.loc 1 1552 44 is_stmt 0 view .LVU1605
 4515 00fa 0361     		str	r3, [r0, #16]
1553:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 4516              		.loc 1 1553 3 is_stmt 1 view .LVU1606
1553:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 4517              		.loc 1 1553 36 is_stmt 0 view .LVU1607
 4518 00fc 0126     		movs	r6, #1
 4519              	.LVL397:
1553:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 4520              		.loc 1 1553 36 view .LVU1608
 4521 00fe 4661     		str	r6, [r0, #20]
1554:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4522              		.loc 1 1554 3 is_stmt 1 view .LVU1609
 4523 0100 FFF7FEFF 		bl	SDIO_DataConfig
 4524              	.LVL398:
1556:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DMACmd(ENABLE);    
 4525              		.loc 1 1556 3 view .LVU1610
 4526 0104 3146     		mov	r1, r6
 4527 0106 4FF48070 		mov	r0, #256
 4528 010a FFF7FEFF 		bl	SDIO_ITConfig
 4529              	.LVL399:
1557:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_LowLevel_DMA_TxConfig((uint32_t *)writebuff, (NumberOfBlocks * BlockSize));
 4530              		.loc 1 1557 3 view .LVU1611
 4531 010e 3046     		mov	r0, r6
 4532 0110 FFF7FEFF 		bl	SDIO_DMACmd
 4533              	.LVL400:
1558:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4534              		.loc 1 1558 3 view .LVU1612
 4535 0114 2946     		mov	r1, r5
 4536 0116 4046     		mov	r0, r8
 4537 0118 FFF7FEFF 		bl	SD_LowLevel_DMA_TxConfig
 4538              	.LVL401:
1560:HW/SDCard/stm32_eval_sdio_sd.c **** }
 4539              		.loc 1 1560 3 view .LVU1613
1560:HW/SDCard/stm32_eval_sdio_sd.c **** }
 4540              		.loc 1 1560 9 is_stmt 0 view .LVU1614
 4541 011c B5E7     		b	.L245
 4542              	.LVL402:
 4543              	.L246:
1500:HW/SDCard/stm32_eval_sdio_sd.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 151


 4544              		.loc 1 1500 3 view .LVU1615
 4545 011e 2624     		movs	r4, #38
 4546 0120 B3E7     		b	.L245
 4547              	.L251:
 4548 0122 00BF     		.align	2
 4549              	.L250:
 4550 0124 00000000 		.word	TransferError
 4551 0128 00000000 		.word	TransferEnd
 4552 012c 00000000 		.word	StopCondition
 4553 0130 00800140 		.word	1073840128
 4554 0134 00000000 		.word	CardType
 4555 0138 00000000 		.word	SD_BlockSize
 4556 013c 00000000 		.word	SDIO_CmdInitStructure
 4557 0140 00000000 		.word	RCA
 4558 0144 00000000 		.word	SDIO_DataInitStructure
 4559              		.cfi_endproc
 4560              	.LFE52:
 4562              		.section	.text.SD_WaitWriteOperation,"ax",%progbits
 4563              		.align	1
 4564              		.global	SD_WaitWriteOperation
 4565              		.syntax unified
 4566              		.thumb
 4567              		.thumb_func
 4569              	SD_WaitWriteOperation:
 4570              	.LFB53:
1572:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 4571              		.loc 1 1572 1 is_stmt 1 view -0
 4572              		.cfi_startproc
 4573              		@ args = 0, pretend = 0, frame = 0
 4574              		@ frame_needed = 0, uses_anonymous_args = 0
 4575 0000 10B5     		push	{r4, lr}
 4576              	.LCFI46:
 4577              		.cfi_def_cfa_offset 8
 4578              		.cfi_offset 4, -8
 4579              		.cfi_offset 14, -4
 4580              	.L254:
1576:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4581              		.loc 1 1576 4 discriminator 3 view .LVU1617
1575:HW/SDCard/stm32_eval_sdio_sd.c ****   {}
 4582              		.loc 1 1575 71 discriminator 3 view .LVU1618
 4583              	.LBB8:
 4584              	.LBI8:
 135:HW/SDCard/SDCard_eval.h ****   return DMA_GetFlagStatus(DMA2_FLAG_TC4);
 4585              		.loc 2 135 21 discriminator 3 view .LVU1619
 4586              	.LBB9:
 4587              		.loc 2 136 3 discriminator 3 view .LVU1620
 4588              		.loc 2 136 10 is_stmt 0 discriminator 3 view .LVU1621
 4589 0002 0D48     		ldr	r0, .L258
 4590 0004 FFF7FEFF 		bl	DMA_GetFlagStatus
 4591              	.LVL403:
 4592              	.LBE9:
 4593              	.LBE8:
1575:HW/SDCard/stm32_eval_sdio_sd.c ****   {}
 4594              		.loc 1 1575 71 discriminator 3 view .LVU1622
 4595 0008 30B9     		cbnz	r0, .L253
1575:HW/SDCard/stm32_eval_sdio_sd.c ****   {}
 4596              		.loc 1 1575 65 discriminator 1 view .LVU1623
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 152


 4597 000a 0C4B     		ldr	r3, .L258+4
 4598 000c 1B68     		ldr	r3, [r3]
1575:HW/SDCard/stm32_eval_sdio_sd.c ****   {}
 4599              		.loc 1 1575 49 discriminator 1 view .LVU1624
 4600 000e 1BB9     		cbnz	r3, .L253
1575:HW/SDCard/stm32_eval_sdio_sd.c ****   {}
 4601              		.loc 1 1575 89 discriminator 2 view .LVU1625
 4602 0010 0B4B     		ldr	r3, .L258+8
 4603 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1575:HW/SDCard/stm32_eval_sdio_sd.c ****   {}
 4604              		.loc 1 1575 71 discriminator 2 view .LVU1626
 4605 0014 002B     		cmp	r3, #0
 4606 0016 F4D0     		beq	.L254
 4607              	.L253:
1578:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4608              		.loc 1 1578 3 is_stmt 1 view .LVU1627
1578:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4609              		.loc 1 1578 21 is_stmt 0 view .LVU1628
 4610 0018 094B     		ldr	r3, .L258+8
 4611 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1578:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4612              		.loc 1 1578 6 view .LVU1629
 4613 001c 03F0FF04 		and	r4, r3, #255
 4614 0020 23B1     		cbz	r3, .L255
1580:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4615              		.loc 1 1580 5 is_stmt 1 view .LVU1630
1580:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4616              		.loc 1 1580 11 is_stmt 0 view .LVU1631
 4617 0022 074B     		ldr	r3, .L258+8
 4618 0024 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 4619 0026 E4B2     		uxtb	r4, r4
 4620              	.L256:
1587:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4621              		.loc 1 1587 1 view .LVU1632
 4622 0028 2046     		mov	r0, r4
 4623 002a 10BD     		pop	{r4, pc}
 4624              	.L255:
1584:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4625              		.loc 1 1584 3 is_stmt 1 view .LVU1633
 4626 002c 40F2FF50 		movw	r0, #1535
 4627 0030 FFF7FEFF 		bl	SDIO_ClearFlag
 4628              	.LVL404:
1586:HW/SDCard/stm32_eval_sdio_sd.c **** }
 4629              		.loc 1 1586 3 view .LVU1634
1586:HW/SDCard/stm32_eval_sdio_sd.c **** }
 4630              		.loc 1 1586 9 is_stmt 0 view .LVU1635
 4631 0034 F8E7     		b	.L256
 4632              	.L259:
 4633 0036 00BF     		.align	2
 4634              	.L258:
 4635 0038 00200010 		.word	268443648
 4636 003c 00000000 		.word	TransferEnd
 4637 0040 00000000 		.word	TransferError
 4638              		.cfi_endproc
 4639              	.LFE53:
 4641              		.section	.text.SD_GetTransferState,"ax",%progbits
 4642              		.align	1
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 153


 4643              		.global	SD_GetTransferState
 4644              		.syntax unified
 4645              		.thumb
 4646              		.thumb_func
 4648              	SD_GetTransferState:
 4649              	.LFB54:
1598:HW/SDCard/stm32_eval_sdio_sd.c ****   if (SDIO->STA & (SDIO_FLAG_TXACT | SDIO_FLAG_RXACT))
 4650              		.loc 1 1598 1 is_stmt 1 view -0
 4651              		.cfi_startproc
 4652              		@ args = 0, pretend = 0, frame = 0
 4653              		@ frame_needed = 0, uses_anonymous_args = 0
 4654              		@ link register save eliminated.
1599:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4655              		.loc 1 1599 3 view .LVU1637
1599:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4656              		.loc 1 1599 11 is_stmt 0 view .LVU1638
 4657 0000 044B     		ldr	r3, .L263
 4658 0002 5B6B     		ldr	r3, [r3, #52]
1599:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4659              		.loc 1 1599 6 view .LVU1639
 4660 0004 13F4405F 		tst	r3, #12288
 4661 0008 01D0     		beq	.L262
1601:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4662              		.loc 1 1601 11 view .LVU1640
 4663 000a 0120     		movs	r0, #1
 4664 000c 7047     		bx	lr
 4665              	.L262:
1605:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4666              		.loc 1 1605 11 view .LVU1641
 4667 000e 0020     		movs	r0, #0
1607:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4668              		.loc 1 1607 1 view .LVU1642
 4669 0010 7047     		bx	lr
 4670              	.L264:
 4671 0012 00BF     		.align	2
 4672              	.L263:
 4673 0014 00800140 		.word	1073840128
 4674              		.cfi_endproc
 4675              	.LFE54:
 4677              		.section	.text.SD_StopTransfer,"ax",%progbits
 4678              		.align	1
 4679              		.global	SD_StopTransfer
 4680              		.syntax unified
 4681              		.thumb
 4682              		.thumb_func
 4684              	SD_StopTransfer:
 4685              	.LFB55:
1615:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 4686              		.loc 1 1615 1 is_stmt 1 view -0
 4687              		.cfi_startproc
 4688              		@ args = 0, pretend = 0, frame = 0
 4689              		@ frame_needed = 0, uses_anonymous_args = 0
 4690 0000 08B5     		push	{r3, lr}
 4691              	.LCFI47:
 4692              		.cfi_def_cfa_offset 8
 4693              		.cfi_offset 3, -8
 4694              		.cfi_offset 14, -4
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 154


1616:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4695              		.loc 1 1616 3 view .LVU1644
 4696              	.LVL405:
1619:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO->CMD = 0x44C;
 4697              		.loc 1 1619 3 view .LVU1645
1619:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO->CMD = 0x44C;
 4698              		.loc 1 1619 13 is_stmt 0 view .LVU1646
 4699 0002 054B     		ldr	r3, .L267
 4700 0004 0022     		movs	r2, #0
 4701 0006 9A60     		str	r2, [r3, #8]
1620:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_STOP_TRANSMISSION);
 4702              		.loc 1 1620 3 is_stmt 1 view .LVU1647
1620:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_STOP_TRANSMISSION);
 4703              		.loc 1 1620 13 is_stmt 0 view .LVU1648
 4704 0008 40F24C42 		movw	r2, #1100
 4705 000c DA60     		str	r2, [r3, #12]
1621:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4706              		.loc 1 1621 3 is_stmt 1 view .LVU1649
1621:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4707              		.loc 1 1621 17 is_stmt 0 view .LVU1650
 4708 000e 0C20     		movs	r0, #12
 4709 0010 FFF7FEFF 		bl	CmdResp1Error
 4710              	.LVL406:
1623:HW/SDCard/stm32_eval_sdio_sd.c **** }
 4711              		.loc 1 1623 3 is_stmt 1 view .LVU1651
1624:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4712              		.loc 1 1624 1 is_stmt 0 view .LVU1652
 4713 0014 08BD     		pop	{r3, pc}
 4714              	.L268:
 4715 0016 00BF     		.align	2
 4716              	.L267:
 4717 0018 00800140 		.word	1073840128
 4718              		.cfi_endproc
 4719              	.LFE55:
 4721              		.section	.text.SD_Erase,"ax",%progbits
 4722              		.align	1
 4723              		.global	SD_Erase
 4724              		.syntax unified
 4725              		.thumb
 4726              		.thumb_func
 4728              	SD_Erase:
 4729              	.LVL407:
 4730              	.LFB56:
1633:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 4731              		.loc 1 1633 1 is_stmt 1 view -0
 4732              		.cfi_startproc
 4733              		@ args = 0, pretend = 0, frame = 8
 4734              		@ frame_needed = 0, uses_anonymous_args = 0
1633:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 4735              		.loc 1 1633 1 is_stmt 0 view .LVU1654
 4736 0000 70B5     		push	{r4, r5, r6, lr}
 4737              	.LCFI48:
 4738              		.cfi_def_cfa_offset 16
 4739              		.cfi_offset 4, -16
 4740              		.cfi_offset 5, -12
 4741              		.cfi_offset 6, -8
 4742              		.cfi_offset 14, -4
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 155


 4743 0002 82B0     		sub	sp, sp, #8
 4744              	.LCFI49:
 4745              		.cfi_def_cfa_offset 24
1634:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t delay = 0;
 4746              		.loc 1 1634 3 is_stmt 1 view .LVU1655
 4747              	.LVL408:
1635:HW/SDCard/stm32_eval_sdio_sd.c ****   __IO uint32_t maxdelay = 0;
 4748              		.loc 1 1635 3 view .LVU1656
1636:HW/SDCard/stm32_eval_sdio_sd.c ****   uint8_t cardstate = 0;
 4749              		.loc 1 1636 3 view .LVU1657
1636:HW/SDCard/stm32_eval_sdio_sd.c ****   uint8_t cardstate = 0;
 4750              		.loc 1 1636 17 is_stmt 0 view .LVU1658
 4751 0004 0023     		movs	r3, #0
 4752 0006 0193     		str	r3, [sp, #4]
1637:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4753              		.loc 1 1637 3 is_stmt 1 view .LVU1659
1637:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4754              		.loc 1 1637 11 is_stmt 0 view .LVU1660
 4755 0008 8DF80330 		strb	r3, [sp, #3]
1640:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4756              		.loc 1 1640 3 is_stmt 1 view .LVU1661
1640:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4757              		.loc 1 1640 16 is_stmt 0 view .LVU1662
 4758 000c 354B     		ldr	r3, .L281
 4759 000e 5B68     		ldr	r3, [r3, #4]
1640:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4760              		.loc 1 1640 6 view .LVU1663
 4761 0010 13F0007F 		tst	r3, #33554432
 4762 0014 61D0     		beq	.L277
 4763 0016 0546     		mov	r5, r0
 4764 0018 0E46     		mov	r6, r1
1646:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4765              		.loc 1 1646 3 is_stmt 1 view .LVU1664
1646:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4766              		.loc 1 1646 29 is_stmt 0 view .LVU1665
 4767 001a 334B     		ldr	r3, .L281+4
 4768 001c 5B68     		ldr	r3, [r3, #4]
1646:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4769              		.loc 1 1646 37 view .LVU1666
 4770 001e DBB2     		uxtb	r3, r3
1646:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4771              		.loc 1 1646 45 view .LVU1667
 4772 0020 0233     		adds	r3, r3, #2
1646:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4773              		.loc 1 1646 21 view .LVU1668
 4774 0022 324A     		ldr	r2, .L281+8
 4775 0024 B2FBF3F3 		udiv	r3, r2, r3
1646:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4776              		.loc 1 1646 12 view .LVU1669
 4777 0028 0193     		str	r3, [sp, #4]
1648:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4778              		.loc 1 1648 3 is_stmt 1 view .LVU1670
1648:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4779              		.loc 1 1648 7 is_stmt 0 view .LVU1671
 4780 002a 0020     		movs	r0, #0
 4781              	.LVL409:
1648:HW/SDCard/stm32_eval_sdio_sd.c ****   {
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 156


 4782              		.loc 1 1648 7 view .LVU1672
 4783 002c FFF7FEFF 		bl	SDIO_GetResponse
 4784              	.LVL410:
1648:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4785              		.loc 1 1648 6 view .LVU1673
 4786 0030 10F00074 		ands	r4, r0, #33554432
 4787 0034 54D1     		bne	.L278
1654:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4788              		.loc 1 1654 3 is_stmt 1 view .LVU1674
1654:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4789              		.loc 1 1654 16 is_stmt 0 view .LVU1675
 4790 0036 2E4B     		ldr	r3, .L281+12
 4791 0038 1B68     		ldr	r3, [r3]
1654:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4792              		.loc 1 1654 6 view .LVU1676
 4793 003a 022B     		cmp	r3, #2
 4794 003c 36D0     		beq	.L280
 4795              	.L271:
1661:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4796              		.loc 1 1661 3 is_stmt 1 view .LVU1677
1661:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4797              		.loc 1 1661 6 is_stmt 0 view .LVU1678
 4798 003e 022B     		cmp	r3, #2
 4799 0040 22D8     		bhi	.L272
1664:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_ERASE_GRP_START;
 4800              		.loc 1 1664 5 is_stmt 1 view .LVU1679
1664:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_ERASE_GRP_START;
 4801              		.loc 1 1664 41 is_stmt 0 view .LVU1680
 4802 0042 2C48     		ldr	r0, .L281+16
 4803 0044 0560     		str	r5, [r0]
1665:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4804              		.loc 1 1665 5 is_stmt 1 view .LVU1681
1665:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4805              		.loc 1 1665 41 is_stmt 0 view .LVU1682
 4806 0046 2025     		movs	r5, #32
 4807              	.LVL411:
1665:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4808              		.loc 1 1665 41 view .LVU1683
 4809 0048 4560     		str	r5, [r0, #4]
1666:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4810              		.loc 1 1666 5 is_stmt 1 view .LVU1684
1666:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4811              		.loc 1 1666 41 is_stmt 0 view .LVU1685
 4812 004a 4023     		movs	r3, #64
 4813 004c 8360     		str	r3, [r0, #8]
1667:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4814              		.loc 1 1667 5 is_stmt 1 view .LVU1686
1667:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4815              		.loc 1 1667 37 is_stmt 0 view .LVU1687
 4816 004e 0023     		movs	r3, #0
 4817 0050 C360     		str	r3, [r0, #12]
1668:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 4818              		.loc 1 1668 5 is_stmt 1 view .LVU1688
1668:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 4819              		.loc 1 1668 37 is_stmt 0 view .LVU1689
 4820 0052 4FF48063 		mov	r3, #1024
 4821 0056 0361     		str	r3, [r0, #16]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 157


1669:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4822              		.loc 1 1669 5 is_stmt 1 view .LVU1690
 4823 0058 FFF7FEFF 		bl	SDIO_SendCommand
 4824              	.LVL412:
1671:HW/SDCard/stm32_eval_sdio_sd.c ****     if (errorstatus != SD_OK)
 4825              		.loc 1 1671 5 view .LVU1691
1671:HW/SDCard/stm32_eval_sdio_sd.c ****     if (errorstatus != SD_OK)
 4826              		.loc 1 1671 19 is_stmt 0 view .LVU1692
 4827 005c 2846     		mov	r0, r5
 4828 005e FFF7FEFF 		bl	CmdResp1Error
 4829              	.LVL413:
1672:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 4830              		.loc 1 1672 5 is_stmt 1 view .LVU1693
1672:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 4831              		.loc 1 1672 8 is_stmt 0 view .LVU1694
 4832 0062 0028     		cmp	r0, #0
 4833 0064 3AD1     		bne	.L270
1678:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_ERASE_GRP_END;
 4834              		.loc 1 1678 5 is_stmt 1 view .LVU1695
1678:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_ERASE_GRP_END;
 4835              		.loc 1 1678 41 is_stmt 0 view .LVU1696
 4836 0066 2348     		ldr	r0, .L281+16
 4837              	.LVL414:
1678:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_ERASE_GRP_END;
 4838              		.loc 1 1678 41 view .LVU1697
 4839 0068 0660     		str	r6, [r0]
1679:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4840              		.loc 1 1679 5 is_stmt 1 view .LVU1698
1679:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4841              		.loc 1 1679 41 is_stmt 0 view .LVU1699
 4842 006a 2125     		movs	r5, #33
 4843 006c 4560     		str	r5, [r0, #4]
1680:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4844              		.loc 1 1680 5 is_stmt 1 view .LVU1700
1680:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4845              		.loc 1 1680 41 is_stmt 0 view .LVU1701
 4846 006e 4023     		movs	r3, #64
 4847 0070 8360     		str	r3, [r0, #8]
1681:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4848              		.loc 1 1681 5 is_stmt 1 view .LVU1702
1681:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4849              		.loc 1 1681 37 is_stmt 0 view .LVU1703
 4850 0072 0023     		movs	r3, #0
 4851 0074 C360     		str	r3, [r0, #12]
1682:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 4852              		.loc 1 1682 5 is_stmt 1 view .LVU1704
1682:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO_SendCommand(&SDIO_CmdInitStructure);
 4853              		.loc 1 1682 37 is_stmt 0 view .LVU1705
 4854 0076 4FF48063 		mov	r3, #1024
 4855 007a 0361     		str	r3, [r0, #16]
1683:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4856              		.loc 1 1683 5 is_stmt 1 view .LVU1706
 4857 007c FFF7FEFF 		bl	SDIO_SendCommand
 4858              	.LVL415:
1685:HW/SDCard/stm32_eval_sdio_sd.c ****     if (errorstatus != SD_OK)
 4859              		.loc 1 1685 5 view .LVU1707
1685:HW/SDCard/stm32_eval_sdio_sd.c ****     if (errorstatus != SD_OK)
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 158


 4860              		.loc 1 1685 19 is_stmt 0 view .LVU1708
 4861 0080 2846     		mov	r0, r5
 4862 0082 FFF7FEFF 		bl	CmdResp1Error
 4863              	.LVL416:
1686:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 4864              		.loc 1 1686 5 is_stmt 1 view .LVU1709
1686:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 4865              		.loc 1 1686 8 is_stmt 0 view .LVU1710
 4866 0086 48BB     		cbnz	r0, .L270
 4867              	.LVL417:
 4868              	.L272:
1693:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_ERASE;
 4869              		.loc 1 1693 3 is_stmt 1 view .LVU1711
1693:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_ERASE;
 4870              		.loc 1 1693 39 is_stmt 0 view .LVU1712
 4871 0088 1A48     		ldr	r0, .L281+16
 4872 008a 0023     		movs	r3, #0
 4873 008c 0360     		str	r3, [r0]
1694:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4874              		.loc 1 1694 3 is_stmt 1 view .LVU1713
1694:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 4875              		.loc 1 1694 39 is_stmt 0 view .LVU1714
 4876 008e 2625     		movs	r5, #38
 4877 0090 4560     		str	r5, [r0, #4]
1695:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4878              		.loc 1 1695 3 is_stmt 1 view .LVU1715
1695:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 4879              		.loc 1 1695 39 is_stmt 0 view .LVU1716
 4880 0092 4022     		movs	r2, #64
 4881 0094 8260     		str	r2, [r0, #8]
1696:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4882              		.loc 1 1696 3 is_stmt 1 view .LVU1717
1696:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 4883              		.loc 1 1696 35 is_stmt 0 view .LVU1718
 4884 0096 C360     		str	r3, [r0, #12]
1697:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 4885              		.loc 1 1697 3 is_stmt 1 view .LVU1719
1697:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 4886              		.loc 1 1697 35 is_stmt 0 view .LVU1720
 4887 0098 4FF48063 		mov	r3, #1024
 4888 009c 0361     		str	r3, [r0, #16]
1698:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4889              		.loc 1 1698 3 is_stmt 1 view .LVU1721
 4890 009e FFF7FEFF 		bl	SDIO_SendCommand
 4891              	.LVL418:
1700:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4892              		.loc 1 1700 3 view .LVU1722
1700:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4893              		.loc 1 1700 17 is_stmt 0 view .LVU1723
 4894 00a2 2846     		mov	r0, r5
 4895 00a4 FFF7FEFF 		bl	CmdResp1Error
 4896              	.LVL419:
1702:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4897              		.loc 1 1702 3 is_stmt 1 view .LVU1724
1702:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4898              		.loc 1 1702 6 is_stmt 0 view .LVU1725
 4899 00a8 20B1     		cbz	r0, .L273
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 159


 4900 00aa 17E0     		b	.L270
 4901              	.LVL420:
 4902              	.L280:
1656:HW/SDCard/stm32_eval_sdio_sd.c ****     endaddr /= 512;
 4903              		.loc 1 1656 5 is_stmt 1 view .LVU1726
1656:HW/SDCard/stm32_eval_sdio_sd.c ****     endaddr /= 512;
 4904              		.loc 1 1656 15 is_stmt 0 view .LVU1727
 4905 00ac 6D0A     		lsrs	r5, r5, #9
 4906              	.LVL421:
1657:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4907              		.loc 1 1657 5 is_stmt 1 view .LVU1728
1657:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4908              		.loc 1 1657 13 is_stmt 0 view .LVU1729
 4909 00ae 760A     		lsrs	r6, r6, #9
 4910              	.LVL422:
1657:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4911              		.loc 1 1657 13 view .LVU1730
 4912 00b0 C5E7     		b	.L271
 4913              	.LVL423:
 4914              	.L274:
1708:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4915              		.loc 1 1708 4 is_stmt 1 discriminator 3 view .LVU1731
1707:HW/SDCard/stm32_eval_sdio_sd.c ****   {}
 4916              		.loc 1 1707 42 discriminator 3 view .LVU1732
 4917 00b2 0134     		adds	r4, r4, #1
 4918              	.LVL424:
 4919              	.L273:
1707:HW/SDCard/stm32_eval_sdio_sd.c ****   {}
 4920              		.loc 1 1707 25 discriminator 1 view .LVU1733
 4921 00b4 019B     		ldr	r3, [sp, #4]
 4922 00b6 A342     		cmp	r3, r4
 4923 00b8 FBD8     		bhi	.L274
1711:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4924              		.loc 1 1711 3 view .LVU1734
1711:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4925              		.loc 1 1711 17 is_stmt 0 view .LVU1735
 4926 00ba 0DF10300 		add	r0, sp, #3
 4927              	.LVL425:
1711:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4928              		.loc 1 1711 17 view .LVU1736
 4929 00be FFF7FEFF 		bl	IsCardProgramming
 4930              	.LVL426:
1713:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4931              		.loc 1 1713 3 is_stmt 1 view .LVU1737
 4932              	.L275:
1713:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4933              		.loc 1 1713 33 view .LVU1738
 4934 00c2 58B9     		cbnz	r0, .L270
1713:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4935              		.loc 1 1713 72 is_stmt 0 discriminator 1 view .LVU1739
 4936 00c4 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 4937 00c8 063B     		subs	r3, r3, #6
 4938 00ca DBB2     		uxtb	r3, r3
1713:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 4939              		.loc 1 1713 33 discriminator 1 view .LVU1740
 4940 00cc 012B     		cmp	r3, #1
 4941 00ce 05D8     		bhi	.L270
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 160


1715:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4942              		.loc 1 1715 5 is_stmt 1 view .LVU1741
1715:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4943              		.loc 1 1715 19 is_stmt 0 view .LVU1742
 4944 00d0 0DF10300 		add	r0, sp, #3
 4945              	.LVL427:
1715:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4946              		.loc 1 1715 19 view .LVU1743
 4947 00d4 FFF7FEFF 		bl	IsCardProgramming
 4948              	.LVL428:
1715:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4949              		.loc 1 1715 19 view .LVU1744
 4950 00d8 F3E7     		b	.L275
 4951              	.LVL429:
 4952              	.L277:
1643:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4953              		.loc 1 1643 11 view .LVU1745
 4954 00da 2520     		movs	r0, #37
 4955              	.LVL430:
 4956              	.L270:
1719:HW/SDCard/stm32_eval_sdio_sd.c **** 
 4957              		.loc 1 1719 1 view .LVU1746
 4958 00dc 02B0     		add	sp, sp, #8
 4959              	.LCFI50:
 4960              		.cfi_remember_state
 4961              		.cfi_def_cfa_offset 16
 4962              		@ sp needed
 4963 00de 70BD     		pop	{r4, r5, r6, pc}
 4964              	.LVL431:
 4965              	.L278:
 4966              	.LCFI51:
 4967              		.cfi_restore_state
1651:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 4968              		.loc 1 1651 11 view .LVU1747
 4969 00e0 0E20     		movs	r0, #14
 4970 00e2 FBE7     		b	.L270
 4971              	.L282:
 4972              		.align	2
 4973              	.L281:
 4974 00e4 00000000 		.word	CSD_Tab
 4975 00e8 00800140 		.word	1073840128
 4976 00ec C0D40100 		.word	120000
 4977 00f0 00000000 		.word	CardType
 4978 00f4 00000000 		.word	SDIO_CmdInitStructure
 4979              		.cfi_endproc
 4980              	.LFE56:
 4982              		.section	.text.SD_SendStatus,"ax",%progbits
 4983              		.align	1
 4984              		.global	SD_SendStatus
 4985              		.syntax unified
 4986              		.thumb
 4987              		.thumb_func
 4989              	SD_SendStatus:
 4990              	.LVL432:
 4991              	.LFB57:
1728:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 4992              		.loc 1 1728 1 is_stmt 1 view -0
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 161


 4993              		.cfi_startproc
 4994              		@ args = 0, pretend = 0, frame = 0
 4995              		@ frame_needed = 0, uses_anonymous_args = 0
1728:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 4996              		.loc 1 1728 1 is_stmt 0 view .LVU1749
 4997 0000 10B5     		push	{r4, lr}
 4998              	.LCFI52:
 4999              		.cfi_def_cfa_offset 8
 5000              		.cfi_offset 4, -8
 5001              		.cfi_offset 14, -4
 5002 0002 0446     		mov	r4, r0
1729:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5003              		.loc 1 1729 3 is_stmt 1 view .LVU1750
 5004              	.LVL433:
1731:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO->CMD = 0x44D;
 5005              		.loc 1 1731 3 view .LVU1751
1731:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO->CMD = 0x44D;
 5006              		.loc 1 1731 15 is_stmt 0 view .LVU1752
 5007 0004 074B     		ldr	r3, .L286
 5008 0006 1B68     		ldr	r3, [r3]
1731:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO->CMD = 0x44D;
 5009              		.loc 1 1731 30 view .LVU1753
 5010 0008 1B04     		lsls	r3, r3, #16
1731:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO->CMD = 0x44D;
 5011              		.loc 1 1731 13 view .LVU1754
 5012 000a 074A     		ldr	r2, .L286+4
 5013 000c 9360     		str	r3, [r2, #8]
1732:HW/SDCard/stm32_eval_sdio_sd.c ****   
 5014              		.loc 1 1732 3 is_stmt 1 view .LVU1755
1732:HW/SDCard/stm32_eval_sdio_sd.c ****   
 5015              		.loc 1 1732 13 is_stmt 0 view .LVU1756
 5016 000e 40F24D43 		movw	r3, #1101
 5017 0012 D360     		str	r3, [r2, #12]
1734:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5018              		.loc 1 1734 3 is_stmt 1 view .LVU1757
1734:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5019              		.loc 1 1734 17 is_stmt 0 view .LVU1758
 5020 0014 0D20     		movs	r0, #13
 5021              	.LVL434:
1734:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5022              		.loc 1 1734 17 view .LVU1759
 5023 0016 FFF7FEFF 		bl	CmdResp1Error
 5024              	.LVL435:
1736:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5025              		.loc 1 1736 3 is_stmt 1 view .LVU1760
1736:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5026              		.loc 1 1736 6 is_stmt 0 view .LVU1761
 5027 001a 10B9     		cbnz	r0, .L284
1741:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
 5028              		.loc 1 1741 3 is_stmt 1 view .LVU1762
1741:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
 5029              		.loc 1 1741 22 is_stmt 0 view .LVU1763
 5030 001c 024B     		ldr	r3, .L286+4
 5031 001e 5B69     		ldr	r3, [r3, #20]
1741:HW/SDCard/stm32_eval_sdio_sd.c ****   return(errorstatus);
 5032              		.loc 1 1741 16 view .LVU1764
 5033 0020 2360     		str	r3, [r4]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 162


1742:HW/SDCard/stm32_eval_sdio_sd.c **** }
 5034              		.loc 1 1742 3 is_stmt 1 view .LVU1765
 5035              	.L284:
1743:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5036              		.loc 1 1743 1 is_stmt 0 view .LVU1766
 5037 0022 10BD     		pop	{r4, pc}
 5038              	.LVL436:
 5039              	.L287:
1743:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5040              		.loc 1 1743 1 view .LVU1767
 5041              		.align	2
 5042              	.L286:
 5043 0024 00000000 		.word	RCA
 5044 0028 00800140 		.word	1073840128
 5045              		.cfi_endproc
 5046              	.LFE57:
 5048              		.section	.text.SD_GetState,"ax",%progbits
 5049              		.align	1
 5050              		.global	SD_GetState
 5051              		.syntax unified
 5052              		.thumb
 5053              		.thumb_func
 5055              	SD_GetState:
 5056              	.LFB39:
 466:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t resp1 = 0;
 5057              		.loc 1 466 1 is_stmt 1 view -0
 5058              		.cfi_startproc
 5059              		@ args = 0, pretend = 0, frame = 8
 5060              		@ frame_needed = 0, uses_anonymous_args = 0
 5061 0000 00B5     		push	{lr}
 5062              	.LCFI53:
 5063              		.cfi_def_cfa_offset 4
 5064              		.cfi_offset 14, -4
 5065 0002 83B0     		sub	sp, sp, #12
 5066              	.LCFI54:
 5067              		.cfi_def_cfa_offset 16
 467:HW/SDCard/stm32_eval_sdio_sd.c ****   
 5068              		.loc 1 467 3 view .LVU1769
 467:HW/SDCard/stm32_eval_sdio_sd.c ****   
 5069              		.loc 1 467 12 is_stmt 0 view .LVU1770
 5070 0004 0023     		movs	r3, #0
 5071 0006 0193     		str	r3, [sp, #4]
 469:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5072              		.loc 1 469 3 is_stmt 1 view .LVU1771
 469:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5073              		.loc 1 469 6 is_stmt 0 view .LVU1772
 5074 0008 FFF7FEFF 		bl	SD_Detect
 5075              	.LVL437:
 469:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5076              		.loc 1 469 5 view .LVU1773
 5077 000c 0128     		cmp	r0, #1
 5078 000e 03D0     		beq	.L293
 482:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5079              		.loc 1 482 12 view .LVU1774
 5080 0010 FF20     		movs	r0, #255
 5081              	.L289:
 484:HW/SDCard/stm32_eval_sdio_sd.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 163


 5082              		.loc 1 484 1 view .LVU1775
 5083 0012 03B0     		add	sp, sp, #12
 5084              	.LCFI55:
 5085              		.cfi_remember_state
 5086              		.cfi_def_cfa_offset 4
 5087              		@ sp needed
 5088 0014 5DF804FB 		ldr	pc, [sp], #4
 5089              	.L293:
 5090              	.LCFI56:
 5091              		.cfi_restore_state
 471:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 5092              		.loc 1 471 5 is_stmt 1 view .LVU1776
 471:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 5093              		.loc 1 471 9 is_stmt 0 view .LVU1777
 5094 0018 01A8     		add	r0, sp, #4
 5095 001a FFF7FEFF 		bl	SD_SendStatus
 5096              	.LVL438:
 471:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 5097              		.loc 1 471 8 view .LVU1778
 5098 001e 18B9     		cbnz	r0, .L291
 477:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 5099              		.loc 1 477 7 is_stmt 1 view .LVU1779
 477:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 5100              		.loc 1 477 14 is_stmt 0 view .LVU1780
 5101 0020 0198     		ldr	r0, [sp, #4]
 5102 0022 C0F34320 		ubfx	r0, r0, #9, #4
 5103 0026 F4E7     		b	.L289
 5104              	.L291:
 473:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 5105              		.loc 1 473 14 view .LVU1781
 5106 0028 FF20     		movs	r0, #255
 5107 002a F2E7     		b	.L289
 5108              		.cfi_endproc
 5109              	.LFE39:
 5111              		.section	.text.SD_GetStatus,"ax",%progbits
 5112              		.align	1
 5113              		.global	SD_GetStatus
 5114              		.syntax unified
 5115              		.thumb
 5116              		.thumb_func
 5118              	SD_GetStatus:
 5119              	.LFB38:
 441:HW/SDCard/stm32_eval_sdio_sd.c ****   SDCardState cardstate =  SD_CARD_TRANSFER;
 5120              		.loc 1 441 1 is_stmt 1 view -0
 5121              		.cfi_startproc
 5122              		@ args = 0, pretend = 0, frame = 0
 5123              		@ frame_needed = 0, uses_anonymous_args = 0
 5124 0000 08B5     		push	{r3, lr}
 5125              	.LCFI57:
 5126              		.cfi_def_cfa_offset 8
 5127              		.cfi_offset 3, -8
 5128              		.cfi_offset 14, -4
 442:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5129              		.loc 1 442 3 view .LVU1783
 5130              	.LVL439:
 444:HW/SDCard/stm32_eval_sdio_sd.c ****   
 5131              		.loc 1 444 3 view .LVU1784
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 164


 444:HW/SDCard/stm32_eval_sdio_sd.c ****   
 5132              		.loc 1 444 15 is_stmt 0 view .LVU1785
 5133 0002 FFF7FEFF 		bl	SD_GetState
 5134              	.LVL440:
 446:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5135              		.loc 1 446 3 is_stmt 1 view .LVU1786
 446:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5136              		.loc 1 446 6 is_stmt 0 view .LVU1787
 5137 0006 0428     		cmp	r0, #4
 5138 0008 05D0     		beq	.L296
 450:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5139              		.loc 1 450 8 is_stmt 1 view .LVU1788
 450:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5140              		.loc 1 450 10 is_stmt 0 view .LVU1789
 5141 000a FF28     		cmp	r0, #255
 5142 000c 01D0     		beq	.L299
 456:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5143              		.loc 1 456 11 view .LVU1790
 5144 000e 0120     		movs	r0, #1
 5145              	.LVL441:
 5146              	.L295:
 458:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5147              		.loc 1 458 1 view .LVU1791
 5148 0010 08BD     		pop	{r3, pc}
 5149              	.LVL442:
 5150              	.L299:
 452:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5151              		.loc 1 452 12 view .LVU1792
 5152 0012 0220     		movs	r0, #2
 5153              	.LVL443:
 452:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5154              		.loc 1 452 12 view .LVU1793
 5155 0014 FCE7     		b	.L295
 5156              	.LVL444:
 5157              	.L296:
 448:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5158              		.loc 1 448 11 view .LVU1794
 5159 0016 0020     		movs	r0, #0
 5160              	.LVL445:
 448:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5161              		.loc 1 448 11 view .LVU1795
 5162 0018 FAE7     		b	.L295
 5163              		.cfi_endproc
 5164              	.LFE38:
 5166              		.section	.text.SD_SendSDStatus,"ax",%progbits
 5167              		.align	1
 5168              		.global	SD_SendSDStatus
 5169              		.syntax unified
 5170              		.thumb
 5171              		.thumb_func
 5173              	SD_SendSDStatus:
 5174              	.LVL446:
 5175              	.LFB58:
1752:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 5176              		.loc 1 1752 1 is_stmt 1 view -0
 5177              		.cfi_startproc
 5178              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 165


 5179              		@ frame_needed = 0, uses_anonymous_args = 0
1752:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 5180              		.loc 1 1752 1 is_stmt 0 view .LVU1797
 5181 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 5182              	.LCFI58:
 5183              		.cfi_def_cfa_offset 24
 5184              		.cfi_offset 3, -24
 5185              		.cfi_offset 4, -20
 5186              		.cfi_offset 5, -16
 5187              		.cfi_offset 6, -12
 5188              		.cfi_offset 7, -8
 5189              		.cfi_offset 14, -4
 5190 0002 0546     		mov	r5, r0
1753:HW/SDCard/stm32_eval_sdio_sd.c ****   uint32_t count = 0;
 5191              		.loc 1 1753 3 is_stmt 1 view .LVU1798
 5192              	.LVL447:
1754:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5193              		.loc 1 1754 3 view .LVU1799
1756:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5194              		.loc 1 1756 3 view .LVU1800
1756:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5195              		.loc 1 1756 7 is_stmt 0 view .LVU1801
 5196 0004 0020     		movs	r0, #0
 5197              	.LVL448:
1756:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5198              		.loc 1 1756 7 view .LVU1802
 5199 0006 FFF7FEFF 		bl	SDIO_GetResponse
 5200              	.LVL449:
1756:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5201              		.loc 1 1756 6 view .LVU1803
 5202 000a 10F0007F 		tst	r0, #33554432
 5203 000e 40F09680 		bne	.L312
1763:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCKLEN;
 5204              		.loc 1 1763 3 is_stmt 1 view .LVU1804
1763:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCKLEN;
 5205              		.loc 1 1763 39 is_stmt 0 view .LVU1805
 5206 0012 4C48     		ldr	r0, .L318
 5207 0014 4023     		movs	r3, #64
 5208 0016 0360     		str	r3, [r0]
1764:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 5209              		.loc 1 1764 3 is_stmt 1 view .LVU1806
1764:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 5210              		.loc 1 1764 39 is_stmt 0 view .LVU1807
 5211 0018 1024     		movs	r4, #16
 5212 001a 4460     		str	r4, [r0, #4]
1765:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 5213              		.loc 1 1765 3 is_stmt 1 view .LVU1808
1765:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 5214              		.loc 1 1765 39 is_stmt 0 view .LVU1809
 5215 001c 8360     		str	r3, [r0, #8]
1766:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 5216              		.loc 1 1766 3 is_stmt 1 view .LVU1810
1766:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 5217              		.loc 1 1766 35 is_stmt 0 view .LVU1811
 5218 001e 0023     		movs	r3, #0
 5219 0020 C360     		str	r3, [r0, #12]
1767:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 166


 5220              		.loc 1 1767 3 is_stmt 1 view .LVU1812
1767:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 5221              		.loc 1 1767 35 is_stmt 0 view .LVU1813
 5222 0022 4FF48063 		mov	r3, #1024
 5223 0026 0361     		str	r3, [r0, #16]
1768:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5224              		.loc 1 1768 3 is_stmt 1 view .LVU1814
 5225 0028 FFF7FEFF 		bl	SDIO_SendCommand
 5226              	.LVL450:
1770:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5227              		.loc 1 1770 3 view .LVU1815
1770:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5228              		.loc 1 1770 17 is_stmt 0 view .LVU1816
 5229 002c 2046     		mov	r0, r4
 5230 002e FFF7FEFF 		bl	CmdResp1Error
 5231              	.LVL451:
1772:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5232              		.loc 1 1772 3 is_stmt 1 view .LVU1817
1772:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5233              		.loc 1 1772 6 is_stmt 0 view .LVU1818
 5234 0032 0646     		mov	r6, r0
 5235 0034 0028     		cmp	r0, #0
 5236 0036 40F08380 		bne	.L301
1778:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 5237              		.loc 1 1778 3 is_stmt 1 view .LVU1819
1778:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 5238              		.loc 1 1778 41 is_stmt 0 view .LVU1820
 5239 003a 434B     		ldr	r3, .L318+4
 5240 003c 1B68     		ldr	r3, [r3]
1778:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 5241              		.loc 1 1778 56 view .LVU1821
 5242 003e A340     		lsls	r3, r3, r4
1778:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 5243              		.loc 1 1778 39 view .LVU1822
 5244 0040 4048     		ldr	r0, .L318
 5245              	.LVL452:
1778:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_APP_CMD;
 5246              		.loc 1 1778 39 view .LVU1823
 5247 0042 0360     		str	r3, [r0]
1779:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 5248              		.loc 1 1779 3 is_stmt 1 view .LVU1824
1779:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 5249              		.loc 1 1779 39 is_stmt 0 view .LVU1825
 5250 0044 3724     		movs	r4, #55
 5251 0046 4460     		str	r4, [r0, #4]
1780:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 5252              		.loc 1 1780 3 is_stmt 1 view .LVU1826
1780:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 5253              		.loc 1 1780 39 is_stmt 0 view .LVU1827
 5254 0048 4023     		movs	r3, #64
 5255 004a 8360     		str	r3, [r0, #8]
1781:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 5256              		.loc 1 1781 3 is_stmt 1 view .LVU1828
1781:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 5257              		.loc 1 1781 35 is_stmt 0 view .LVU1829
 5258 004c 0023     		movs	r3, #0
 5259 004e C360     		str	r3, [r0, #12]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 167


1782:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 5260              		.loc 1 1782 3 is_stmt 1 view .LVU1830
1782:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 5261              		.loc 1 1782 35 is_stmt 0 view .LVU1831
 5262 0050 4FF48063 		mov	r3, #1024
 5263 0054 0361     		str	r3, [r0, #16]
1783:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_APP_CMD);
 5264              		.loc 1 1783 3 is_stmt 1 view .LVU1832
 5265 0056 FFF7FEFF 		bl	SDIO_SendCommand
 5266              	.LVL453:
1784:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5267              		.loc 1 1784 3 view .LVU1833
1784:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5268              		.loc 1 1784 17 is_stmt 0 view .LVU1834
 5269 005a 2046     		mov	r0, r4
 5270 005c FFF7FEFF 		bl	CmdResp1Error
 5271              	.LVL454:
1786:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5272              		.loc 1 1786 3 is_stmt 1 view .LVU1835
1786:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5273              		.loc 1 1786 6 is_stmt 0 view .LVU1836
 5274 0060 0646     		mov	r6, r0
 5275 0062 0028     		cmp	r0, #0
 5276 0064 6CD1     		bne	.L301
1791:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = 64;
 5277              		.loc 1 1791 3 is_stmt 1 view .LVU1837
1791:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = 64;
 5278              		.loc 1 1791 43 is_stmt 0 view .LVU1838
 5279 0066 3948     		ldr	r0, .L318+8
 5280              	.LVL455:
1791:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataLength = 64;
 5281              		.loc 1 1791 43 view .LVU1839
 5282 0068 4FF0FF33 		mov	r3, #-1
 5283 006c 0360     		str	r3, [r0]
1792:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = SDIO_DataBlockSize_64b;
 5284              		.loc 1 1792 3 is_stmt 1 view .LVU1840
1792:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DataBlockSize = SDIO_DataBlockSize_64b;
 5285              		.loc 1 1792 42 is_stmt 0 view .LVU1841
 5286 006e 4027     		movs	r7, #64
 5287 0070 4760     		str	r7, [r0, #4]
1793:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
 5288              		.loc 1 1793 3 is_stmt 1 view .LVU1842
1793:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferDir = SDIO_TransferDir_ToSDIO;
 5289              		.loc 1 1793 45 is_stmt 0 view .LVU1843
 5290 0072 6023     		movs	r3, #96
 5291 0074 8360     		str	r3, [r0, #8]
1794:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 5292              		.loc 1 1794 3 is_stmt 1 view .LVU1844
1794:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_TransferMode = SDIO_TransferMode_Block;
 5293              		.loc 1 1794 43 is_stmt 0 view .LVU1845
 5294 0076 0223     		movs	r3, #2
 5295 0078 C360     		str	r3, [r0, #12]
1795:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 5296              		.loc 1 1795 3 is_stmt 1 view .LVU1846
1795:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataInitStructure.SDIO_DPSM = SDIO_DPSM_Enable;
 5297              		.loc 1 1795 44 is_stmt 0 view .LVU1847
 5298 007a 0024     		movs	r4, #0
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 168


 5299 007c 0461     		str	r4, [r0, #16]
1796:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 5300              		.loc 1 1796 3 is_stmt 1 view .LVU1848
1796:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_DataConfig(&SDIO_DataInitStructure);
 5301              		.loc 1 1796 36 is_stmt 0 view .LVU1849
 5302 007e 0123     		movs	r3, #1
 5303 0080 4361     		str	r3, [r0, #20]
1797:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5304              		.loc 1 1797 3 is_stmt 1 view .LVU1850
 5305 0082 FFF7FEFF 		bl	SDIO_DataConfig
 5306              	.LVL456:
1800:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_STAUS;
 5307              		.loc 1 1800 3 view .LVU1851
1800:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SD_APP_STAUS;
 5308              		.loc 1 1800 39 is_stmt 0 view .LVU1852
 5309 0086 2F48     		ldr	r0, .L318
 5310 0088 0460     		str	r4, [r0]
1801:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 5311              		.loc 1 1801 3 is_stmt 1 view .LVU1853
1801:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short;
 5312              		.loc 1 1801 39 is_stmt 0 view .LVU1854
 5313 008a 0D26     		movs	r6, #13
 5314 008c 4660     		str	r6, [r0, #4]
1802:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 5315              		.loc 1 1802 3 is_stmt 1 view .LVU1855
1802:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_Wait = SDIO_Wait_No;
 5316              		.loc 1 1802 39 is_stmt 0 view .LVU1856
 5317 008e 8760     		str	r7, [r0, #8]
1803:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 5318              		.loc 1 1803 3 is_stmt 1 view .LVU1857
1803:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_CmdInitStructure.SDIO_CPSM = SDIO_CPSM_Enable;
 5319              		.loc 1 1803 35 is_stmt 0 view .LVU1858
 5320 0090 C460     		str	r4, [r0, #12]
1804:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 5321              		.loc 1 1804 3 is_stmt 1 view .LVU1859
1804:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_SendCommand(&SDIO_CmdInitStructure);
 5322              		.loc 1 1804 35 is_stmt 0 view .LVU1860
 5323 0092 4FF48063 		mov	r3, #1024
 5324 0096 0361     		str	r3, [r0, #16]
1805:HW/SDCard/stm32_eval_sdio_sd.c ****   errorstatus = CmdResp1Error(SD_CMD_SD_APP_STAUS);
 5325              		.loc 1 1805 3 is_stmt 1 view .LVU1861
 5326 0098 FFF7FEFF 		bl	SDIO_SendCommand
 5327              	.LVL457:
1806:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5328              		.loc 1 1806 3 view .LVU1862
1806:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5329              		.loc 1 1806 17 is_stmt 0 view .LVU1863
 5330 009c 3046     		mov	r0, r6
 5331 009e FFF7FEFF 		bl	CmdResp1Error
 5332              	.LVL458:
1808:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5333              		.loc 1 1808 3 is_stmt 1 view .LVU1864
1808:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5334              		.loc 1 1808 6 is_stmt 0 view .LVU1865
 5335 00a2 0646     		mov	r6, r0
 5336 00a4 0028     		cmp	r0, #0
 5337 00a6 4BD1     		bne	.L301
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 169


 5338              	.LVL459:
 5339              	.L304:
1813:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5340              		.loc 1 1813 10 is_stmt 1 view .LVU1866
1813:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5341              		.loc 1 1813 16 is_stmt 0 view .LVU1867
 5342 00a8 294B     		ldr	r3, .L318+12
 5343 00aa 5C6B     		ldr	r4, [r3, #52]
1813:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5344              		.loc 1 1813 22 view .LVU1868
 5345 00ac 40F22A62 		movw	r2, #1578
1813:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5346              		.loc 1 1813 10 view .LVU1869
 5347 00b0 1440     		ands	r4, r4, r2
 5348 00b2 0FD1     		bne	.L314
1815:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 5349              		.loc 1 1815 5 is_stmt 1 view .LVU1870
1815:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 5350              		.loc 1 1815 9 is_stmt 0 view .LVU1871
 5351 00b4 4FF40040 		mov	r0, #32768
 5352 00b8 FFF7FEFF 		bl	SDIO_GetFlagStatus
 5353              	.LVL460:
1815:HW/SDCard/stm32_eval_sdio_sd.c ****     {
 5354              		.loc 1 1815 8 view .LVU1872
 5355 00bc 0028     		cmp	r0, #0
 5356 00be F3D0     		beq	.L304
 5357 00c0 04E0     		b	.L303
 5358              	.LVL461:
 5359              	.L305:
1819:HW/SDCard/stm32_eval_sdio_sd.c ****       }
 5360              		.loc 1 1819 9 is_stmt 1 discriminator 3 view .LVU1873
1819:HW/SDCard/stm32_eval_sdio_sd.c ****       }
 5361              		.loc 1 1819 32 is_stmt 0 discriminator 3 view .LVU1874
 5362 00c2 FFF7FEFF 		bl	SDIO_ReadData
 5363              	.LVL462:
1819:HW/SDCard/stm32_eval_sdio_sd.c ****       }
 5364              		.loc 1 1819 30 discriminator 3 view .LVU1875
 5365 00c6 45F82400 		str	r0, [r5, r4, lsl #2]
1817:HW/SDCard/stm32_eval_sdio_sd.c ****       {
 5366              		.loc 1 1817 39 is_stmt 1 discriminator 3 view .LVU1876
 5367 00ca 0134     		adds	r4, r4, #1
 5368              	.LVL463:
 5369              	.L303:
1817:HW/SDCard/stm32_eval_sdio_sd.c ****       {
 5370              		.loc 1 1817 29 discriminator 1 view .LVU1877
 5371 00cc 072C     		cmp	r4, #7
 5372 00ce F8D9     		bls	.L305
1821:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 5373              		.loc 1 1821 7 view .LVU1878
1821:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 5374              		.loc 1 1821 17 is_stmt 0 view .LVU1879
 5375 00d0 2035     		adds	r5, r5, #32
 5376              	.LVL464:
1821:HW/SDCard/stm32_eval_sdio_sd.c ****     }
 5377              		.loc 1 1821 17 view .LVU1880
 5378 00d2 E9E7     		b	.L304
 5379              	.LVL465:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 170


 5380              	.L314:
1825:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5381              		.loc 1 1825 3 is_stmt 1 view .LVU1881
1825:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5382              		.loc 1 1825 7 is_stmt 0 view .LVU1882
 5383 00d4 0820     		movs	r0, #8
 5384 00d6 FFF7FEFF 		bl	SDIO_GetFlagStatus
 5385              	.LVL466:
1825:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5386              		.loc 1 1825 6 view .LVU1883
 5387 00da 90B9     		cbnz	r0, .L315
1831:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5388              		.loc 1 1831 8 is_stmt 1 view .LVU1884
1831:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5389              		.loc 1 1831 12 is_stmt 0 view .LVU1885
 5390 00dc 0220     		movs	r0, #2
 5391 00de FFF7FEFF 		bl	SDIO_GetFlagStatus
 5392              	.LVL467:
1831:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5393              		.loc 1 1831 11 view .LVU1886
 5394 00e2 98B9     		cbnz	r0, .L316
1837:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5395              		.loc 1 1837 8 is_stmt 1 view .LVU1887
1837:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5396              		.loc 1 1837 12 is_stmt 0 view .LVU1888
 5397 00e4 2020     		movs	r0, #32
 5398 00e6 FFF7FEFF 		bl	SDIO_GetFlagStatus
 5399              	.LVL468:
1837:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5400              		.loc 1 1837 11 view .LVU1889
 5401 00ea A0B9     		cbnz	r0, .L317
1843:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5402              		.loc 1 1843 8 is_stmt 1 view .LVU1890
1843:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5403              		.loc 1 1843 12 is_stmt 0 view .LVU1891
 5404 00ec 4FF40070 		mov	r0, #512
 5405 00f0 FFF7FEFF 		bl	SDIO_GetFlagStatus
 5406              	.LVL469:
1843:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5407              		.loc 1 1843 11 view .LVU1892
 5408 00f4 C0B1     		cbz	r0, .L310
1845:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_START_BIT_ERR;
 5409              		.loc 1 1845 5 is_stmt 1 view .LVU1893
 5410 00f6 4FF40070 		mov	r0, #512
 5411 00fa FFF7FEFF 		bl	SDIO_ClearFlag
 5412              	.LVL470:
1846:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 5413              		.loc 1 1846 5 view .LVU1894
1847:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5414              		.loc 1 1847 5 view .LVU1895
1847:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5415              		.loc 1 1847 11 is_stmt 0 view .LVU1896
 5416 00fe 0726     		movs	r6, #7
 5417 0100 1EE0     		b	.L301
 5418              	.LVL471:
 5419              	.L315:
1827:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_DATA_TIMEOUT;
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 171


 5420              		.loc 1 1827 5 is_stmt 1 view .LVU1897
 5421 0102 0820     		movs	r0, #8
 5422 0104 FFF7FEFF 		bl	SDIO_ClearFlag
 5423              	.LVL472:
1828:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 5424              		.loc 1 1828 5 view .LVU1898
1829:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5425              		.loc 1 1829 5 view .LVU1899
1829:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5426              		.loc 1 1829 11 is_stmt 0 view .LVU1900
 5427 0108 0426     		movs	r6, #4
 5428 010a 19E0     		b	.L301
 5429              	.LVL473:
 5430              	.L316:
1833:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_DATA_CRC_FAIL;
 5431              		.loc 1 1833 5 is_stmt 1 view .LVU1901
 5432 010c 0220     		movs	r0, #2
 5433 010e FFF7FEFF 		bl	SDIO_ClearFlag
 5434              	.LVL474:
1834:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 5435              		.loc 1 1834 5 view .LVU1902
1835:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5436              		.loc 1 1835 5 view .LVU1903
1835:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5437              		.loc 1 1835 11 is_stmt 0 view .LVU1904
 5438 0112 0226     		movs	r6, #2
 5439 0114 14E0     		b	.L301
 5440              	.LVL475:
 5441              	.L317:
1839:HW/SDCard/stm32_eval_sdio_sd.c ****     errorstatus = SD_RX_OVERRUN;
 5442              		.loc 1 1839 5 is_stmt 1 view .LVU1905
 5443 0116 2020     		movs	r0, #32
 5444 0118 FFF7FEFF 		bl	SDIO_ClearFlag
 5445              	.LVL476:
1840:HW/SDCard/stm32_eval_sdio_sd.c ****     return(errorstatus);
 5446              		.loc 1 1840 5 view .LVU1906
1841:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5447              		.loc 1 1841 5 view .LVU1907
1841:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5448              		.loc 1 1841 11 is_stmt 0 view .LVU1908
 5449 011c 0626     		movs	r6, #6
 5450 011e 0FE0     		b	.L301
 5451              	.LVL477:
 5452              	.L311:
1852:HW/SDCard/stm32_eval_sdio_sd.c ****     psdstatus++;
 5453              		.loc 1 1852 5 is_stmt 1 view .LVU1909
1852:HW/SDCard/stm32_eval_sdio_sd.c ****     psdstatus++;
 5454              		.loc 1 1852 18 is_stmt 0 view .LVU1910
 5455 0120 FFF7FEFF 		bl	SDIO_ReadData
 5456              	.LVL478:
1852:HW/SDCard/stm32_eval_sdio_sd.c ****     psdstatus++;
 5457              		.loc 1 1852 16 view .LVU1911
 5458 0124 45F8040B 		str	r0, [r5], #4
 5459              	.LVL479:
1853:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5460              		.loc 1 1853 5 is_stmt 1 view .LVU1912
 5461              	.L310:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 172


1850:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5462              		.loc 1 1850 47 view .LVU1913
1850:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5463              		.loc 1 1850 10 is_stmt 0 view .LVU1914
 5464 0128 4FF40010 		mov	r0, #2097152
 5465 012c FFF7FEFF 		bl	SDIO_GetFlagStatus
 5466              	.LVL480:
1850:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5467              		.loc 1 1850 47 view .LVU1915
 5468 0130 0028     		cmp	r0, #0
 5469 0132 F5D1     		bne	.L311
1857:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5470              		.loc 1 1857 3 is_stmt 1 view .LVU1916
 5471 0134 40F2FF50 		movw	r0, #1535
 5472 0138 FFF7FEFF 		bl	SDIO_ClearFlag
 5473              	.LVL481:
1859:HW/SDCard/stm32_eval_sdio_sd.c **** }
 5474              		.loc 1 1859 3 view .LVU1917
1859:HW/SDCard/stm32_eval_sdio_sd.c **** }
 5475              		.loc 1 1859 9 is_stmt 0 view .LVU1918
 5476 013c 00E0     		b	.L301
 5477              	.LVL482:
 5478              	.L312:
1759:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5479              		.loc 1 1759 11 view .LVU1919
 5480 013e 0E26     		movs	r6, #14
 5481              	.LVL483:
 5482              	.L301:
1860:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5483              		.loc 1 1860 1 view .LVU1920
 5484 0140 3046     		mov	r0, r6
 5485 0142 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 5486              	.LVL484:
 5487              	.L319:
1860:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5488              		.loc 1 1860 1 view .LVU1921
 5489              		.align	2
 5490              	.L318:
 5491 0144 00000000 		.word	SDIO_CmdInitStructure
 5492 0148 00000000 		.word	RCA
 5493 014c 00000000 		.word	SDIO_DataInitStructure
 5494 0150 00800140 		.word	1073840128
 5495              		.cfi_endproc
 5496              	.LFE58:
 5498              		.section	.text.SD_GetCardStatus,"ax",%progbits
 5499              		.align	1
 5500              		.global	SD_GetCardStatus
 5501              		.syntax unified
 5502              		.thumb
 5503              		.thumb_func
 5505              	SD_GetCardStatus:
 5506              	.LVL485:
 5507              	.LFB45:
 985:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 5508              		.loc 1 985 1 is_stmt 1 view -0
 5509              		.cfi_startproc
 5510              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 173


 5511              		@ frame_needed = 0, uses_anonymous_args = 0
 985:HW/SDCard/stm32_eval_sdio_sd.c ****   SD_Error errorstatus = SD_OK;
 5512              		.loc 1 985 1 is_stmt 0 view .LVU1923
 5513 0000 10B5     		push	{r4, lr}
 5514              	.LCFI59:
 5515              		.cfi_def_cfa_offset 8
 5516              		.cfi_offset 4, -8
 5517              		.cfi_offset 14, -4
 5518 0002 0446     		mov	r4, r0
 986:HW/SDCard/stm32_eval_sdio_sd.c ****   uint8_t tmp = 0;
 5519              		.loc 1 986 3 is_stmt 1 view .LVU1924
 5520              	.LVL486:
 987:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5521              		.loc 1 987 3 view .LVU1925
 989:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5522              		.loc 1 989 3 view .LVU1926
 989:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5523              		.loc 1 989 17 is_stmt 0 view .LVU1927
 5524 0004 1D48     		ldr	r0, .L323
 5525              	.LVL487:
 989:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5526              		.loc 1 989 17 view .LVU1928
 5527 0006 FFF7FEFF 		bl	SD_SendSDStatus
 5528              	.LVL488:
 991:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5529              		.loc 1 991 3 is_stmt 1 view .LVU1929
 991:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5530              		.loc 1 991 6 is_stmt 0 view .LVU1930
 5531 000a 0028     		cmp	r0, #0
 5532 000c 35D1     		bne	.L321
 997:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->DAT_BUS_WIDTH = tmp;
 5533              		.loc 1 997 3 is_stmt 1 view .LVU1931
 997:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->DAT_BUS_WIDTH = tmp;
 5534              		.loc 1 997 32 is_stmt 0 view .LVU1932
 5535 000e 1B4B     		ldr	r3, .L323
 5536 0010 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 997:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->DAT_BUS_WIDTH = tmp;
 5537              		.loc 1 997 7 view .LVU1933
 5538 0012 9209     		lsrs	r2, r2, #6
 5539              	.LVL489:
 998:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5540              		.loc 1 998 3 is_stmt 1 view .LVU1934
 998:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5541              		.loc 1 998 29 is_stmt 0 view .LVU1935
 5542 0014 2270     		strb	r2, [r4]
1001:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SECURED_MODE = tmp;
 5543              		.loc 1 1001 3 is_stmt 1 view .LVU1936
1001:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SECURED_MODE = tmp;
 5544              		.loc 1 1001 32 is_stmt 0 view .LVU1937
 5545 0016 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 5546              	.LVL490:
1001:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SECURED_MODE = tmp;
 5547              		.loc 1 1001 7 view .LVU1938
 5548 0018 C2F34012 		ubfx	r2, r2, #5, #1
 5549              	.LVL491:
1002:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5550              		.loc 1 1002 3 is_stmt 1 view .LVU1939
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 174


1002:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5551              		.loc 1 1002 28 is_stmt 0 view .LVU1940
 5552 001c 6270     		strb	r2, [r4, #1]
1005:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SD_CARD_TYPE = tmp << 8;
 5553              		.loc 1 1005 3 is_stmt 1 view .LVU1941
1005:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SD_CARD_TYPE = tmp << 8;
 5554              		.loc 1 1005 7 is_stmt 0 view .LVU1942
 5555 001e 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 5556              	.LVL492:
1006:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5557              		.loc 1 1006 3 is_stmt 1 view .LVU1943
1006:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5558              		.loc 1 1006 34 is_stmt 0 view .LVU1944
 5559 0020 1202     		lsls	r2, r2, #8
1006:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5560              		.loc 1 1006 28 view .LVU1945
 5561 0022 6280     		strh	r2, [r4, #2]	@ movhi
 5562              	.LVL493:
1009:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SD_CARD_TYPE |= tmp;
 5563              		.loc 1 1009 3 is_stmt 1 view .LVU1946
1009:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SD_CARD_TYPE |= tmp;
 5564              		.loc 1 1009 7 is_stmt 0 view .LVU1947
 5565 0024 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 5566              	.LVL494:
1010:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5567              		.loc 1 1010 3 is_stmt 1 view .LVU1948
1010:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5568              		.loc 1 1010 13 is_stmt 0 view .LVU1949
 5569 0026 6188     		ldrh	r1, [r4, #2]
 5570 0028 89B2     		uxth	r1, r1
1010:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5571              		.loc 1 1010 28 view .LVU1950
 5572 002a 0A43     		orrs	r2, r2, r1
 5573 002c 6280     		strh	r2, [r4, #2]	@ movhi
 5574              	.LVL495:
1013:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SIZE_OF_PROTECTED_AREA = tmp << 24;
 5575              		.loc 1 1013 3 is_stmt 1 view .LVU1951
1013:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SIZE_OF_PROTECTED_AREA = tmp << 24;
 5576              		.loc 1 1013 7 is_stmt 0 view .LVU1952
 5577 002e 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 5578              	.LVL496:
1014:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5579              		.loc 1 1014 3 is_stmt 1 view .LVU1953
1014:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5580              		.loc 1 1014 44 is_stmt 0 view .LVU1954
 5581 0030 1206     		lsls	r2, r2, #24
1014:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5582              		.loc 1 1014 38 view .LVU1955
 5583 0032 6260     		str	r2, [r4, #4]
 5584              	.LVL497:
1017:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp << 16;
 5585              		.loc 1 1017 3 is_stmt 1 view .LVU1956
1017:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp << 16;
 5586              		.loc 1 1017 7 is_stmt 0 view .LVU1957
 5587 0034 5979     		ldrb	r1, [r3, #5]	@ zero_extendqisi2
 5588              	.LVL498:
1018:HW/SDCard/stm32_eval_sdio_sd.c **** 
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 175


 5589              		.loc 1 1018 3 is_stmt 1 view .LVU1958
1018:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5590              		.loc 1 1018 13 is_stmt 0 view .LVU1959
 5591 0036 6268     		ldr	r2, [r4, #4]
1018:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5592              		.loc 1 1018 38 view .LVU1960
 5593 0038 42EA0142 		orr	r2, r2, r1, lsl #16
 5594 003c 6260     		str	r2, [r4, #4]
 5595              	.LVL499:
1021:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp << 8;
 5596              		.loc 1 1021 3 is_stmt 1 view .LVU1961
1021:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp << 8;
 5597              		.loc 1 1021 7 is_stmt 0 view .LVU1962
 5598 003e 9979     		ldrb	r1, [r3, #6]	@ zero_extendqisi2
 5599              	.LVL500:
1022:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5600              		.loc 1 1022 3 is_stmt 1 view .LVU1963
1022:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5601              		.loc 1 1022 13 is_stmt 0 view .LVU1964
 5602 0040 6268     		ldr	r2, [r4, #4]
1022:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5603              		.loc 1 1022 38 view .LVU1965
 5604 0042 42EA0122 		orr	r2, r2, r1, lsl #8
 5605 0046 6260     		str	r2, [r4, #4]
 5606              	.LVL501:
1025:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp;
 5607              		.loc 1 1025 3 is_stmt 1 view .LVU1966
1025:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SIZE_OF_PROTECTED_AREA |= tmp;
 5608              		.loc 1 1025 7 is_stmt 0 view .LVU1967
 5609 0048 DA79     		ldrb	r2, [r3, #7]	@ zero_extendqisi2
 5610              	.LVL502:
1026:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5611              		.loc 1 1026 3 is_stmt 1 view .LVU1968
1026:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5612              		.loc 1 1026 13 is_stmt 0 view .LVU1969
 5613 004a 6168     		ldr	r1, [r4, #4]
1026:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5614              		.loc 1 1026 38 view .LVU1970
 5615 004c 0A43     		orrs	r2, r2, r1
 5616 004e 6260     		str	r2, [r4, #4]
 5617              	.LVL503:
1029:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SPEED_CLASS = tmp;
 5618              		.loc 1 1029 3 is_stmt 1 view .LVU1971
1029:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->SPEED_CLASS = tmp;
 5619              		.loc 1 1029 7 is_stmt 0 view .LVU1972
 5620 0050 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 5621              	.LVL504:
1030:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5622              		.loc 1 1030 3 is_stmt 1 view .LVU1973
1030:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5623              		.loc 1 1030 27 is_stmt 0 view .LVU1974
 5624 0052 2272     		strb	r2, [r4, #8]
1033:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->PERFORMANCE_MOVE = tmp;
 5625              		.loc 1 1033 3 is_stmt 1 view .LVU1975
1033:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->PERFORMANCE_MOVE = tmp;
 5626              		.loc 1 1033 7 is_stmt 0 view .LVU1976
 5627 0054 5A7A     		ldrb	r2, [r3, #9]	@ zero_extendqisi2
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 176


 5628              	.LVL505:
1034:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5629              		.loc 1 1034 3 is_stmt 1 view .LVU1977
1034:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5630              		.loc 1 1034 32 is_stmt 0 view .LVU1978
 5631 0056 6272     		strb	r2, [r4, #9]
1037:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->AU_SIZE = tmp;
 5632              		.loc 1 1037 3 is_stmt 1 view .LVU1979
1037:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->AU_SIZE = tmp;
 5633              		.loc 1 1037 32 is_stmt 0 view .LVU1980
 5634 0058 9A7A     		ldrb	r2, [r3, #10]	@ zero_extendqisi2
 5635              	.LVL506:
1037:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->AU_SIZE = tmp;
 5636              		.loc 1 1037 7 view .LVU1981
 5637 005a 1209     		lsrs	r2, r2, #4
 5638              	.LVL507:
1038:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5639              		.loc 1 1038 3 is_stmt 1 view .LVU1982
1038:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5640              		.loc 1 1038 23 is_stmt 0 view .LVU1983
 5641 005c A272     		strb	r2, [r4, #10]
1041:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->ERASE_SIZE = tmp << 8;
 5642              		.loc 1 1041 3 is_stmt 1 view .LVU1984
1041:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->ERASE_SIZE = tmp << 8;
 5643              		.loc 1 1041 7 is_stmt 0 view .LVU1985
 5644 005e DA7A     		ldrb	r2, [r3, #11]	@ zero_extendqisi2
 5645              	.LVL508:
1042:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5646              		.loc 1 1042 3 is_stmt 1 view .LVU1986
1042:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5647              		.loc 1 1042 32 is_stmt 0 view .LVU1987
 5648 0060 1202     		lsls	r2, r2, #8
1042:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5649              		.loc 1 1042 26 view .LVU1988
 5650 0062 A281     		strh	r2, [r4, #12]	@ movhi
 5651              	.LVL509:
1045:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->ERASE_SIZE |= tmp;
 5652              		.loc 1 1045 3 is_stmt 1 view .LVU1989
1045:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->ERASE_SIZE |= tmp;
 5653              		.loc 1 1045 7 is_stmt 0 view .LVU1990
 5654 0064 1A7B     		ldrb	r2, [r3, #12]	@ zero_extendqisi2
 5655              	.LVL510:
1046:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5656              		.loc 1 1046 3 is_stmt 1 view .LVU1991
1046:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5657              		.loc 1 1046 13 is_stmt 0 view .LVU1992
 5658 0066 A189     		ldrh	r1, [r4, #12]
 5659 0068 89B2     		uxth	r1, r1
1046:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5660              		.loc 1 1046 26 view .LVU1993
 5661 006a 0A43     		orrs	r2, r2, r1
 5662 006c A281     		strh	r2, [r4, #12]	@ movhi
 5663              	.LVL511:
1049:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->ERASE_TIMEOUT = tmp;
 5664              		.loc 1 1049 3 is_stmt 1 view .LVU1994
1049:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->ERASE_TIMEOUT = tmp;
 5665              		.loc 1 1049 32 is_stmt 0 view .LVU1995
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 177


 5666 006e 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
1049:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->ERASE_TIMEOUT = tmp;
 5667              		.loc 1 1049 7 view .LVU1996
 5668 0070 9A08     		lsrs	r2, r3, #2
 5669              	.LVL512:
1050:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5670              		.loc 1 1050 3 is_stmt 1 view .LVU1997
1050:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5671              		.loc 1 1050 29 is_stmt 0 view .LVU1998
 5672 0072 A273     		strb	r2, [r4, #14]
1053:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->ERASE_OFFSET = tmp;
 5673              		.loc 1 1053 3 is_stmt 1 view .LVU1999
1053:HW/SDCard/stm32_eval_sdio_sd.c ****   cardstatus->ERASE_OFFSET = tmp;
 5674              		.loc 1 1053 7 is_stmt 0 view .LVU2000
 5675 0074 03F00303 		and	r3, r3, #3
 5676              	.LVL513:
1054:HW/SDCard/stm32_eval_sdio_sd.c ****  
 5677              		.loc 1 1054 3 is_stmt 1 view .LVU2001
1054:HW/SDCard/stm32_eval_sdio_sd.c ****  
 5678              		.loc 1 1054 28 is_stmt 0 view .LVU2002
 5679 0078 E373     		strb	r3, [r4, #15]
1056:HW/SDCard/stm32_eval_sdio_sd.c **** }
 5680              		.loc 1 1056 3 is_stmt 1 view .LVU2003
 5681              	.LVL514:
 5682              	.L321:
1057:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5683              		.loc 1 1057 1 is_stmt 0 view .LVU2004
 5684 007a 10BD     		pop	{r4, pc}
 5685              	.LVL515:
 5686              	.L324:
1057:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5687              		.loc 1 1057 1 view .LVU2005
 5688              		.align	2
 5689              	.L323:
 5690 007c 00000000 		.word	SDSTATUS_Tab
 5691              		.cfi_endproc
 5692              	.LFE45:
 5694              		.section	.text.SD_ProcessIRQSrc,"ax",%progbits
 5695              		.align	1
 5696              		.global	SD_ProcessIRQSrc
 5697              		.syntax unified
 5698              		.thumb
 5699              		.thumb_func
 5701              	SD_ProcessIRQSrc:
 5702              	.LFB59:
1868:HW/SDCard/stm32_eval_sdio_sd.c ****   /* StopCondition‰∏∫1‰ª£Ë°®Â§öÂùóËØªÂÜô */
 5703              		.loc 1 1868 1 is_stmt 1 view -0
 5704              		.cfi_startproc
 5705              		@ args = 0, pretend = 0, frame = 0
 5706              		@ frame_needed = 0, uses_anonymous_args = 0
 5707 0000 08B5     		push	{r3, lr}
 5708              	.LCFI60:
 5709              		.cfi_def_cfa_offset 8
 5710              		.cfi_offset 3, -8
 5711              		.cfi_offset 14, -4
1870:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5712              		.loc 1 1870 3 view .LVU2007
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 178


1870:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5713              		.loc 1 1870 21 is_stmt 0 view .LVU2008
 5714 0002 114B     		ldr	r3, .L330
 5715 0004 1B68     		ldr	r3, [r3]
1870:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5716              		.loc 1 1870 6 view .LVU2009
 5717 0006 012B     		cmp	r3, #1
 5718 0008 11D0     		beq	.L329
1878:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5719              		.loc 1 1878 5 is_stmt 1 view .LVU2010
1878:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5720              		.loc 1 1878 19 is_stmt 0 view .LVU2011
 5721 000a 104B     		ldr	r3, .L330+4
 5722 000c 0022     		movs	r2, #0
 5723 000e 1A70     		strb	r2, [r3]
 5724              	.L327:
1880:HW/SDCard/stm32_eval_sdio_sd.c ****   SDIO_ITConfig(SDIO_IT_DATAEND, DISABLE);
 5725              		.loc 1 1880 3 is_stmt 1 view .LVU2012
 5726 0010 4FF48070 		mov	r0, #256
 5727 0014 FFF7FEFF 		bl	SDIO_ClearITPendingBit
 5728              	.LVL516:
1881:HW/SDCard/stm32_eval_sdio_sd.c ****   TransferEnd = 1;
 5729              		.loc 1 1881 3 view .LVU2013
 5730 0018 0021     		movs	r1, #0
 5731 001a 4FF48070 		mov	r0, #256
 5732 001e FFF7FEFF 		bl	SDIO_ITConfig
 5733              	.LVL517:
1882:HW/SDCard/stm32_eval_sdio_sd.c ****   return(TransferError);
 5734              		.loc 1 1882 3 view .LVU2014
1882:HW/SDCard/stm32_eval_sdio_sd.c ****   return(TransferError);
 5735              		.loc 1 1882 15 is_stmt 0 view .LVU2015
 5736 0022 0B4B     		ldr	r3, .L330+8
 5737 0024 0122     		movs	r2, #1
 5738 0026 1A60     		str	r2, [r3]
1883:HW/SDCard/stm32_eval_sdio_sd.c **** }
 5739              		.loc 1 1883 3 is_stmt 1 view .LVU2016
1883:HW/SDCard/stm32_eval_sdio_sd.c **** }
 5740              		.loc 1 1883 9 is_stmt 0 view .LVU2017
 5741 0028 084B     		ldr	r3, .L330+4
 5742 002a 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
1884:HW/SDCard/stm32_eval_sdio_sd.c **** 
 5743              		.loc 1 1884 1 view .LVU2018
 5744 002c 08BD     		pop	{r3, pc}
 5745              	.L329:
1872:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO->CMD = 0x44C;  // CMD12: ÁªìÊùüËØªÂÜô
 5746              		.loc 1 1872 5 is_stmt 1 view .LVU2019
1872:HW/SDCard/stm32_eval_sdio_sd.c ****     SDIO->CMD = 0x44C;  // CMD12: ÁªìÊùüËØªÂÜô
 5747              		.loc 1 1872 15 is_stmt 0 view .LVU2020
 5748 002e 094B     		ldr	r3, .L330+12
 5749 0030 0022     		movs	r2, #0
 5750 0032 9A60     		str	r2, [r3, #8]
1873:HW/SDCard/stm32_eval_sdio_sd.c ****     TransferError = CmdResp1Error(SD_CMD_STOP_TRANSMISSION);
 5751              		.loc 1 1873 5 is_stmt 1 view .LVU2021
1873:HW/SDCard/stm32_eval_sdio_sd.c ****     TransferError = CmdResp1Error(SD_CMD_STOP_TRANSMISSION);
 5752              		.loc 1 1873 15 is_stmt 0 view .LVU2022
 5753 0034 40F24C42 		movw	r2, #1100
 5754 0038 DA60     		str	r2, [r3, #12]
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 179


1874:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5755              		.loc 1 1874 5 is_stmt 1 view .LVU2023
1874:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5756              		.loc 1 1874 21 is_stmt 0 view .LVU2024
 5757 003a 0C20     		movs	r0, #12
 5758 003c FFF7FEFF 		bl	CmdResp1Error
 5759              	.LVL518:
1874:HW/SDCard/stm32_eval_sdio_sd.c ****   }
 5760              		.loc 1 1874 19 view .LVU2025
 5761 0040 024B     		ldr	r3, .L330+4
 5762 0042 1870     		strb	r0, [r3]
 5763 0044 E4E7     		b	.L327
 5764              	.L331:
 5765 0046 00BF     		.align	2
 5766              	.L330:
 5767 0048 00000000 		.word	StopCondition
 5768 004c 00000000 		.word	TransferError
 5769 0050 00000000 		.word	TransferEnd
 5770 0054 00800140 		.word	1073840128
 5771              		.cfi_endproc
 5772              	.LFE59:
 5774              		.section	.text.SDIO_IRQHandler,"ax",%progbits
 5775              		.align	1
 5776              		.global	SDIO_IRQHandler
 5777              		.syntax unified
 5778              		.thumb
 5779              		.thumb_func
 5781              	SDIO_IRQHandler:
 5782              	.LFB35:
 137:HW/SDCard/SDCard_eval.h **** }
 138:HW/SDCard/SDCard_eval.h **** 
 139:HW/SDCard/SDCard_eval.h **** /**
 140:HW/SDCard/SDCard_eval.h ****  * @brief Ê£ÄÊü•BlockSizeÂ§ßÂ∞èÔºåÂ¶ÇÊûúÊõ¥Êñ∞‰∫ÜÂàôÂèëÈÄÅCMD16Êõ¥Êñ∞
 141:HW/SDCard/SDCard_eval.h ****  * @return SD_Error 
 142:HW/SDCard/SDCard_eval.h ****  */
 143:HW/SDCard/SDCard_eval.h **** #define SD_CHECK_BLOCKSIZE(BlockSize){ \
 144:HW/SDCard/SDCard_eval.h ****   /* Â¶ÇÊûúBlockSizeÂíå‰∏äÊ¨°ËÆæÂÆöÁöÑ‰∏ç‰∏ÄÊ†∑ÔºåÂàôÂèëÈÄÅCMD16ÂëΩ‰ª§ËøõË°åÊõ¥Êñ∞ */ \
 145:HW/SDCard/SDCard_eval.h ****   /* Â¶ÇÊûú‰∏çÊõ¥Êñ∞ÔºåÁ®ãÂ∫è‰ºöÂç°Ê≠ªÂú®DMAÁ≠âÂæÖÂæ™ÁéØ */ \
 146:HW/SDCard/SDCard_eval.h ****   if(BlockSize != SD_BlockSize){ \
 147:HW/SDCard/SDCard_eval.h ****     /* Ê£ÄÊü•BlockSizeÂ§ßÂ∞èÊòØÂê¶Á¨¶ÂêàËßÑËåÉ */ \
 148:HW/SDCard/SDCard_eval.h ****     if(BlockSize == 0 && BlockSize != 2048 && ((BlockSize & (BlockSize - 1)) != 0)){ \
 149:HW/SDCard/SDCard_eval.h ****       return SD_INVALID_PARAMETER; \
 150:HW/SDCard/SDCard_eval.h ****     }  \
 151:HW/SDCard/SDCard_eval.h ****      \
 152:HW/SDCard/SDCard_eval.h ****     SDIO_CmdInitStructure.SDIO_Argument = BlockSize; \
 153:HW/SDCard/SDCard_eval.h ****     SDIO_CmdInitStructure.SDIO_CmdIndex = SD_CMD_SET_BLOCKLEN; \
 154:HW/SDCard/SDCard_eval.h ****     SDIO_CmdInitStructure.SDIO_Response = SDIO_Response_Short; \
 155:HW/SDCard/SDCard_eval.h ****     SDIO_CmdInitStructure.SDIO_Wait     = SDIO_Wait_No; \
 156:HW/SDCard/SDCard_eval.h ****     SDIO_CmdInitStructure.SDIO_CPSM     = SDIO_CPSM_Enable; \
 157:HW/SDCard/SDCard_eval.h ****     SDIO_SendCommand(&SDIO_CmdInitStructure); \
 158:HW/SDCard/SDCard_eval.h ****      \
 159:HW/SDCard/SDCard_eval.h ****     errorstatus = CmdResp1Error(SD_CMD_SET_BLOCKLEN); \
 160:HW/SDCard/SDCard_eval.h ****  \
 161:HW/SDCard/SDCard_eval.h ****     if (SD_OK != errorstatus) \
 162:HW/SDCard/SDCard_eval.h ****     { \
 163:HW/SDCard/SDCard_eval.h ****       return(errorstatus); \
 164:HW/SDCard/SDCard_eval.h ****     } \
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 180


 165:HW/SDCard/SDCard_eval.h ****  \
 166:HW/SDCard/SDCard_eval.h ****     SD_BlockSize = BlockSize; \
 167:HW/SDCard/SDCard_eval.h ****   } \
 168:HW/SDCard/SDCard_eval.h **** }
 169:HW/SDCard/SDCard_eval.h **** 
 170:HW/SDCard/SDCard_eval.h **** /**
 171:HW/SDCard/SDCard_eval.h ****  * @brief SDIO‰∏≠Êñ≠ÊúçÂä°ÂáΩÊï∞
 172:HW/SDCard/SDCard_eval.h ****  * 
 173:HW/SDCard/SDCard_eval.h ****  */
 174:HW/SDCard/SDCard_eval.h **** void SDIO_IRQHandler(void){
 5783              		.loc 2 174 27 is_stmt 1 view -0
 5784              		.cfi_startproc
 5785              		@ args = 0, pretend = 0, frame = 0
 5786              		@ frame_needed = 0, uses_anonymous_args = 0
 5787 0000 08B5     		push	{r3, lr}
 5788              	.LCFI61:
 5789              		.cfi_def_cfa_offset 8
 5790              		.cfi_offset 3, -8
 5791              		.cfi_offset 14, -4
 175:HW/SDCard/SDCard_eval.h ****   SD_ProcessIRQSrc();
 5792              		.loc 2 175 3 view .LVU2027
 5793 0002 FFF7FEFF 		bl	SD_ProcessIRQSrc
 5794              	.LVL519:
 176:HW/SDCard/SDCard_eval.h **** }
 5795              		.loc 2 176 1 is_stmt 0 view .LVU2028
 5796 0006 08BD     		pop	{r3, pc}
 5797              		.cfi_endproc
 5798              	.LFE35:
 5800              		.section	.text.convert_from_bytes_to_power_of_two,"ax",%progbits
 5801              		.align	1
 5802              		.global	convert_from_bytes_to_power_of_two
 5803              		.syntax unified
 5804              		.thumb
 5805              		.thumb_func
 5807              	convert_from_bytes_to_power_of_two:
 5808              	.LVL520:
 5809              	.LFB69:
2484:HW/SDCard/stm32_eval_sdio_sd.c **** 
2485:HW/SDCard/stm32_eval_sdio_sd.c **** /**
2486:HW/SDCard/stm32_eval_sdio_sd.c ****   * @brief  Converts the number of bytes in power of two and returns the power.
2487:HW/SDCard/stm32_eval_sdio_sd.c ****   * @param  NumberOfBytes: number of bytes.
2488:HW/SDCard/stm32_eval_sdio_sd.c ****   * @retval None
2489:HW/SDCard/stm32_eval_sdio_sd.c ****   */
2490:HW/SDCard/stm32_eval_sdio_sd.c **** uint8_t convert_from_bytes_to_power_of_two(uint16_t NumberOfBytes)
2491:HW/SDCard/stm32_eval_sdio_sd.c **** {
 5810              		.loc 1 2491 1 is_stmt 1 view -0
 5811              		.cfi_startproc
 5812              		@ args = 0, pretend = 0, frame = 0
 5813              		@ frame_needed = 0, uses_anonymous_args = 0
 5814              		@ link register save eliminated.
 5815              		.loc 1 2491 1 is_stmt 0 view .LVU2030
 5816 0000 0346     		mov	r3, r0
2492:HW/SDCard/stm32_eval_sdio_sd.c ****   uint8_t count = 0;
 5817              		.loc 1 2492 3 is_stmt 1 view .LVU2031
 5818              	.LVL521:
2493:HW/SDCard/stm32_eval_sdio_sd.c **** 
2494:HW/SDCard/stm32_eval_sdio_sd.c ****   while (NumberOfBytes != 1)
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 181


 5819              		.loc 1 2494 3 view .LVU2032
2492:HW/SDCard/stm32_eval_sdio_sd.c ****   uint8_t count = 0;
 5820              		.loc 1 2492 11 is_stmt 0 view .LVU2033
 5821 0002 0020     		movs	r0, #0
 5822              	.LVL522:
 5823              		.loc 1 2494 9 view .LVU2034
 5824 0004 02E0     		b	.L335
 5825              	.LVL523:
 5826              	.L336:
2495:HW/SDCard/stm32_eval_sdio_sd.c ****   {
2496:HW/SDCard/stm32_eval_sdio_sd.c ****     NumberOfBytes >>= 1;
 5827              		.loc 1 2496 5 is_stmt 1 view .LVU2035
 5828              		.loc 1 2496 19 is_stmt 0 view .LVU2036
 5829 0006 5B08     		lsrs	r3, r3, #1
 5830              	.LVL524:
2497:HW/SDCard/stm32_eval_sdio_sd.c ****     count++;
 5831              		.loc 1 2497 5 is_stmt 1 view .LVU2037
 5832              		.loc 1 2497 10 is_stmt 0 view .LVU2038
 5833 0008 0130     		adds	r0, r0, #1
 5834              	.LVL525:
 5835              		.loc 1 2497 10 view .LVU2039
 5836 000a C0B2     		uxtb	r0, r0
 5837              	.LVL526:
 5838              	.L335:
2494:HW/SDCard/stm32_eval_sdio_sd.c ****   {
 5839              		.loc 1 2494 24 is_stmt 1 view .LVU2040
 5840 000c 012B     		cmp	r3, #1
 5841 000e FAD1     		bne	.L336
2498:HW/SDCard/stm32_eval_sdio_sd.c ****   }
2499:HW/SDCard/stm32_eval_sdio_sd.c ****   return(count);
 5842              		.loc 1 2499 3 view .LVU2041
2500:HW/SDCard/stm32_eval_sdio_sd.c **** }
 5843              		.loc 1 2500 1 is_stmt 0 view .LVU2042
 5844 0010 7047     		bx	lr
 5845              		.cfi_endproc
 5846              	.LFE69:
 5848              		.global	SDIO_DataInitStructure
 5849              		.section	.bss.SDIO_DataInitStructure,"aw",%nobits
 5850              		.align	2
 5853              	SDIO_DataInitStructure:
 5854 0000 00000000 		.space	24
 5854      00000000 
 5854      00000000 
 5854      00000000 
 5854      00000000 
 5855              		.global	SDIO_CmdInitStructure
 5856              		.section	.bss.SDIO_CmdInitStructure,"aw",%nobits
 5857              		.align	2
 5860              	SDIO_CmdInitStructure:
 5861 0000 00000000 		.space	20
 5861      00000000 
 5861      00000000 
 5861      00000000 
 5861      00000000 
 5862              		.global	SDIO_InitStructure
 5863              		.section	.bss.SDIO_InitStructure,"aw",%nobits
 5864              		.align	2
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 182


 5867              	SDIO_InitStructure:
 5868 0000 00000000 		.space	24
 5868      00000000 
 5868      00000000 
 5868      00000000 
 5868      00000000 
 5869              		.global	SDCardInfo
 5870              		.section	.bss.SDCardInfo,"aw",%nobits
 5871              		.align	3
 5874              	SDCardInfo:
 5875 0000 00000000 		.space	88
 5875      00000000 
 5875      00000000 
 5875      00000000 
 5875      00000000 
 5876              		.global	TransferEnd
 5877              		.section	.bss.TransferEnd,"aw",%nobits
 5878              		.align	2
 5881              	TransferEnd:
 5882 0000 00000000 		.space	4
 5883              		.global	TransferError
 5884              		.section	.bss.TransferError,"aw",%nobits
 5887              	TransferError:
 5888 0000 00       		.space	1
 5889              		.global	StopCondition
 5890              		.section	.bss.StopCondition,"aw",%nobits
 5891              		.align	2
 5894              	StopCondition:
 5895 0000 00000000 		.space	4
 5896              		.section	.bss.SDSTATUS_Tab,"aw",%nobits
 5897              		.align	2
 5900              	SDSTATUS_Tab:
 5901 0000 00000000 		.space	16
 5901      00000000 
 5901      00000000 
 5901      00000000 
 5902              		.section	.bss.RCA,"aw",%nobits
 5903              		.align	2
 5906              	RCA:
 5907 0000 00000000 		.space	4
 5908              		.section	.bss.CID_Tab,"aw",%nobits
 5909              		.align	2
 5912              	CID_Tab:
 5913 0000 00000000 		.space	16
 5913      00000000 
 5913      00000000 
 5913      00000000 
 5914              		.section	.bss.CSD_Tab,"aw",%nobits
 5915              		.align	2
 5918              	CSD_Tab:
 5919 0000 00000000 		.space	16
 5919      00000000 
 5919      00000000 
 5919      00000000 
 5920              		.section	.bss.CardType,"aw",%nobits
 5921              		.align	2
 5924              	CardType:
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 183


 5925 0000 00000000 		.space	4
 5926              		.section	.bss.SD_BlockSize,"aw",%nobits
 5927              		.align	2
 5930              	SD_BlockSize:
 5931 0000 00000000 		.space	4
 5932              		.text
 5933              	.Letext0:
 5934              		.file 3 "e:\\windows\\programs\\arm-gnu-toolchain-12.2.mpacbti-bet1-mingw-w64-i686-arm-none-eabi\\
 5935              		.file 4 "e:\\windows\\programs\\arm-gnu-toolchain-12.2.mpacbti-bet1-mingw-w64-i686-arm-none-eabi\\
 5936              		.file 5 "USER/stm32f10x.h"
 5937              		.file 6 "STM32F10x_FWLib/inc/stm32f10x_dma.h"
 5938              		.file 7 "STM32F10x_FWLib/inc/stm32f10x_gpio.h"
 5939              		.file 8 "STM32F10x_FWLib/inc/stm32f10x_sdio.h"
 5940              		.file 9 "STM32F10x_FWLib/inc/misc.h"
 5941              		.file 10 "HW/SDCard/stm32_eval_sdio_sd.h"
 5942              		.file 11 "STM32F10x_FWLib/inc/stm32f10x_rcc.h"
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 184


DEFINED SYMBOLS
                            *ABS*:00000000 stm32_eval_sdio_sd.c
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:19     .text.CmdResp1Error:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:24     .text.CmdResp1Error:00000000 CmdResp1Error
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:56     .text.CmdResp1Error:0000001c $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:61     .text.__SD_DMA_Conf_Impl:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:66     .text.__SD_DMA_Conf_Impl:00000000 __SD_DMA_Conf_Impl
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:172    .text.__SD_DMA_Conf_Impl:00000060 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:179    .text.CmdError:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:184    .text.CmdError:00000000 CmdError
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:244    .text.CmdResp7Error:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:249    .text.CmdResp7Error:00000000 CmdResp7Error
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:334    .text.CmdResp7Error:00000040 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:339    .text.CmdResp3Error:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:344    .text.CmdResp3Error:00000000 CmdResp3Error
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:407    .text.CmdResp3Error:00000030 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:412    .text.CmdResp2Error:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:417    .text.CmdResp2Error:00000000 CmdResp2Error
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:495    .text.CmdResp2Error:00000040 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:500    .text.CmdResp6Error:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:505    .text.CmdResp6Error:00000000 CmdResp6Error
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:661    .text.CmdResp6Error:00000080 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:666    .text.IsCardProgramming:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:671    .text.IsCardProgramming:00000000 IsCardProgramming
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1035   .text.IsCardProgramming:00000184 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5906   .bss.RCA:00000000 RCA
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5860   .bss.SDIO_CmdInitStructure:00000000 SDIO_CmdInitStructure
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1043   .text.FindSCR:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1048   .text.FindSCR:00000000 FindSCR
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1373   .text.FindSCR:00000158 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5853   .bss.SDIO_DataInitStructure:00000000 SDIO_DataInitStructure
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1381   .text.SDEnWideBus:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1386   .text.SDEnWideBus:00000000 SDEnWideBus
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1620   .text.SDEnWideBus:000000e0 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1626   .text.SD_LowLevel_Init:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1632   .text.SD_LowLevel_Init:00000000 SD_LowLevel_Init
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1718   .text.SD_LowLevel_Init:00000068 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1724   .text.SD_LowLevel_DeInit:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1730   .text.SD_LowLevel_DeInit:00000000 SD_LowLevel_DeInit
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1814   .text.SD_LowLevel_DeInit:0000006c $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1822   .text.SD_LowLevel_DMA_RxConfig:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1828   .text.SD_LowLevel_DMA_RxConfig:00000000 SD_LowLevel_DMA_RxConfig
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1851   .text.SD_LowLevel_DMA_TxConfig:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1857   .text.SD_LowLevel_DMA_TxConfig:00000000 SD_LowLevel_DMA_TxConfig
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1880   .text.SD_DeInit:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1886   .text.SD_DeInit:00000000 SD_DeInit
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1906   .text.SD_Detect:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1912   .text.SD_Detect:00000000 SD_Detect
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1939   .text.SD_PowerON:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:1945   .text.SD_PowerON:00000000 SD_PowerON
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:2276   .text.SD_PowerON:00000144 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5867   .bss.SDIO_InitStructure:00000000 SDIO_InitStructure
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5924   .bss.CardType:00000000 CardType
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:2283   .text.SD_PowerOFF:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:2289   .text.SD_PowerOFF:00000000 SD_PowerOFF
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:2314   .text.SD_InitializeCards:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:2320   .text.SD_InitializeCards:00000000 SD_InitializeCards
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 185


C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:2567   .text.SD_InitializeCards:000000fc $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5912   .bss.CID_Tab:00000000 CID_Tab
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5918   .bss.CSD_Tab:00000000 CSD_Tab
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:2576   .text.SD_GetCardInfo:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:2582   .text.SD_GetCardInfo:00000000 SD_GetCardInfo
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3192   .text.SD_GetCardInfo:00000298 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3200   .text.SD_EnableWideBusOperation:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3206   .text.SD_EnableWideBusOperation:00000000 SD_EnableWideBusOperation
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3340   .text.SD_EnableWideBusOperation:00000070 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3346   .text.SD_SelectDeselect:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3352   .text.SD_SelectDeselect:00000000 SD_SelectDeselect
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3404   .text.SD_SelectDeselect:00000028 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3409   .text.SD_Init:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3415   .text.SD_Init:00000000 SD_Init
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3526   .text.SD_Init:00000060 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5874   .bss.SDCardInfo:00000000 SDCardInfo
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3532   .text.SD_ReadBlock:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3538   .text.SD_ReadBlock:00000000 SD_ReadBlock
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3737   .text.SD_ReadBlock:000000c4 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5887   .bss.TransferError:00000000 TransferError
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5881   .bss.TransferEnd:00000000 TransferEnd
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5894   .bss.StopCondition:00000000 StopCondition
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5930   .bss.SD_BlockSize:00000000 SD_BlockSize
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3749   .text.SD_ReadMultiBlocks:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3755   .text.SD_ReadMultiBlocks:00000000 SD_ReadMultiBlocks
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3962   .text.SD_ReadMultiBlocks:000000d8 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3974   .text.SD_WaitReadOperation:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:3980   .text.SD_WaitReadOperation:00000000 SD_WaitReadOperation
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4039   .text.SD_WaitReadOperation:0000002c $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4046   .text.SD_WriteBlock:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4052   .text.SD_WriteBlock:00000000 SD_WriteBlock
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4251   .text.SD_WriteBlock:000000c4 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4263   .text.SD_WriteMultiBlocks:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4269   .text.SD_WriteMultiBlocks:00000000 SD_WriteMultiBlocks
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4550   .text.SD_WriteMultiBlocks:00000124 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4563   .text.SD_WaitWriteOperation:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4569   .text.SD_WaitWriteOperation:00000000 SD_WaitWriteOperation
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4635   .text.SD_WaitWriteOperation:00000038 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4642   .text.SD_GetTransferState:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4648   .text.SD_GetTransferState:00000000 SD_GetTransferState
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4673   .text.SD_GetTransferState:00000014 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4678   .text.SD_StopTransfer:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4684   .text.SD_StopTransfer:00000000 SD_StopTransfer
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4717   .text.SD_StopTransfer:00000018 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4722   .text.SD_Erase:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4728   .text.SD_Erase:00000000 SD_Erase
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4974   .text.SD_Erase:000000e4 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4983   .text.SD_SendStatus:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:4989   .text.SD_SendStatus:00000000 SD_SendStatus
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5043   .text.SD_SendStatus:00000024 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5049   .text.SD_GetState:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5055   .text.SD_GetState:00000000 SD_GetState
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5112   .text.SD_GetStatus:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5118   .text.SD_GetStatus:00000000 SD_GetStatus
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5167   .text.SD_SendSDStatus:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5173   .text.SD_SendSDStatus:00000000 SD_SendSDStatus
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5491   .text.SD_SendSDStatus:00000144 $d
ARM GAS  C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s 			page 186


C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5499   .text.SD_GetCardStatus:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5505   .text.SD_GetCardStatus:00000000 SD_GetCardStatus
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5690   .text.SD_GetCardStatus:0000007c $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5900   .bss.SDSTATUS_Tab:00000000 SDSTATUS_Tab
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5695   .text.SD_ProcessIRQSrc:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5701   .text.SD_ProcessIRQSrc:00000000 SD_ProcessIRQSrc
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5767   .text.SD_ProcessIRQSrc:00000048 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5775   .text.SDIO_IRQHandler:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5781   .text.SDIO_IRQHandler:00000000 SDIO_IRQHandler
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5801   .text.convert_from_bytes_to_power_of_two:00000000 $t
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5807   .text.convert_from_bytes_to_power_of_two:00000000 convert_from_bytes_to_power_of_two
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5850   .bss.SDIO_DataInitStructure:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5857   .bss.SDIO_CmdInitStructure:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5864   .bss.SDIO_InitStructure:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5871   .bss.SDCardInfo:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5878   .bss.TransferEnd:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5888   .bss.TransferError:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5891   .bss.StopCondition:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5897   .bss.SDSTATUS_Tab:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5903   .bss.RCA:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5909   .bss.CID_Tab:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5915   .bss.CSD_Tab:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5921   .bss.CardType:00000000 $d
C:\Users\86157\AppData\Local\Temp\ccTVjIk2.s:5927   .bss.SD_BlockSize:00000000 $d

UNDEFINED SYMBOLS
RCC_AHBPeriphClockCmd
DMA_ClearFlag
DMA_Cmd
DMA_Init
SDIO_GetFlagStatus
SDIO_ClearFlag
SDIO_GetCommandResponse
SDIO_GetResponse
SDIO_SendCommand
SDIO_DataConfig
SDIO_ReadData
NVIC_Init
RCC_APB2PeriphClockCmd
GPIO_Init
SDIO_ClockCmd
SDIO_SetPowerState
SDIO_DeInit
DMA_DeInit
SDIO_Init
SDIO_GetPowerState
SDIO_ITConfig
SDIO_DMACmd
DMA_GetFlagStatus
SDIO_ClearITPendingBit
